var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());
/*! jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license*/
(function(e,t){var n,r,i=typeof t,o=e.document,a=e.location,s=e.jQuery,u=e.$,l={},c=[],p="1.9.1",f=c.concat,d=c.push,h=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,b=function(e,t){return new b.fn.init(e,t,r)},x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^[\],:{}\s]*$/,E=/(?:^|:|,)(?:\s*\[)+/g,S=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,j=/^-ms-/,D=/-([\da-z])/gi,L=function(e,t){return t.toUpperCase()},H=function(e){(o.addEventListener||"load"===e.type||"complete"===o.readyState)&&(q(),b.ready())},q=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(o.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))};b.fn=b.prototype={jquery:p,constructor:b,init:function(e,n,r){var i,a;if(!e){return this}if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n){return !n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}if(i[1]){if(n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0)),C.test(i[1])&&b.isPlainObject(n)){for(i in n){b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i])}}return this}if(a=o.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2]){return r.find(e)}this.length=1,this[0]=a}return this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||b.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++){if(null!=(o=arguments[u])){for(i in o){e=s[i],r=o[i],s!==r&&(c&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,a=e&&b.isArray(e)?e:[]):a=e&&b.isPlainObject(e)?e:{},s[i]=b.extend(c,a,r)):r!==t&&(s[i]=r))}}}return s},b.extend({noConflict:function(t){return e.$===b&&(e.$=u),t&&e.jQuery===b&&(e.jQuery=s),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?!--b.readyWait:!b.isReady){if(!o.body){return setTimeout(b.ready)}b.isReady=!0,e!==!0&&--b.readyWait>0||(n.resolveWith(o,[b]),b.fn.trigger&&b(o).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===b.type(e)},isArray:Array.isArray||function(e){return"array"===b.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==b.type(e)||e.nodeType||b.isWindow(e)){return !1}try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf")){return !1}}catch(n){return !1}var r;for(r in e){}return r===t||y.call(e,r)},isEmptyObject:function(e){var t;for(t in e){return !1}return !0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e){return null}"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=b.trim(n),n&&k.test(n.replace(S,"@").replace(A,"]").replace(E,"")))?Function("return "+n)():(b.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n){return null}try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(j,"ms-").replace(D,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++){if(r=t.apply(e[i],n),r===!1){break}}}else{for(i in e){if(r=t.apply(e[i],n),r===!1){break}}}}else{if(a){for(;o>i;i++){if(r=t.call(e[i],i,e[i]),r===!1){break}}}else{for(i in e){if(r=t.call(e[i],i,e[i]),r===!1){break}}}}return e},trim:v&&!v.call("\ufeff\u00a0")?function(e){return null==e?"":v.call(e)}:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?b.merge(n,"string"==typeof e?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(g){return g.call(t,e,n)}for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++){if(n in t&&t[n]===e){return n}}}return -1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r){for(;r>o;o++){e[i++]=n[o]}}else{while(n[o]!==t){e[i++]=n[o++]}}return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++){r=!!t(e[o],o),n!==r&&i.push(e[o])}return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a){for(;o>i;i++){r=t(e[i],i,n),null!=r&&(s[s.length]=r)}}else{for(i in e){r=t(e[i],i,n),null!=r&&(s[s.length]=r)}}return f.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),b.isFunction(e)?(r=h.call(arguments,2),i=function(){return e.apply(n||this,r.concat(h.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if("object"===b.type(r)){o=!0;for(u in r){b.access(e,n,u,r[u],!0,a,s)}}else{if(i!==t&&(o=!0,b.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(b(e),n)})),n)){for(;l>u;u++){n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)))}}}return o?e:c?n.call(e):l?n(e[0],r):a},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n){if(n=b.Deferred(),"complete"===o.readyState){setTimeout(b.ready)}else{if(o.addEventListener){o.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1)}else{o.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var r=!1;try{r=null==e.frameElement&&o.documentElement}catch(i){}r&&r.doScroll&&function a(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(a,50)}q(),b.ready()}}()}}}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=b(o);var _={};function F(e){var t=_[e]={};return b.each(e.match(w)||[],function(e,n){t[n]=!0}),t}b.Callbacks=function(e){e="string"==typeof e?_[e]||F(e):b.extend({},e);var n,r,i,o,a,s,u=[],l=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=u.length,n=!0;u&&o>a;a++){if(u[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}}n=!1,u&&(l?l.length&&c(l.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this},remove:function(){return u&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,u,r))>-1){u.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}}),this},has:function(e){return e?b.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=l=r=t,this},disabled:function(){return !u},lock:function(){return l=t,r||p.disable(),this},locked:function(){return !l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!l||(n?l.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return !!i}};return p},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,o){var a=o[0],s=b.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=h.call(arguments),r=n.length,i=1!==r||e&&b.isFunction(e.promise)?r:0,o=1===i?e:b.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?h.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1){for(s=Array(r),u=Array(r),l=Array(r);r>t;t++){n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i}}return i||o.resolveWith(l,n),o.promise()}}),b.support=function(){var t,n,r,a,s,u,l,c,p,f,d=o.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!r||!n.length){return{}}s=o.createElement("select"),l=s.appendChild(o.createElement("option")),a=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!a.value,optSelected:l.selected,enctype:!!o.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==o.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===o.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!l.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}a=o.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),u=o.createDocumentFragment(),u.appendChild(a),t.appendChecked=a.checked,t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in {submit:!0,change:!0,focusin:!0}){d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1}return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,b(function(){var n,r,a,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=o.getElementsByTagName("body")[0];u&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=d.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=p&&0===a[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==u.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(o.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(u.style.zoom=1)),u.removeChild(n),n=d=a=r=null)}),n=s=u=l=r=a=null,t}();var O=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function P(e,n,r,i){if(b.acceptData(e)){var o,a,s=b.expando,u="string"==typeof n,l=e.nodeType,p=l?b.cache:e,f=l?e[s]:e[s]&&s;if(f&&p[f]&&(i||p[f].data)||!u||r!==t){return f||(l?e[s]=f=c.pop()||b.guid++:f=s),p[f]||(p[f]={},l||(p[f].toJSON=b.noop)),("object"==typeof n||"function"==typeof n)&&(i?p[f]=b.extend(p[f],n):p[f].data=b.extend(p[f].data,n)),o=p[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[b.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[b.camelCase(n)])):a=o,a}}}function R(e,t,n){if(b.acceptData(e)){var r,i,o,a=e.nodeType,s=a?b.cache:e,u=a?e[b.expando]:b.expando;if(s[u]){if(t&&(o=n?s[u]:s[u].data)){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in o?t=[t]:(t=b.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++){delete o[t[r]]}if(!(n?$:b.isEmptyObject)(o)){return}}(n||(delete s[u].data,$(s[u])))&&(a?b.cleanData([e],!0):b.support.deleteExpando||s!=s.window?delete s[u]:s[u]=null)}}}b.extend({cache:{},expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!$(e)},data:function(e,t,n){return P(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return P(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType){return !1}var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return !t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,o=this[0],a=0,s=null;if(e===t){if(this.length&&(s=b.data(o),1===o.nodeType&&!b._data(o,"parsedAttrs"))){for(r=o.attributes;r.length>a;a++){i=r[a].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),W(o,i,s[i]))}b._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){b.data(this,e)}):b.access(this,function(n){return n===t?o?W(o,e,b.data(o,e)):null:(this.each(function(){b.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function W(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(B,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:O.test(r)?b.parseJSON(r):r}catch(o){}b.data(e,n,r)}else{r=t}}return r}function $(e){var t;for(t in e){if(("data"!==t||!b.isEmptyObject(e[t]))&&"toJSON"!==t){return !1}}return !0}b.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=b._data(e,n),r&&(!i||b.isArray(r)?i=b._data(e,n,b.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),o=b._queueHooks(e,t),a=function(){b.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=b.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--){r=b._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u))}return u(),o.promise(n)}});var I,z,X=/[\t\r\n]/g,U=/\r/g,V=/^(?:input|select|textarea|button|object)$/i,Y=/^(?:a|area)$/i,J=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,G=/^(?:checked|selected)$/i,Q=b.support.getSetAttribute,K=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(b.isFunction(e)){return this.each(function(t){b(this).addClass(e.call(this,t,this.className))})}if(u){for(t=(e||"").match(w)||[];s>a;a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):" ")){o=0;while(i=t[o++]){0>r.indexOf(" "+i+" ")&&(r+=i+" ")}n.className=b.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(b.isFunction(e)){return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))})}if(u){for(t=(e||"").match(w)||[];s>a;a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):"")){o=0;while(i=t[o++]){while(r.indexOf(" "+i+" ")>=0){r=r.replace(" "+i+" "," ")}}n.className=e?b.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var o,a=0,s=b(this),u=t,l=e.match(w)||[];while(o=l[a++]){u=r?u:!s.hasClass(o),s[u?"addClass":"removeClass"](o)}}else{(n===i||"boolean"===n)&&(this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||"")}})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++){if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0){return !0}}return !1},val:function(e){var n,r,i,o=this[0];if(arguments.length){return i=b.isFunction(e),this.each(function(n){var o,a=b(this);1===this.nodeType&&(o=i?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":b.isArray(o)&&(o=b.map(o,function(e){return null==e?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],r&&"set" in r&&r.set(this,o,"value")!==t||(this.value=o))})}if(o){return r=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()],r&&"get" in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(U,""):null==n?"":n)}}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return !t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;for(;s>u;u++){if(n=r[u],!(!n.selected&&u!==i||(b.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&b.nodeName(n.parentNode,"optgroup"))){if(t=b(n).val(),o){return t}a.push(t)}}return a},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u){return typeof e.getAttribute===i?b.prop(e,n,r):(a=1!==u||!b.isXMLDoc(e),a&&(n=n.toLowerCase(),o=b.attrHooks[n]||(J.test(n)?z:I)),r===t?o&&a&&"get" in o&&null!==(s=o.get(e,n))?s:(typeof e.getAttribute!==i&&(s=e.getAttribute(n)),null==s?t:s):null!==r?o&&a&&"set" in o&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r):(b.removeAttr(e,n),t))}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType){while(n=o[i++]){r=b.propFix[n]||n,J.test(n)?!Q&&G.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(Q?n:r)}}},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&"radio"===t&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s){return a=1!==s||!b.isXMLDoc(e),a&&(n=b.propFix[n]||n,o=b.propHooks[n]),r!==t?o&&"set" in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get" in o&&null!==(i=o.get(e,n))?i:e[n]}},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):V.test(e.nodeName)||Y.test(e.nodeName)&&e.href?0:t}}}}),z={get:function(e,n){var r=b.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),o="boolean"==typeof r?K&&Q?null!=i:G.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}},K&&Q||(b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,n,r){return b.nodeName(e,"input")?(e.defaultValue=n,t):I&&I.set(e,n,r)}}),Q||(I=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:I.get,set:function(e,t,n){I.set(e,""===t?!1:t,n)}},b.each(["width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,n){return b.isArray(n)?e.checked=b.inArray(b(e).val(),n)>=0:t}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return !0}function ot(){return !1}b.event={global:{},add:function(e,n,r,o,a){var s,u,l,c,p,f,d,h,g,m,y,v=b._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=b.guid++),(u=v.events)||(u=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof b===i||e&&b.event.triggered===e.type?t:b.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(w)||[""],l=n.length;while(l--){s=rt.exec(n[l])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),p=b.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=b.event.special[g]||{},d=b.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&b.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=u[g])||(h=u[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),b.event.global[g]=!0}e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,p,f,d,h,g,m=b.hasData(e)&&b._data(e);if(m&&(c=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--){if(s=rt.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=b.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;while(o--){a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a))}u&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||b.removeEvent(e,d,m.handle),delete c[d])}else{for(d in c){b.event.remove(e,d+t[l],n,r,!0)}}}b.isEmptyObject(c)&&(delete m.handle,b._removeData(e,"events"))}},trigger:function(n,r,i,a){var s,u,l,c,p,f,d,h=[i||o],g=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];if(l=f=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+b.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),u=0>g.indexOf(":")&&"on"+g,n=n[b.expando]?n:new b.Event(g,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:b.makeArray(r,[n]),p=b.event.special[g]||{},a||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!a&&!p.noBubble&&!b.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(l=l.parentNode);l;l=l.parentNode){h.push(l),f=l}f===(i.ownerDocument||o)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((l=h[d++])&&!n.isPropagationStopped()){n.type=d>1?c:p.bindType||g,s=(b._data(l,"events")||{})[n.type]&&b._data(l,"handle"),s&&s.apply(l,r),s=u&&l[u],s&&b.acceptData(l)&&s.apply&&s.apply(l,r)===!1&&n.preventDefault()}if(n.type=g,!(a||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===g&&b.nodeName(i,"a")||!b.acceptData(i)||!u||!i[g]||b.isWindow(i))){f=i[u],f&&(i[u]=null),b.event.triggered=g;try{i[g]()}catch(v){}b.event.triggered=t,f&&(i[u]=f)}return n.result}},dispatch:function(e){e=b.event.fix(e);var n,r,i,o,a,s=[],u=h.call(arguments),l=(b._data(this,"events")||{})[e.type]||[],c=b.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=b.event.handlers.call(this,e,l),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped()){(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type)){for(;l!=this;l=l.parentNode||this){if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],a=0;u>a;a++){i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?b(r,this).index(l)>=0:b.find(r,this,null,[l]).length),o[r]&&o.push(i)}o.length&&s.push({elem:l,handlers:o})}}}return n.length>u&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(e){if(e[b.expando]){return e}var t,n,r,i=e.type,a=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new b.Event(a),t=r.length;while(t--){n=r[t],e[n]=a[n]}return e.target||(e.target=a.srcElement||o),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,s=n.button,u=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||o,a=i.documentElement,r=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return b.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){var ae;try{ae=document.activeElement}catch(e){ae=document.body}if(this!==ae&&this.focus){try{return this.focus(),!1}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){return this===o.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,n){return this instanceof b.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&b.extend(this,n),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0,t):new b.Event(e,n)},b.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!b.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){return b.nodeName(this,"form")?!1:(b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return b.nodeName(this,"form")?!1:(b.event.remove(this,"._submit"),t)}}),b.support.changeBubbles||(b.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(b.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)})),!1):(b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e){this.on(a,n,r,e[a],o)}return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1){i=ot}else{if(!i){return this}}return 1===o&&(s=i,i=function(e){return b().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj){return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if("object"==typeof e){for(o in e){this.off(o,n,e[o])}return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?b.event.trigger(e,n,r,!0):t}}),function(e,t){var n,r,i,o,a,s,u,l,c,p,f,d,h,g,m,y,v,x="sizzle"+-new Date,w=e.document,T={},N=0,C=0,k=it(),E=it(),S=it(),A=typeof t,j=1<<31,D=[],L=D.pop,H=D.push,q=D.slice,M=D.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++){if(this[t]===e){return t}}return -1},_="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=F.replace("w","w#"),B="([*^$|!~]?=)",P="\\["+_+"*("+F+")"+_+"*(?:"+B+_+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+O+")|)|)"+_+"*\\]",R=":("+F+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+P.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+_+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_+"+$","g"),$=RegExp("^"+_+"*,"+_+"*"),I=RegExp("^"+_+"*([\\x20\\t\\r\\n\\f>+~])"+_+"*"),z=RegExp(R),X=RegExp("^"+O+"$"),U={ID:RegExp("^#("+F+")"),CLASS:RegExp("^\\.("+F+")"),NAME:RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:RegExp("^("+F.replace("w","w*")+")"),ATTR:RegExp("^"+P),PSEUDO:RegExp("^"+R),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_+"*(even|odd|(([+-]|)(\\d*)n|)"+_+"*(?:([+-]|)"+_+"*(\\d+)|))"+_+"*\\)|)","i"),needsContext:RegExp("^"+_+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_+"*((?:-\\d)?\\d*)"+_+"*\\)|)(?=[^-]|$)","i")},V=/[\x20\t\r\n\f]*[+~]/,Y=/^[^{]+\{\s*\[native code/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{q.call(w.documentElement.childNodes,0)[0].nodeType}catch(nt){q=function(e){var t,n=[];while(t=this[e++]){n.push(t)}return n}}function rt(e){return Y.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function ot(e){return e[x]=!0,e}function at(e){var t=p.createElement("div");try{return e(t)}catch(n){return !1}finally{t=null}}function st(e,t,n,r){var i,o,a,s,u,l,f,g,m,v;if((t?t.ownerDocument||t:w)!==p&&c(t),t=t||p,n=n||[],!e||"string"!=typeof e){return n}if(1!==(s=t.nodeType)&&9!==s){return[]}if(!d&&!r){if(i=J.exec(e)){if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode){return n}if(o.id===a){return n.push(o),n}}else{if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&y(t,o)&&o.id===a){return n.push(o),n}}}else{if(i[2]){return H.apply(n,q.call(t.getElementsByTagName(e),0)),n}if((a=i[3])&&T.getByClassName&&t.getElementsByClassName){return H.apply(n,q.call(t.getElementsByClassName(a),0)),n}}}if(T.qsa&&!h.test(e)){if(f=!0,g=x,m=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){l=ft(e),(f=t.getAttribute("id"))?g=f.replace(K,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",u=l.length;while(u--){l[u]=g+dt(l[u])}m=V.test(e)&&t.parentNode||t,v=l.join(",")}if(v){try{return H.apply(n,q.call(m.querySelectorAll(v),0)),n}catch(b){}finally{f||t.removeAttribute("id")}}}}return wt(e.replace(W,"$1"),t,n,r)}a=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},c=st.setDocument=function(e){var n=e?e.ownerDocument||e:w;return n!==p&&9===n.nodeType&&n.documentElement?(p=n,f=n.documentElement,d=a(n),T.tagNameNoComments=at(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.attributes=at(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),T.getByClassName=at(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),T.getByName=at(function(e){e.id=x+0,e.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>",f.insertBefore(e,f.firstChild);var t=n.getElementsByName&&n.getElementsByName(x).length===2+n.getElementsByName(x+0).length;return T.getIdNotName=!n.getElementById(x),f.removeChild(e),t}),i.attrHandle=at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==A&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},T.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==A&&!d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==A&&!d){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==A&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=T.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++]){1===n.nodeType&&r.push(n)}return r}return o},i.find.NAME=T.getByName&&function(e,n){return typeof n.getElementsByName!==A?n.getElementsByName(name):t},i.find.CLASS=T.getByClassName&&function(e,n){return typeof n.getElementsByClassName===A||d?t:n.getElementsByClassName(e)},g=[],h=[":focus"],(T.qsa=rt(n.querySelectorAll))&&(at(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+_+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||h.push(":checked")}),at(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&h.push("[*^$]="+_+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(T.matchesSelector=rt(m=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&at(function(e){T.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",R)}),h=RegExp(h.join("|")),g=RegExp(g.join("|")),y=rt(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return !0}}}return !1},v=f.compareDocumentPosition?function(e,t){var r;return e===t?(u=!0,0):(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===n||y(w,e)?-1:t===n||y(w,t)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t){return u=!0,0}if(!o||!a){return e===n?-1:t===n?1:o?-1:a?1:0}if(o===a){return ut(e,t)}r=e;while(r=r.parentNode){s.unshift(r)}r=t;while(r=r.parentNode){l.unshift(r)}while(s[i]===l[i]){i++}return i?ut(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},u=!1,[0,0].sort(v),T.detectDuplicates=u,p):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Z,"='$1']"),!(!T.matchesSelector||d||g&&g.test(t)||h.test(t))){try{var n=m.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType){return n}}catch(r){}}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},st.attr=function(e,t){var n;return(e.ownerDocument||e)!==p&&c(e),d||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):d||T.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},st.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,n=[],r=1,i=0;if(u=!T.detectDuplicates,e.sort(v),u){for(;t=e[r];r++){t===e[r-1]&&(i=n.push(r))}while(i--){e.splice(n[i],1)}}return e};function ut(e,t){var n=t&&e,r=n&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(r){return r}if(n){while(n=n.nextSibling){if(n===t){return -1}}}return e?1:-1}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ot(function(t){return t=+t,ot(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--){n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}})})}o=st.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent){return e.textContent}for(e=e.firstChild;e;e=e.nextSibling){n+=o(e)}}else{if(3===i||4===i){return e.nodeValue}}}else{for(;t=e[r];r++){n+=o(t)}}return n},i=st.selectors={cacheLength:50,createPseudo:ot,match:U,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return U.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&z.test(n)&&(t=ft(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return !0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[e+" "];return t||(t=RegExp("(^|"+_+")"+e+"("+_+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return !!e.parentNode}:function(t,n,u){var l,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){while(g){p=t;while(p=p[g]){if(s?p.nodeName.toLowerCase()===y:1===p.nodeType){return !1}}h=g="only"===e&&!h&&"nextSibling"}return !0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[x]||(m[x]={}),l=c[e]||[],d=l[0]===N&&l[1],f=l[0]===N&&l[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if(1===p.nodeType&&++f&&p===t){c[e]=[N,d,f];break}}}else{if(v&&(l=(t[x]||(t[x]={}))[e])&&l[0]===N){f=l[1]}else{while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[x]||(p[x]={}))[e]=[N,f]),p===t)){break}}}}return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ot(function(e,n){var i,o=r(e,t),a=o.length;while(a--){i=M.call(e,o[a]),e[i]=!(n[i]=o[a])}}):function(e){return r(e,0,n)}):r}},pseudos:{not:ot(function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[x]?ot(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--){(o=a[s])&&(e[s]=!(t[s]=o))}}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:ot(function(e){return function(t){return st(e,t).length>0}}),contains:ot(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ot(function(e){return X.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do{if(n=d?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang){return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}}while((t=t.parentNode)&&1===t.nodeType);return !1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType){return !1}}return !0},parent:function(e){return !i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){var n=0;for(;t>n;n+=2){e.push(n)}return e}),odd:pt(function(e,t){var n=1;for(;t>n;n+=2){e.push(n)}return e}),lt:pt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;){e.push(r)}return e}),gt:pt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;){e.push(r)}return e})}};for(n in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){i.pseudos[n]=lt(n)}for(n in {submit:!0,reset:!0}){i.pseudos[n]=ct(n)}function ft(e,t){var n,r,o,a,s,u,l,c=E[e+" "];if(c){return t?0:c.slice(0)}s=e,u=[],l=i.preFilter;while(s){(!n||(r=$.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=I.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length));for(a in i.filter){!(r=U[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length))}if(!n){break}}return t?s.length:s?st.error(e):E(e,u).slice(0)}function dt(e){var t=0,n=e.length,r="";for(;n>t;t++){r+=e[t].value}return r}function ht(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=C++;return t.first?function(t,n,r){while(t=t[i]){if(1===t.nodeType||o){return e(t,n,r)}}}:function(t,n,s){var u,l,c,p=N+" "+a;if(s){while(t=t[i]){if((1===t.nodeType||o)&&e(t,n,s)){return !0}}}else{while(t=t[i]){if(1===t.nodeType||o){if(c=t[x]||(t[x]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r){return u===!0}}else{if(l=c[i]=[p],l[1]=e(t,n,s)||r,l[1]===!0){return !0}}}}}}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--){if(!e[i](t,n,r)){return !1}}return !0}:e[0]}function mt(e,t,n,r,i){var o,a=[],s=0,u=e.length,l=null!=t;for(;u>s;s++){(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s))}return a}function yt(e,t,n,r,i,o){return r&&!r[x]&&(r=yt(r)),i&&!i[x]&&(i=yt(i,o)),ot(function(o,a,s,u){var l,c,p,f=[],d=[],h=a.length,g=o||xt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:mt(g,f,e,s,u),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,u),r){l=mt(y,d),r(l,[],s,u),c=l.length;while(c--){(p=l[c])&&(y[d[c]]=!(m[d[c]]=p))}}if(o){if(i||e){if(i){l=[],c=y.length;while(c--){(p=y[c])&&l.push(m[c]=p)}i(null,y=[],l,u)}c=y.length;while(c--){(p=y[c])&&(l=i?M.call(o,p):f[c])>-1&&(o[l]=!(a[l]=p))}}}else{y=mt(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):H.apply(a,y)}})}function vt(e){var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],u=a?1:0,c=ht(function(e){return e===t},s,!0),p=ht(function(e){return M.call(t,e)>-1},s,!0),f=[function(e,n,r){return !a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>u;u++){if(n=i.relative[e[u].type]){f=[ht(gt(f),n)]}else{if(n=i.filter[e[u].type].apply(null,e[u].matches),n[x]){for(r=++u;o>r;r++){if(i.relative[e[r].type]){break}}return yt(u>1&&gt(f),u>1&&dt(e.slice(0,u-1)).replace(W,"$1"),n,r>u&&vt(e.slice(u,r)),o>r&&vt(e=e.slice(r)),o>r&&dt(e))}f.push(n)}}return gt(f)}function bt(e,t){var n=0,o=t.length>0,a=e.length>0,s=function(s,u,c,f,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,T=l,C=s||a&&i.find.TAG("*",d&&u.parentNode||u),k=N+=null==T?1:Math.random()||0.1;for(w&&(l=u!==p&&u,r=n);null!=(h=C[b]);b++){if(a&&h){g=0;while(m=e[g++]){if(m(h,u,c)){f.push(h);break}}w&&(N=k,r=++n)}o&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,o&&b!==v){g=0;while(m=t[g++]){m(x,y,u,c)}if(s){if(v>0){while(b--){x[b]||y[b]||(y[b]=L.call(f))}}y=mt(y)}H.apply(f,y),w&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(f)}return w&&(N=k,l=T),x};return o?ot(s):s}s=st.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=ft(e)),n=t.length;while(n--){o=vt(t[n]),o[x]?r.push(o):i.push(o)}o=S(e,bt(i,r))}return o};function xt(e,t,n){var r=0,i=t.length;for(;i>r;r++){st(e,t[r],n)}return n}function wt(e,t,n,r){var o,a,u,l,c,p=ft(e);if(!r&&1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&!d&&i.relative[a[1].type]){if(t=i.find.ID(u.matches[0].replace(et,tt),t)[0],!t){return n}e=e.slice(a.shift().value.length)}o=U.needsContext.test(e)?0:a.length;while(o--){if(u=a[o],i.relative[l=u.type]){break}if((c=i.find[l])&&(r=c(u.matches[0].replace(et,tt),V.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),e=r.length&&dt(a),!e){return H.apply(n,q.call(r,0)),n}break}}}return s(e,p)(r,t,d,n,V.test(e)),n}i.pseudos.nth=i.pseudos.eq;function Tt(){}i.filters=Tt.prototype=i.pseudos,i.setFilters=new Tt,c(),st.attr=b.attr,b.find=st,b.expr=st.selectors,b.expr[":"]=b.expr.pseudos,b.unique=st.uniqueSort,b.text=st.getText,b.isXMLDoc=st.isXML,b.contains=st.contains}(e);var at=/Until$/,st=/^(?:parents|prev(?:Until|All))/,ut=/^.[^:#\[\.,]*$/,lt=b.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e){return r=this,this.pushStack(b(e).filter(function(){for(t=0;i>t;t++){if(b.contains(r[t],this)){return !0}}}))}for(n=[],t=0;i>t;t++){b.find(e,this[t],n)}return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++){if(b.contains(this,n[t])){return !0}}})},not:function(e){return this.pushStack(ft(this,e,!1))},filter:function(e){return this.pushStack(ft(this,e,!0))},is:function(e){return !!e&&("string"==typeof e?lt.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,o=[],a=lt.test(e)||"string"!=typeof e?b(e,t||this.context):0;for(;i>r;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&11!==n.nodeType){if(a?a.index(n)>-1:b.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}}return this.pushStack(o.length>1?b.unique(o):o)},index:function(e){return e?"string"==typeof e?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack;function pt(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return at.test(e)||(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),i=this.length>1&&!ct[e]?b.unique(i):i,this.length>1&&st.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!b(o).is(r))){1===o.nodeType&&i.push(o),o=o[n]}return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling){1===e.nodeType&&e!==t&&n.push(e)}return n}});function ft(e,t,n){if(t=t||0,b.isFunction(t)){return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n})}if(t.nodeType){return b.grep(e,function(e){return e===t===n})}if("string"==typeof t){var r=b.grep(e,function(e){return 1===e.nodeType});if(ut.test(t)){return b.filter(t,r,!n)}t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement){while(t.length){n.createElement(t.pop())}}return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Nt=/^(?:checkbox|radio)$/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(o),Dt=jt.appendChild(o.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e)){return this.each(function(t){b(this).wrapAll(e.call(this,t))})}if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType){e=e.firstChild}return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;null!=(n=this[r]);r++){(!e||b.filter(e,[n]).length>0)&&(t||1!==n.nodeType||b.cleanData(Ot(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Mt(Ot(n,"script")),n.parentNode.removeChild(n)))}return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&b.cleanData(Ot(e,!1));while(e.firstChild){e.removeChild(e.firstChild)}e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t){return 1===n.nodeType?n.innerHTML.replace(gt,""):t}if(!("string"!=typeof e||Tt.test(e)||!b.support.htmlSerialize&&mt.test(e)||!b.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++){n=this[r]||{},1===n.nodeType&&(b.cleanData(Ot(n,!1)),n.innerHTML=e)}n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return t||"string"==typeof e||(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=f.apply([],e);var i,o,a,s,u,l,c=0,p=this.length,d=this,h=p-1,g=e[0],m=b.isFunction(g);if(m||!(1>=p||"string"!=typeof g||b.support.checkClone)&&Ct.test(g)){return this.each(function(i){var o=d.eq(i);m&&(e[0]=g.call(this,i,n?o.html():t)),o.domManip(e,n,r)})}if(p&&(l=b.buildFragment(e,this[0].ownerDocument,!1,this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(n=n&&b.nodeName(i,"tr"),s=b.map(Ot(l,"script"),Ht),a=s.length;p>c;c++){o=l,c!==h&&(o=b.clone(o,!0,!0),a&&b.merge(s,Ot(o,"script"))),r.call(n&&b.nodeName(this[c],"table")?Lt(this[c],"tbody"):this[c],o,c)}if(a){for(u=s[s.length-1].ownerDocument,b.map(s,qt),c=0;a>c;c++){o=s[c],kt.test(o.type||"")&&!b._data(o,"globalEval")&&b.contains(u,o)&&(o.src?b.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((o.text||o.textContent||o.innerHTML||"").replace(St,"")))}}l=i=null}return this}});function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Ht(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Mt(e,t){var n,r=0;for(;null!=(n=e[r]);r++){b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}}function _t(e,t){if(1===t.nodeType&&b.hasData(e)){var n,r,i,o=b._data(e),a=b._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s){for(r=0,i=s[n].length;i>r;r++){b.event.add(t,n,s[n][r])}}}a.data&&(a.data=b.extend({},a.data))}}function Ft(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events){b.removeEvent(t,r,i.handle)}t.removeAttribute(b.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Nt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],o=b(e),a=o.length-1;for(;a>=r;r++){n=r===a?this:this.clone(!0),b(o[r])[t](n),d.apply(i,n.get())}return this.pushStack(i)}});function Ot(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s){for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++){!n||b.nodeName(o,n)?s.push(o):b.merge(s,Ot(o,n))}}return n===t||n&&b.nodeName(e,n)?b.merge([e],s):s}function Bt(e){Nt.test(e.type)&&(e.defaultChecked=e.checked)}b.extend({clone:function(e,t,n){var r,i,o,a,s,u=b.contains(e.ownerDocument,e);if(b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(b.support.noCloneEvent&&b.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e))){for(r=Ot(o),s=Ot(e),a=0;null!=(i=s[a]);++a){r[a]&&Ft(i,r[a])}}if(t){if(n){for(s=s||Ot(e),r=r||Ot(o),a=0;null!=(i=s[a]);a++){_t(i,r[a])}}else{_t(e,o)}}return r=Ot(o,"script"),r.length>0&&Mt(r,!u&&Ot(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,u,l,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++){if(o=e[h],o||0===o){if("object"===b.type(o)){b.merge(d,o.nodeType?[o]:o)}else{if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),u=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[u]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--){s=s.lastChild}if(!b.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!b.support.tbody){o="table"!==u||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--){b.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l)}}b.merge(d,s.childNodes),s.textContent="";while(s.firstChild){s.removeChild(s.firstChild)}s=f.lastChild}else{d.push(t.createTextNode(o))}}}}s&&f.removeChild(s),b.support.appendChecked||b.grep(Ot(d,"input"),Bt),h=0;while(o=d[h++]){if((!r||-1===b.inArray(o,r))&&(a=b.contains(o.ownerDocument,o),s=Ot(f.appendChild(o),"script"),a&&Mt(s),n)){i=0;while(o=s[i++]){kt.test(o.type||"")&&n.push(o)}}}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,u=b.expando,l=b.cache,p=b.support.deleteExpando,f=b.event.special;for(;null!=(n=e[s]);s++){if((t||b.acceptData(n))&&(o=n[u],a=o&&l[o])){if(a.events){for(r in a.events){f[r]?b.event.remove(n,r):b.removeEvent(n,r,a.handle)}}l[o]&&(delete l[o],p?delete n[u]:typeof n.removeAttribute!==i?n.removeAttribute(u):n[u]=null,c.push(o))}}}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+x+")(.*)$","i"),Yt=RegExp("^("+x+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+x+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e){return t}var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--){if(t=en[i]+n,t in e){return t}}return r}function nn(e,t){return e=t||e,"none"===b.css(e,"display")||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++){r=e[a],r.style&&(o[a]=b._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=b._data(r,"olddisplay",un(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display"))))}for(a=0;s>a;a++){r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"))}return e}b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,o,a={},s=0;if(b.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++){a[n[s]]=b.css(e,n[s],!1,o)}return a}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=b.camelCase(n),l=e.style;if(n=b.cssProps[u]||(b.cssProps[u]=tn(l,u)),s=b.cssHooks[n]||b.cssHooks[u],r===t){return s&&"get" in s&&(o=s.get(e,!1,i))!==t?o:l[n]}if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(b.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||b.cssNumber[u]||(r+="px"),b.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),s&&"set" in s&&(r=s.set(e,r,i))===t))){try{l[n]=r}catch(c){}}}},css:function(e,n,r,i){var o,a,s,u=b.camelCase(n);return n=b.cssProps[u]||(b.cssProps[u]=tn(e.style,u)),s=b.cssHooks[n]||b.cssHooks[u],s&&"get" in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||b.isNumeric(o)?o||0:a):a},swap:function(e,t,n,r){var i,o,a={};for(o in t){a[o]=e.style[o],e.style[o]=t[o]}i=n.apply(e,r||[]);for(o in t){e.style[o]=a[o]}return i}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s.getPropertyValue(n)||s[n]:t,l=e.style;return s&&(""!==u||b.contains(e.ownerDocument,e)||(u=b.style(e,n)),Yt.test(u)&&Ut.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):o.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),Yt.test(u)&&!zt.test(n)&&(i=l.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2){"margin"===n&&(a+=b.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=b.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=b.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=b.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=b.css(e,"border"+Zt[o]+"Width",!0,i)))}return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i)){return i}r=a&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function un(e){var t=o,n=Gt[e];return n||(n=ln(e,t),"none"!==n&&n||(Pt=(Pt||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=ln(e,t),Pt.detach()),Gt[e]=n),n}function ln(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}b.each(["height","width"],function(e,n){b.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(b.css(e,"display"))?b.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,i),i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===b.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,n){return n?b.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,n){b.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?b(e).position()[n]+"px":r):t}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!b.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||b.css(e,"display"))},b.expr.filters.visible=function(e){return !b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++){i[e+Zt[r]+t]=o[r]||o[r-2]||o[0]}return i}},Ut.test(e)||(b.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],o=function(e,t){t=b.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(e)||e.jquery&&!b.isPlainObject(e)){b.each(e,function(){o(this.name,this.value)})}else{for(r in e){gn(r,e[r],n,o)}}return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(b.isArray(t)){b.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)})}else{if(n||"object"!==b.type(t)){r(e,t)}else{for(i in t){gn(e+"["+i+"]",t[i],n,r)}}}}b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,yn,vn=b.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Cn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=b.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=a.href}catch(Ln){yn=o.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(b.isFunction(n)){while(r=o[i++]){"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}}}function qn(e,n,r,i){var o={},a=e===jn;function s(u){var l;return o[u]=!0,b.each(e[u]||[],function(e,u){var c=u(n,r,i);return"string"!=typeof c||a||o[c]?a?!(l=c):t:(n.dataTypes.unshift(c),s(c),!1)}),l}return s(n.dataTypes[0])||!o["*"]&&s("*")}function Mn(e,n){var r,i,o=b.ajaxSettings.flatOptions||{};for(i in n){n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i])}return r&&b.extend(!0,e,r),e}b.fn.load=function(e,n,r){if("string"!=typeof e&&Sn){return Sn.apply(this,arguments)}var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),b.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&b.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,o){return b.isFunction(r)&&(o=o||i,i=r,r=t),b.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Nn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Mn(Mn(e,b.ajaxSettings),t):Mn(b.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,u,l,c,p=b.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?b(f):b.event,h=b.Deferred(),g=b.Callbacks("once memory"),m=p.statusCode||{},y={},v={},x=0,T="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!c){c={};while(t=Tn.exec(a)){c[t[1].toLowerCase()]=t[2]}}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e){if(2>x){for(t in e){m[t]=[m[t],e[t]]}}else{N.always(e[N.status])}}return this},abort:function(e){var t=e||T;return l&&l.abort(t),k(0,t),this}};if(h.promise(N).complete=g.add,N.success=N.done,N.error=N.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=b.trim(p.dataType||"*").toLowerCase().match(w)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?80:443))==(mn[3]||("http:"===mn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),qn(An,p,n,N),2===x){return N}u=p.global,u&&0===b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Cn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(b.lastModified[o]&&N.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&N.setRequestHeader("If-None-Match",b.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&N.setRequestHeader("Content-Type",p.contentType),N.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers){N.setRequestHeader(i,p.headers[i])}if(p.beforeSend&&(p.beforeSend.call(f,N,p)===!1||2===x)){return N.abort()}T="abort";for(i in {success:1,error:1,complete:1}){N[i](p[i])}if(l=qn(jn,p,n,N)){N.readyState=1,u&&d.trigger("ajaxSend",[N,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){N.abort("timeout")},p.timeout));try{x=1,l.send(y,k)}catch(C){if(!(2>x)){throw C}k(-1,C)}}else{k(-1,"No Transport")}function k(e,n,r,i){var c,y,v,w,T,C=n;2!==x&&(x=2,s&&clearTimeout(s),l=t,a=i||"",N.readyState=e>0?4:0,r&&(w=_n(p,N,r)),e>=200&&300>e||304===e?(p.ifModified&&(T=N.getResponseHeader("Last-Modified"),T&&(b.lastModified[o]=T),T=N.getResponseHeader("etag"),T&&(b.etag[o]=T)),204===e?(c=!0,C="nocontent"):304===e?(c=!0,C="notmodified"):(c=Fn(p,w),C=c.state,y=c.data,v=c.error,c=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),N.status=e,N.statusText=(n||C)+"",c?h.resolveWith(f,[y,C,N]):h.rejectWith(f,[N,C,v]),N.statusCode(m),m=t,u&&d.trigger(c?"ajaxSuccess":"ajaxError",[N,p,c?y:v]),g.fireWith(f,[N,C]),u&&(d.trigger("ajaxComplete",[N,p]),--b.active||b.event.trigger("ajaxStop")))}return N},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}});function _n(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(s in c){s in r&&(n[c[s]]=r[s])}while("*"===l[0]){l.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"))}if(o){for(s in u){if(u[s]&&u[s].test(o)){l.unshift(s);break}}}if(l[0] in r){a=l[0]}else{for(s in r){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==l[0]&&l.unshift(a),r[a]):t}function Fn(e,t){var n,r,i,o,a={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1]){for(i in e.converters){a[i.toLowerCase()]=e.converters[i]}}for(;r=u[++s];){if("*"!==r){if("*"!==l&&l!==r){if(i=a[l+" "+r]||a["* "+r],!i){for(n in a){if(o=n.split(" "),o[1]===r&&(i=a[l+" "+o[0]]||a["* "+o[0]])){i===!0?i=a[n]:a[n]!==!0&&(r=o[0],u.splice(s--,0,r));break}}}if(i!==!0){if(i&&e["throws"]){t=i(t)}else{try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}}}l=r}}return{state:"success",data:t}}b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||b("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var On=[],Bn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=On.pop()||b.expando+"_"+vn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||b.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,On.push(o)),s&&b.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn){Pn[e](t,!0)}};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}b.ajaxSettings.xhr=e.ActiveXObject?function(){return !this.isLocal&&In()||zn()}:In,Rn=b.ajaxSettings.xhr(),b.support.cors=!!Rn&&"withCredentials" in Rn,Rn=b.support.ajax=!!Rn,Rn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields){for(s in n.xhrFields){u[s]=n.xhrFields[s]}}n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i){u.setRequestHeader(s,i[s])}}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,p;try{if(r&&(i||4===u.readyState)){if(r=t,a&&(u.onreadystatechange=b.noop,$n&&delete Pn[a]),i){4!==u.readyState&&u.abort()}else{p={},s=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(p.text=u.responseText);try{c=u.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}}catch(d){i||o(-1,d)}p&&o(s,c,p,l)},n.async?4===u.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},b(e).unload($n)),Pn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Yn.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(b.cssNumber[e]?"":"px"),"px"!==r&&s){s=b.css(i.elem,e,!0)||n||1;do{u=u||".5",s/=u,b.style(i.elem,e,s+r)}while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Qn[t]||[]).concat(Qn["*"]),i=0,o=r.length;for(;o>i;i++){if(r[i].call(e,t,n)){return}}})}function er(e,t,n){var r,i,o=0,a=Gn.length,s=b.Deferred().always(function(){delete u.elem}),u=function(){if(i){return !1}var t=Xn||Kn(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;for(;u>a;a++){l.tweens[a].run(o)}return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i){return this}for(i=!0;r>n;n++){l.tweens[n].run(1)}return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(tr(c,l.opts.specialEasing);a>o;o++){if(r=Gn[o].call(l,e,c,l.opts)){return r}}return Zn(l,c),b.isFunction(l.opts.start)&&l.opts.start.call(e,l),b.fx.timer(b.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function tr(e,t){var n,r,i,o,a;for(i in e){if(r=b.camelCase(i),o=t[r],n=e[i],b.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=b.cssHooks[r],a&&"expand" in a){n=a.expand(n),delete e[r];for(i in n){i in e||(e[i]=n[i],t[i]=o)}}else{t[r]=o}}}b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++){n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)}},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,u,l,c,p,f=this,d=e.style,h={},g=[],m=e.nodeType&&nn(e);n.queue||(c=b._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,p=c.empty.fire,c.empty.fire=function(){c.unqueued||p()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,b.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height" in t||"width" in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===b.css(e,"display")&&"none"===b.css(e,"float")&&(b.support.inlineBlockNeedsLayout&&"inline"!==un(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",b.support.shrinkWrapBlocks||f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t){if(a=t[i],Vn.exec(a)){if(delete t[i],u=u||"toggle"===a,a===(m?"hide":"show")){continue}g.push(i)}}if(o=g.length){s=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden" in s&&(m=s.hidden),u&&(s.hidden=!m),m?b(e).show():f.done(function(){b(e).hide()}),f.done(function(){var t;b._removeData(e,"fxshow");for(t in h){b.style(e,t,h[t])}});for(i=0;o>i;i++){r=g[i],l=f.createTween(r,m?s[r]:0),h[r]=s[r]||b.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=b.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[b.cssProps[e.prop]]||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),o=b.speed(t,n,r),a=function(){var t=er(this,b.extend({},e),o);a.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=b.timers,a=b._data(this);if(n){a[n]&&a[n].stop&&i(a[n])}else{for(n in a){a[n]&&a[n].stop&&Jn.test(n)&&i(a[n])}}for(n=o.length;n--;){o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1))}(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=b.timers,a=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;){o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1))}for(t=0;a>t;t++){r[t]&&r[t].finish&&r[t].finish.call(this)}delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t){n=Zt[i],r["margin"+n]=r["padding"+n]=e}return t&&(r.opacity=r.width=e),r}b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};return r.duration=b.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;for(Xn=b.now();n.length>r;r++){e=n[r],e()||n[r]!==e||n.splice(r--,1)}n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Un||(Un=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Un),Un=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length){return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)})}var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s){return n=s.documentElement,b.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o}},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");"static"===r&&(e.style.position="relative");var i=b(e),o=i.offset(),a=b.css(e,"top"),s=b.css(e,"left"),u=("absolute"===r||"fixed"===r)&&b.inArray("auto",[a,s])>-1,l={},c={},p,f;u?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),b.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(l.top=t.top-o.top+p),null!=t.left&&(l.left=t.left-o.left+f),"using" in t?t.using.call(e,l):i.css(l)}},b.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===b.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.documentElement;while(e&&!b.nodeName(e,"html")&&"static"===b.css(e,"position")){e=e.offsetParent}return e||o.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?b(a).scrollLeft():o,r?o:b(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return b.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return b.access(this,function(n,r,i){var o;return b.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?b.css(n,r,s):b.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=b,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})})(window);
var matched,browser;jQuery.uaMatch=function(b){b=b.toLowerCase();b=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}};matched=jQuery.uaMatch(navigator.userAgent);browser={};matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version);browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0);jQuery.browser=browser;
/*! jQuery UI - v1.10.3 - 2013-08-30
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.resizable.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.slider.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
(function(g,d){function c(k,j){var e,p,l,m=k.nodeName.toLowerCase();return"area"===m?(e=k.parentNode,p=e.name,k.href&&p&&"map"===e.nodeName.toLowerCase()?(l=g("img[usemap=#"+p+"]")[0],!!l&&f(l)):!1):(/input|select|textarea|button|object/.test(m)?!k.disabled:"a"===m?k.href||j:j)&&f(k)}function f(a){return g.expr.filters.visible(a)&&!g(a).parents().addBack().filter(function(){return"hidden"===g.css(this,"visibility")}).length}var b=0,h=/^ui-id-\d+$/;g.ui=g.ui||{},g.extend(g.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),g.fn.extend({focus:function(a){return function(e,j){return"number"==typeof e?this.each(function(){var i=this;setTimeout(function(){g(i).focus(),j&&j.call(i)},e)}):a.apply(this,arguments)}}(g.fn.focus),scrollParent:function(){var a;return a=g.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(g.css(this,"position"))&&/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?g(document):a},zIndex:function(j){if(j!==d){return this.css("zIndex",j)}if(this.length){for(var k,e,l=g(this[0]);l.length&&l[0]!==document;){if(k=l.css("position"),("absolute"===k||"relative"===k||"fixed"===k)&&(e=parseInt(l.css("zIndex"),10),!isNaN(e)&&0!==e)){return e}l=l.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})},removeUniqueId:function(){return this.each(function(){h.test(this.id)&&g(this).removeAttr("id")})}}),g.extend(g.expr[":"],{data:g.expr.createPseudo?g.expr.createPseudo(function(a){return function(e){return !!g.data(e,a)}}):function(e,a,j){return !!g.data(e,j[3])},focusable:function(a){return c(a,!isNaN(g.attr(a,"tabindex")))},tabbable:function(i){var j=g.attr(i,"tabindex"),e=isNaN(j);return(e||j>=0)&&c(i,!e)}}),g("<a>").outerWidth(1).jquery||g.each(["Width","Height"],function(j,k){function e(q,o,r,n){return g.each(p,function(){o-=parseFloat(g.css(q,"padding"+this))||0,r&&(o-=parseFloat(g.css(q,"border"+this+"Width"))||0),n&&(o-=parseFloat(g.css(q,"margin"+this))||0)}),o}var p="Width"===k?["Left","Right"]:["Top","Bottom"],l=k.toLowerCase(),m={innerWidth:g.fn.innerWidth,innerHeight:g.fn.innerHeight,outerWidth:g.fn.outerWidth,outerHeight:g.fn.outerHeight};g.fn["inner"+k]=function(a){return a===d?m["inner"+k].call(this):this.each(function(){g(this).css(l,e(this,a)+"px")})},g.fn["outer"+k]=function(n,a){return"number"!=typeof n?m["outer"+k].call(this,n):this.each(function(){g(this).css(l,e(this,n,!0,a)+"px")})}}),g.fn.addBack||(g.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),g("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(g.fn.removeData=function(a){return function(e){return arguments.length?a.call(this,g.camelCase(e)):a.call(this)}}(g.fn.removeData)),g.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),g.support.selectstart="onselectstart" in document.createElement("div"),g.fn.extend({disableSelection:function(){return this.bind((g.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),g.extend(g.ui,{plugin:{add:function(k,j,l){var e,m=g.ui[k].prototype;for(e in l){m.plugins[e]=m.plugins[e]||[],m.plugins[e].push([j,l[e]])}},call:function(n,l,k){var m,j=n.plugins[l];if(j&&n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType){for(m=0;j.length>m;m++){n.options[j[m][0]]&&j[m][1].apply(n.element,k)}}}},hasScroll:function(k,j){if("hidden"===g(k).css("overflow")){return !1}var l=j&&"left"===j?"scrollLeft":"scrollTop",e=!1;return k[l]>0?!0:(k[l]=1,e=k[l]>0,k[l]=0,e)}})})(jQuery);(function(d,b){var a=0,c=Array.prototype.slice,f=d.cleanData;d.cleanData=function(h){for(var g,j=0;null!=(g=h[j]);j++){try{d(g).triggerHandler("remove")}catch(e){}}f(h)},d.widget=function(m,v,j){var q,e,g,p,k={},t=m.split(".")[0];m=m.split(".")[1],q=t+"-"+m,j||(j=v,v=d.Widget),d.expr[":"][q.toLowerCase()]=function(h){return !!d.data(h,q)},d[t]=d[t]||{},e=d[t][m],g=d[t][m]=function(l,h){return this._createWidget?(arguments.length&&this._createWidget(l,h),b):new g(l,h)},d.extend(g,e,{version:j.version,_proto:d.extend({},j),_childConstructors:[]}),p=new v,p.options=d.widget.extend({},p.options),d.each(j,function(h,l){return d.isFunction(l)?(k[h]=function(){var n=function(){return v.prototype[h].apply(this,arguments)},i=function(o){return v.prototype[h].apply(this,o)};return function(){var r,u=this._super,o=this._superApply;return this._super=n,this._superApply=i,r=l.apply(this,arguments),this._super=u,this._superApply=o,r}}(),b):(k[h]=l,b)}),g.prototype=d.widget.extend(p,{widgetEventPrefix:e?p.widgetEventPrefix:m},k,{constructor:g,namespace:t,widgetName:m,widgetFullName:q}),e?(d.each(e._childConstructors,function(l,h){var n=h.prototype;d.widget(n.namespace+"."+n.widgetName,g,h._proto)}),delete e._childConstructors):v._childConstructors.push(g),d.widget.bridge(m,g)},d.widget.extend=function(g){for(var m,e,k=c.call(arguments,1),l=0,j=k.length;j>l;l++){for(m in k[l]){e=k[l][m],k[l].hasOwnProperty(m)&&e!==b&&(g[m]=d.isPlainObject(e)?d.isPlainObject(g[m])?d.widget.extend({},g[m],e):d.widget.extend({},e):e)}}return g},d.widget.bridge=function(g,h){var e=h.prototype.widgetFullName||g;d.fn[g]=function(k){var m="string"==typeof k,j=c.call(arguments,1),i=this;return k=!m&&j.length?d.widget.extend.apply(null,[k].concat(j)):k,m?this.each(function(){var l,o=d.data(this,e);return o?d.isFunction(o[k])&&"_"!==k.charAt(0)?(l=o[k].apply(o,j),l!==o&&l!==b?(i=l&&l.jquery?i.pushStack(l.get()):l,!1):b):d.error("no such method '"+k+"' for "+g+" widget instance"):d.error("cannot call methods on "+g+" prior to initialization; attempted to call method '"+k+"'")}):this.each(function(){var l=d.data(this,e);l?l.option(k||{})._init():d.data(this,e,new h(k,this))}),i}},d.Widget=function(){},d.Widget._childConstructors=[],d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,g){g=d(g||this.defaultElement||this)[0],this.element=d(g),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=d.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=d(),this.hoverable=d(),this.focusable=d(),g!==this&&(d.data(g,this.widgetFullName,this),this._on(!0,this.element,{remove:function(h){h.target===g&&this.destroy()}}),this.document=d(g.style?g.ownerDocument:g.document||g),this.window=d(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:d.noop,_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(d.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:d.noop,widget:function(){return this.element},option:function(g,h){var l,e,j,k=g;if(0===arguments.length){return d.widget.extend({},this.options)}if("string"==typeof g){if(k={},l=g.split("."),g=l.shift(),l.length){for(e=k[g]=d.widget.extend({},this.options[g]),j=0;l.length-1>j;j++){e[l[j]]=e[l[j]]||{},e=e[l[j]]}if(g=l.pop(),h===b){return e[g]===b?null:e[g]}e[g]=h}else{if(h===b){return this.options[g]===b?null:this.options[g]}k[g]=h}}return this._setOptions(k),this},_setOptions:function(h){var g;for(g in h){this._setOption(g,h[g])}return this},_setOption:function(h,g){return this.options[h]=g,"disabled"===h&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!g).attr("aria-disabled",g),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(g,h,k){var e,j=this;"boolean"!=typeof g&&(k=h,h=g,g=!1),k?(h=e=d(h),this.bindings=this.bindings.add(h)):(k=h,h=this.element,e=this.widget()),d.each(k,function(s,q){function p(){return g||j.options.disabled!==!0&&!d(this).hasClass("ui-state-disabled")?("string"==typeof q?j[q]:q).apply(j,arguments):b}"string"!=typeof q&&(p.guid=q.guid=q.guid||p.guid||d.guid++);var i=s.match(/^(\w+)\s*(.*)$/),m=i[1]+j.eventNamespace,r=i[2];r?e.delegate(r,m,p):h.bind(m,p)})},_off:function(h,g){g=(g||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,h.unbind(g).undelegate(g)},_delay:function(k,h){function g(){return("string"==typeof k?j[k]:k).apply(j,arguments)}var j=this;return setTimeout(g,h||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(g){d(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){d(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(g){d(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){d(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(h,g,j){var l,e,k=this.options[h];if(j=j||{},g=d.Event(g),g.type=(h===this.widgetEventPrefix?h:this.widgetEventPrefix+h).toLowerCase(),g.target=this.element[0],e=g.originalEvent){for(l in e){l in g||(g[l]=e[l])}}return this.element.trigger(g,j),!(d.isFunction(k)&&k.apply(this.element[0],[g].concat(j))===!1||g.isDefaultPrevented())}},d.each({show:"fadeIn",hide:"fadeOut"},function(g,e){d.Widget.prototype["_"+g]=function(i,l,h){"string"==typeof l&&(l={effect:l});var j,k=l?l===!0||"number"==typeof l?e:l.effect||e:g;l=l||{},"number"==typeof l&&(l={duration:l}),j=!d.isEmptyObject(l),l.complete=h,l.delay&&i.delay(l.delay),j&&d.effects&&d.effects.effect[k]?i[g](l):k!==g&&i[k]?i[k](l.duration,l.easing,h):i.queue(function(m){d(this)[g](),h&&h.call(i[0]),m()})}})})(jQuery);(function(b){var a=!1;b(document).mouseup(function(){a=!1}),b.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){return !0===b.data(d.target,c.widgetName+".preventClickEvent")?(b.removeData(d.target,c.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!a){this._mouseStarted&&this._mouseUp(d),this._mouseDownEvent=d;var e=this,f=1===d.which,c="string"==typeof this.options.cancel&&d.target.nodeName?b(d.target).closest(this.options.cancel).length:!1;return f&&!c&&this._mouseCapture(d)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(d)!==!1,!this._mouseStarted)?(d.preventDefault(),!0):(!0===b.data(d.target,this.widgetName+".preventClickEvent")&&b.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return e._mouseMove(g)},this._mouseUpDelegate=function(g){return e._mouseUp(g)},b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),d.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(c){return b.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button?this._mouseUp(c):this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1,this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted)},_mouseUp:function(c){return b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&b.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})})(jQuery);(function(C,x){function q(c,d,a){return[parseFloat(c[0])*(g.test(c[0])?d/100:1),parseFloat(c[1])*(g.test(c[1])?a/100:1)]}function D(c,a){return parseInt(C.css(c,a),10)||0}function k(c){var a=c[0];return 9===a.nodeType?{width:c.width(),height:c.height(),offset:{top:0,left:0}}:C.isWindow(a)?{width:c.width(),height:c.height(),offset:{top:c.scrollTop(),left:c.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:c.outerWidth(),height:c.outerHeight(),offset:c.offset()}}C.ui=C.ui||{};var A,j=Math.max,b=Math.abs,v=Math.round,m=/left|center|right/,z=/top|center|bottom/,B=/[\+\-]\d+(\.[\d]+)?%?/,y=/^\w+/,g=/%$/,w=C.fn.position;C.position={scrollbarWidth:function(){if(A!==x){return A}var a,c,e=C("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),d=e.children()[0];return C("body").append(e),a=d.offsetWidth,e.css("overflow","scroll"),c=d.offsetWidth,a===c&&(c=e[0].clientWidth),e.remove(),A=a-c},getScrollInfo:function(h){var d=h.isWindow?"":h.element.css("overflow-x"),f=h.isWindow?"":h.element.css("overflow-y"),l="scroll"===d||"auto"===d&&h.width<h.element[0].scrollWidth,c="scroll"===f||"auto"===f&&h.height<h.element[0].scrollHeight;return{width:c?C.position.scrollbarWidth():0,height:l?C.position.scrollbarWidth():0}},getWithinInfo:function(d){var a=C(d||window),c=C.isWindow(a[0]);return{element:a,isWindow:c,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c?a.width():a.outerWidth(),height:c?a.height():a.outerHeight()}}},C.fn.position=function(i){if(!i||!i.of){return w.apply(this,arguments)}i=C.extend({},i);var r,c,d,h,u,n,t=C(i.of),l=C.position.getWithinInfo(i.within),s=C.position.getScrollInfo(l),o=(i.collision||"flip").split(" "),f={};return n=k(t),t[0].preventDefault&&(i.at="left top"),c=n.width,d=n.height,h=n.offset,u=C.extend({},h),C.each(["my","at"],function(){var e,a,p=(i[this]||"").split(" ");1===p.length&&(p=m.test(p[0])?p.concat(["center"]):z.test(p[0])?["center"].concat(p):["center","center"]),p[0]=m.test(p[0])?p[0]:"center",p[1]=z.test(p[1])?p[1]:"center",e=B.exec(p[0]),a=B.exec(p[1]),f[this]=[e?e[0]:0,a?a[0]:0],i[this]=[y.exec(p[0])[0],y.exec(p[1])[0]]}),1===o.length&&(o[1]=o[0]),"right"===i.at[0]?u.left+=c:"center"===i.at[0]&&(u.left+=c/2),"bottom"===i.at[1]?u.top+=d:"center"===i.at[1]&&(u.top+=d/2),r=q(f.at,c,d),u.left+=r[0],u.top+=r[1],this.each(function(){var p,E,J=C(this),L=J.outerWidth(),I=J.outerHeight(),G=D(this,"marginLeft"),K=D(this,"marginTop"),a=L+G+D(this,"marginRight")+s.width,F=I+K+D(this,"marginBottom")+s.height,e=C.extend({},u),H=q(f.my,J.outerWidth(),J.outerHeight());"right"===i.my[0]?e.left-=L:"center"===i.my[0]&&(e.left-=L/2),"bottom"===i.my[1]?e.top-=I:"center"===i.my[1]&&(e.top-=I/2),e.left+=H[0],e.top+=H[1],C.support.offsetFractions||(e.left=v(e.left),e.top=v(e.top)),p={marginLeft:G,marginTop:K},C.each(["left","top"],function(M,N){C.ui.position[o[M]]&&C.ui.position[o[M]][N](e,{targetWidth:c,targetHeight:d,elemWidth:L,elemHeight:I,collisionPosition:p,collisionWidth:a,collisionHeight:F,offset:[r[0]+H[0],r[1]+H[1]],my:i.my,at:i.at,within:l,elem:J})}),i.using&&(E=function(O){var N=h.left-e.left,Q=N+c-L,R=h.top-e.top,M=R+d-I,P={target:{element:t,left:h.left,top:h.top,width:c,height:d},element:{element:J,left:e.left,top:e.top,width:L,height:I},horizontal:0>Q?"left":N>0?"right":"center",vertical:0>M?"top":R>0?"bottom":"middle"};L>c&&c>b(N+Q)&&(P.horizontal="center"),I>d&&d>b(R+M)&&(P.vertical="middle"),P.important=j(b(N),b(Q))>j(b(R),b(M))?"horizontal":"vertical",i.using.call(this,O,P)}),J.offset(C.extend(e,{using:E}))})},C.ui.position={fit:{left:function(F,u){var o,G=u.within,d=G.isWindow?G.scrollLeft:G.offset.left,E=G.width,c=F.left-u.collisionPosition.marginLeft,p=d-c,f=c+u.collisionWidth-E-d;u.collisionWidth>E?p>0&&0>=f?(o=F.left+p+u.collisionWidth-E-d,F.left+=p-o):F.left=f>0&&0>=p?d:p>f?d+E-u.collisionWidth:d:p>0?F.left+=p:f>0?F.left-=f:F.left=j(F.left-c,F.left)},top:function(F,u){var o,G=u.within,d=G.isWindow?G.scrollTop:G.offset.top,E=u.within.height,c=F.top-u.collisionPosition.marginTop,p=d-c,f=c+u.collisionHeight-E-d;u.collisionHeight>E?p>0&&0>=f?(o=F.top+p+u.collisionHeight-E-d,F.top+=p-o):F.top=f>0&&0>=p?d:p>f?d+E-u.collisionHeight:d:p>0?F.top+=p:f>0?F.top-=f:F.top=j(F.top-c,F.top)}},flip:{left:function(P,K){var H,Q,F=K.within,N=F.offset.left+F.scrollLeft,E=F.width,I=F.isWindow?F.scrollLeft:F.offset.left,G=P.left-K.collisionPosition.marginLeft,M=G-I,O=G+K.collisionWidth-E-I,L="left"===K.my[0]?-K.elemWidth:"right"===K.my[0]?K.elemWidth:0,r="left"===K.at[0]?K.targetWidth:"right"===K.at[0]?-K.targetWidth:0,J=-2*K.offset[0];0>M?(H=P.left+L+r+J+K.collisionWidth-E-N,(0>H||b(M)>H)&&(P.left+=L+r+J)):O>0&&(Q=P.left-K.collisionPosition.marginLeft+L+r+J-I,(Q>0||O>b(Q))&&(P.left+=L+r+J))},top:function(Q,L){var I,R,F=L.within,O=F.offset.top+F.scrollTop,E=F.height,J=F.isWindow?F.scrollTop:F.offset.top,H=Q.top-L.collisionPosition.marginTop,N=H-J,P=H+L.collisionHeight-E-J,M="top"===L.my[1],r=M?-L.elemHeight:"bottom"===L.my[1]?L.elemHeight:0,K="top"===L.at[1]?L.targetHeight:"bottom"===L.at[1]?-L.targetHeight:0,G=-2*L.offset[1];0>N?(R=Q.top+r+K+G+L.collisionHeight-E-O,Q.top+r+K+G>N&&(0>R||b(N)>R)&&(Q.top+=r+K+G)):P>0&&(I=Q.top-L.collisionPosition.marginTop+r+K+G-J,Q.top+r+K+G>P&&(I>0||P>b(I))&&(Q.top+=r+K+G))}},flipfit:{left:function(){C.ui.position.flip.left.apply(this,arguments),C.ui.position.fit.left.apply(this,arguments)},top:function(){C.ui.position.flip.top.apply(this,arguments),C.ui.position.fit.top.apply(this,arguments)}}},function(){var l,d,f,t,c,p=document.getElementsByTagName("body")[0],h=document.createElement("div");l=document.createElement(p?"div":"body"),f={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},p&&C.extend(f,{position:"absolute",left:"-1000px",top:"-1000px"});for(c in f){l.style[c]=f[c]}l.appendChild(h),d=p||document.documentElement,d.insertBefore(l,d.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",t=C(h).offset().left,C.support.offsetFractions=t>10&&11>t,l.innerHTML="",d.removeChild(l)}()})(jQuery);(function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(c){var b=this.options;return this.helper||b.disabled||a(c.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(c),this.handle?(a(b.iframeFix===!0?"iframe":b.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(c){var b=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),this._setContainment(),this._trigger("start",c)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c),!0)},_mouseDrag:function(c,b){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(c),this.positionAbs=this._convertPositionTo("absolute"),!b){var d=this._uiHash();if(this._trigger("drag",c,d)===!1){return this._mouseUp({}),!1}this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,c),!1},_mouseStop:function(c){var b=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,c)),this.dropped&&(d=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){b._trigger("stop",c)!==!1&&b._clear()}):this._trigger("stop",c)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(c){var b=this.options,d=a.isFunction(b.helper)?a(b.helper.apply(this.element[0],[c])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left" in b&&(this.offset.click.left=b.left+this.margins.left),"right" in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top" in b&&(this.offset.click.top=b.top+this.margins.top),"bottom" in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,b,d,e=this.options;return e.containment?"window"===e.containment?(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===e.containment?(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):e.containment.constructor===Array?(this.containment=e.containment,undefined):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),b=a(e.containment),d=b[0],d&&(c="hidden"!==b.css("overflow"),this.containment=[(parseInt(b.css("borderLeftWidth"),10)||0)+(parseInt(b.css("paddingLeft"),10)||0),(parseInt(b.css("borderTopWidth"),10)||0)+(parseInt(b.css("paddingTop"),10)||0),(c?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(b.css("borderRightWidth"),10)||0)-(parseInt(b.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(b.css("borderBottomWidth"),10)||0)-(parseInt(b.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=b),undefined):(this.containment=null,undefined)},_convertPositionTo:function(c,b){b||(b=this.position);var d="absolute"===c?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()}),{top:b.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:b.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}},_generatePosition:function(k){var f,m,d,j,c=this.options,b="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=k.pageX,e=k.pageY;return this.offset.scroll||(this.offset.scroll={top:b.scrollTop(),left:b.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(m=this.relative_container.offset(),f=[this.containment[0]+m.left,this.containment[1]+m.top,this.containment[2]+m.left,this.containment[3]+m.top]):f=this.containment,k.pageX-this.offset.click.left<f[0]&&(g=f[0]+this.offset.click.left),k.pageY-this.offset.click.top<f[1]&&(e=f[1]+this.offset.click.top),k.pageX-this.offset.click.left>f[2]&&(g=f[2]+this.offset.click.left),k.pageY-this.offset.click.top>f[3]&&(e=f[3]+this.offset.click.top)),c.grid&&(d=c.grid[1]?this.originalPageY+Math.round((e-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,e=f?d-this.offset.click.top>=f[1]||d-this.offset.click.top>f[3]?d:d-this.offset.click.top>=f[1]?d-c.grid[1]:d+c.grid[1]:d,j=c.grid[0]?this.originalPageX+Math.round((g-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,g=f?j-this.offset.click.left>=f[0]||j-this.offset.click.left>f[2]?j:j-this.offset.click.left>=f[0]?j-c.grid[0]:j+c.grid[0]:j)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(c,b,d){return d=d||this._uiHash(),a.ui.plugin.call(this,c,[b,d]),"drag"===c&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,c,b,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(d,c){var e=a(this).data("ui-draggable"),f=e.options,b=a.extend({},c,{item:e.element});e.sortables=[],a(f.connectToSortable).each(function(){var g=a.data(this,"ui-sortable");g&&!g.options.disabled&&(e.sortables.push({instance:g,shouldRevert:g.options.revert}),g.refreshPositions(),g._trigger("activate",d,b))})},stop:function(c,b){var d=a(this).data("ui-draggable"),e=a.extend({},b,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(c),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",c,e))})},drag:function(c,b){var d=a(this).data("ui-draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return b.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,!0),this.instance._mouseStart(c,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",c),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(c)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",c),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),b=a(this).data("ui-draggable").options;c.css("cursor")&&(b._cursor=c.css("cursor")),c.css("cursor",b.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(c,b){var d=a(b.helper),e=a(this).data("ui-draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(c,b){var d=a(this).data("ui-draggable").options;d._opacity&&a(b.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(c){var b=a(this).data("ui-draggable"),d=b.options,e=!1;b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(b.overflowOffset.top+b.scrollParent[0].offsetHeight-c.pageY<d.scrollSensitivity?b.scrollParent[0].scrollTop=e=b.scrollParent[0].scrollTop+d.scrollSpeed:c.pageY-b.overflowOffset.top<d.scrollSensitivity&&(b.scrollParent[0].scrollTop=e=b.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(b.overflowOffset.left+b.scrollParent[0].offsetWidth-c.pageX<d.scrollSensitivity?b.scrollParent[0].scrollLeft=e=b.scrollParent[0].scrollLeft+d.scrollSpeed:c.pageX-b.overflowOffset.left<d.scrollSensitivity&&(b.scrollParent[0].scrollLeft=e=b.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(c.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(c.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(c.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(c.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,c)}}),a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),b=c.options;c.snapElements=[],a(b.snap.constructor!==String?b.snap.items||":data(ui-draggable)":b.snap).each(function(){var d=a(this),e=d.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),top:e.top,left:e.left})})},drag:function(q,E){var w,B,L,A,x,F,D,k,J,I,z=a(this).data("ui-draggable"),H=z.options,C=H.snapTolerance,G=E.offset.left,j=G+z.helperProportions.width,K=E.offset.top,e=K+z.helperProportions.height;for(J=z.snapElements.length-1;J>=0;J--){x=z.snapElements[J].left,F=x+z.snapElements[J].width,D=z.snapElements[J].top,k=D+z.snapElements[J].height,x-C>j||G>F+C||D-C>e||K>k+C||!a.contains(z.snapElements[J].item.ownerDocument,z.snapElements[J].item)?(z.snapElements[J].snapping&&z.options.snap.release&&z.options.snap.release.call(z.element,q,a.extend(z._uiHash(),{snapItem:z.snapElements[J].item})),z.snapElements[J].snapping=!1):("inner"!==H.snapMode&&(w=C>=Math.abs(D-e),B=C>=Math.abs(k-K),L=C>=Math.abs(x-j),A=C>=Math.abs(F-G),w&&(E.position.top=z._convertPositionTo("relative",{top:D-z.helperProportions.height,left:0}).top-z.margins.top),B&&(E.position.top=z._convertPositionTo("relative",{top:k,left:0}).top-z.margins.top),L&&(E.position.left=z._convertPositionTo("relative",{top:0,left:x-z.helperProportions.width}).left-z.margins.left),A&&(E.position.left=z._convertPositionTo("relative",{top:0,left:F}).left-z.margins.left)),I=w||B||L||A,"outer"!==H.snapMode&&(w=C>=Math.abs(D-K),B=C>=Math.abs(k-e),L=C>=Math.abs(x-G),A=C>=Math.abs(F-j),w&&(E.position.top=z._convertPositionTo("relative",{top:D,left:0}).top-z.margins.top),B&&(E.position.top=z._convertPositionTo("relative",{top:k-z.helperProportions.height,left:0}).top-z.margins.top),L&&(E.position.left=z._convertPositionTo("relative",{top:0,left:x}).left-z.margins.left),A&&(E.position.left=z._convertPositionTo("relative",{top:0,left:F-z.helperProportions.width}).left-z.margins.left)),!z.snapElements[J].snapping&&(w||B||L||A||I)&&z.options.snap.snap&&z.options.snap.snap.call(z.element,q,a.extend(z._uiHash(),{snapItem:z.snapElements[J].item})),z.snapElements[J].snapping=w||B||L||A||I)}}}),a.ui.plugin.add("draggable","stack",{start:function(){var c,b=this.data("ui-draggable").options,d=a.makeArray(a(b.stack)).sort(function(f,e){return(parseInt(a(f).css("zIndex"),10)||0)-(parseInt(a(e).css("zIndex"),10)||0)});d.length&&(c=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(e){a(this).css("zIndex",c+e)}),this.css("zIndex",c+d.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(c,b){var d=a(b.helper),e=a(this).data("ui-draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(c,b){var d=a(this).data("ui-draggable").options;d._zIndex&&a(b.helper).css("zIndex",d._zIndex)}})})(jQuery);(function(c){function b(d){return parseInt(d,10)||0}function a(d){return !isNaN(parseInt(d,10))}c.widget("ui.resizable",c.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var f,e,g,k,d,j=this,h=this.options;if(this.element.addClass("ui-resizable"),c.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(c(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String){for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),f=this.handles.split(","),this.handles={},e=0;f.length>e;e++){g=c.trim(f[e]),d="ui-resizable-"+g,k=c("<div class='ui-resizable-handle "+d+"'></div>"),k.css({zIndex:h.zIndex}),"se"===g&&k.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[g]=".ui-resizable-"+g,this.element.append(k)}}this._renderAxis=function(o){var m,p,q,l;o=o||this.element;for(m in this.handles){this.handles[m].constructor===String&&(this.handles[m]=c(this.handles[m],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(p=c(this.handles[m],this.element),l=/sw|ne|nw|se|n|s/.test(m)?p.outerHeight():p.outerWidth(),q=["padding",/ne|nw|n/.test(m)?"Top":/se|sw|s/.test(m)?"Bottom":/^e$/.test(m)?"Right":"Left"].join(""),o.css(q,l),this._proportionallyResize()),c(this.handles[m]).length}},this._renderAxis(this.element),this._handles=c(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){j.resizing||(this.className&&(k=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),j.axis=k&&k[1]?k[1]:"se")}),h.autoHide&&(this._handles.hide(),c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(c(this).removeClass("ui-resizable-autohide"),j._handles.show())}).mouseleave(function(){h.disabled||j.resizing||(c(this).addClass("ui-resizable-autohide"),j._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,d=function(f){c(f).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(d(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),d(this.originalElement),this},_mouseCapture:function(e){var d,f,g=!1;for(d in this.handles){f=c(this.handles[d])[0],(f===e.target||c.contains(f,e.target))&&(g=!0)}return !this.options.disabled&&g},_mouseStart:function(e){var g,l,d,k=this.options,j=this.element.position(),f=this.element;return this.resizing=!0,/absolute/.test(f.css("position"))?f.css({position:"absolute",top:f.css("top"),left:f.css("left")}):f.is(".ui-draggable")&&f.css({position:"absolute",top:j.top,left:j.left}),this._renderProxy(),g=b(this.helper.css("left")),l=b(this.helper.css("top")),k.containment&&(g+=c(k.containment).scrollLeft()||0,l+=c(k.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:l},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:l},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof k.aspectRatio?k.aspectRatio:this.originalSize.width/this.originalSize.height||1,d=c(".ui-resizable-"+this.axis).css("cursor"),c("body").css("cursor","auto"===d?this.axis+"-resize":d),f.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(z){var m,A=this.helper,j={},x=this.originalMousePosition,g=this.axis,e=this.position.top,q=this.position.left,k=this.size.width,y=this.size.height,w=z.pageX-x.left||0,v=z.pageY-x.top||0,f=this._change[g];return f?(m=f.apply(this,[z,w,v]),this._updateVirtualBoundaries(z.shiftKey),(this._aspectRatio||z.shiftKey)&&(m=this._updateRatio(m,z)),m=this._respectSize(m,z),this._updateCache(m),this._propagate("resize",z),this.position.top!==e&&(j.top=this.position.top+"px"),this.position.left!==q&&(j.left=this.position.left+"px"),this.size.width!==k&&(j.width=this.size.width+"px"),this.size.height!==y&&(j.height=this.size.height+"px"),A.css(j),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),c.isEmptyObject(j)||this._trigger("resize",z,this.ui()),!1):!1},_mouseStop:function(q){this.resizing=!1;var j,v,f,m,e,d,k,g=this.options,p=this;return this._helper&&(j=this._proportionallyResizeElements,v=j.length&&/textarea/i.test(j[0].nodeName),f=v&&c.ui.hasScroll(j[0],"left")?0:p.sizeDiff.height,m=v?0:p.sizeDiff.width,e={width:p.helper.width()-m,height:p.helper.height()-f},d=parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left)||null,k=parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top)||null,g.animate||this.element.css(c.extend(e,{top:k,left:d})),p.helper.height(p.size.height),p.helper.width(p.size.width),this._helper&&!g.animate&&this._proportionallyResize()),c("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",q),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(i){var f,g,k,d,j,h=this.options;j={minWidth:a(h.minWidth)?h.minWidth:0,maxWidth:a(h.maxWidth)?h.maxWidth:1/0,minHeight:a(h.minHeight)?h.minHeight:0,maxHeight:a(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||i)&&(f=j.minHeight*this.aspectRatio,k=j.minWidth/this.aspectRatio,g=j.maxHeight*this.aspectRatio,d=j.maxWidth/this.aspectRatio,f>j.minWidth&&(j.minWidth=f),k>j.minHeight&&(j.minHeight=k),j.maxWidth>g&&(j.maxWidth=g),j.maxHeight>d&&(j.maxHeight=d)),this._vBoundaries=j},_updateCache:function(d){this.offset=this.helper.offset(),a(d.left)&&(this.position.left=d.left),a(d.top)&&(this.position.top=d.top),a(d.height)&&(this.size.height=d.height),a(d.width)&&(this.size.width=d.width)},_updateRatio:function(g){var d=this.position,f=this.size,h=this.axis;return a(g.height)?g.width=g.height*this.aspectRatio:a(g.width)&&(g.height=g.width/this.aspectRatio),"sw"===h&&(g.left=d.left+(f.width-g.width),g.top=null),"nw"===h&&(g.top=d.top+(f.height-g.height),g.left=d.left+(f.width-g.width)),g},_respectSize:function(k){var v=this._vBoundaries,w=this.axis,g=a(k.width)&&v.maxWidth&&v.maxWidth<k.width,p=a(k.height)&&v.maxHeight&&v.maxHeight<k.height,f=a(k.width)&&v.minWidth&&v.minWidth>k.width,d=a(k.height)&&v.minHeight&&v.minHeight>k.height,j=this.originalPosition.left+this.originalSize.width,i=this.position.top+this.size.height,q=/sw|nw|w/.test(w),m=/nw|ne|n/.test(w);return f&&(k.width=v.minWidth),d&&(k.height=v.minHeight),g&&(k.width=v.maxWidth),p&&(k.height=v.maxHeight),f&&q&&(k.left=j-v.minWidth),g&&q&&(k.left=j-v.maxWidth),d&&m&&(k.top=i-v.minHeight),p&&m&&(k.top=i-v.maxHeight),k.width||k.height||k.left||!k.top?k.width||k.height||k.top||!k.left||(k.left=null):k.top=null,k},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var j,g,f,h,k,d=this.helper||this.element;for(j=0;this._proportionallyResizeElements.length>j;j++){if(k=this._proportionallyResizeElements[j],!this.borderDif){for(this.borderDif=[],f=[k.css("borderTopWidth"),k.css("borderRightWidth"),k.css("borderBottomWidth"),k.css("borderLeftWidth")],h=[k.css("paddingTop"),k.css("paddingRight"),k.css("paddingBottom"),k.css("paddingLeft")],g=0;f.length>g;g++){this.borderDif[g]=(parseInt(f[g],10)||0)+(parseInt(h[g],10)||0)}}k.css({height:d.height()-this.borderDif[0]-this.borderDif[2]||0,width:d.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,d=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||c("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++d.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(f,d){return{width:this.originalSize.width+d}},w:function(h,f){var d=this.originalSize,g=this.originalPosition;return{left:g.left+f,width:d.width-f}},n:function(h,f,d){var g=this.originalSize,j=this.originalPosition;return{top:j.top+d,height:g.height-d}},s:function(g,f,d){return{height:this.originalSize.height+d}},se:function(e,d,f){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,d,f]))},sw:function(e,d,f){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,d,f]))},ne:function(e,d,f){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,d,f]))},nw:function(e,d,f){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,d,f]))}},_propagate:function(e,d){c.ui.plugin.call(this,e,[d,this.ui()]),"resize"!==e&&this._trigger(e,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),c.ui.plugin.add("resizable","animate",{stop:function(q){var j=c(this).data("ui-resizable"),v=j.options,f=j._proportionallyResizeElements,m=f.length&&/textarea/i.test(f[0].nodeName),e=m&&c.ui.hasScroll(f[0],"left")?0:j.sizeDiff.height,d=m?0:j.sizeDiff.width,k={width:j.size.width-d,height:j.size.height-e},g=parseInt(j.element.css("left"),10)+(j.position.left-j.originalPosition.left)||null,p=parseInt(j.element.css("top"),10)+(j.position.top-j.originalPosition.top)||null;j.element.animate(c.extend(k,p&&g?{top:p,left:g}:{}),{duration:v.animateDuration,easing:v.animateEasing,step:function(){var h={width:parseInt(j.element.css("width"),10),height:parseInt(j.element.css("height"),10),top:parseInt(j.element.css("top"),10),left:parseInt(j.element.css("left"),10)};f&&f.length&&c(f[0]).css({width:h.width,height:h.height}),j._updateCache(h),j._propagate("resize",q)}})}}),c.ui.plugin.add("resizable","containment",{start:function(){var m,y,j,w,g,e,q,k=c(this).data("ui-resizable"),x=k.options,v=k.element,t=x.containment,f=t instanceof c?t.get(0):/parent/.test(t)?v.parent().get(0):t;f&&(k.containerElement=c(f),/document/.test(t)||t===document?(k.containerOffset={left:0,top:0},k.containerPosition={left:0,top:0},k.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}):(m=c(f),y=[],c(["Top","Right","Left","Bottom"]).each(function(d,h){y[d]=b(m.css("padding"+h))}),k.containerOffset=m.offset(),k.containerPosition=m.position(),k.containerSize={height:m.innerHeight()-y[3],width:m.innerWidth()-y[1]},j=k.containerOffset,w=k.containerSize.height,g=k.containerSize.width,e=c.ui.hasScroll(f,"left")?f.scrollWidth:g,q=c.ui.hasScroll(f)?f.scrollHeight:w,k.parentData={element:f,left:j.left,top:j.top,width:e,height:q}))},resize:function(x){var k,y,g,v,f=c(this).data("ui-resizable"),e=f.options,m=f.containerOffset,j=f.position,w=f._aspectRatio||x.shiftKey,q={top:0,left:0},p=f.containerElement;p[0]!==document&&/static/.test(p.css("position"))&&(q=m),j.left<(f._helper?m.left:0)&&(f.size.width=f.size.width+(f._helper?f.position.left-m.left:f.position.left-q.left),w&&(f.size.height=f.size.width/f.aspectRatio),f.position.left=e.helper?m.left:0),j.top<(f._helper?m.top:0)&&(f.size.height=f.size.height+(f._helper?f.position.top-m.top:f.position.top),w&&(f.size.width=f.size.height*f.aspectRatio),f.position.top=f._helper?m.top:0),f.offset.left=f.parentData.left+f.position.left,f.offset.top=f.parentData.top+f.position.top,k=Math.abs((f._helper?f.offset.left-q.left:f.offset.left-q.left)+f.sizeDiff.width),y=Math.abs((f._helper?f.offset.top-q.top:f.offset.top-m.top)+f.sizeDiff.height),g=f.containerElement.get(0)===f.element.parent().get(0),v=/relative|absolute/.test(f.containerElement.css("position")),g&&v&&(k-=f.parentData.left),k+f.size.width>=f.parentData.width&&(f.size.width=f.parentData.width-k,w&&(f.size.height=f.size.width/f.aspectRatio)),y+f.size.height>=f.parentData.height&&(f.size.height=f.parentData.height-y,w&&(f.size.width=f.size.height*f.aspectRatio))},stop:function(){var p=c(this).data("ui-resizable"),j=p.options,q=p.containerOffset,f=p.containerPosition,m=p.containerElement,e=c(p.helper),d=e.offset(),k=e.outerWidth()-p.sizeDiff.width,g=e.outerHeight()-p.sizeDiff.height;p._helper&&!j.animate&&/relative/.test(m.css("position"))&&c(this).css({left:d.left-f.left-q.left,width:k,height:g}),p._helper&&!j.animate&&/static/.test(m.css("position"))&&c(this).css({left:d.left-f.left-q.left,width:k,height:g})}}),c.ui.plugin.add("resizable","alsoResize",{start:function(){var e=c(this).data("ui-resizable"),d=e.options,f=function(g){c(g).each(function(){var h=c(this);h.data("ui-resizable-alsoresize",{width:parseInt(h.width(),10),height:parseInt(h.height(),10),left:parseInt(h.css("left"),10),top:parseInt(h.css("top"),10)})})};"object"!=typeof d.alsoResize||d.alsoResize.parentNode?f(d.alsoResize):d.alsoResize.length?(d.alsoResize=d.alsoResize[0],f(d.alsoResize)):c.each(d.alsoResize,function(g){f(g)})},resize:function(f,e){var j=c(this).data("ui-resizable"),m=j.options,d=j.originalSize,l=j.originalPosition,k={height:j.size.height-d.height||0,width:j.size.width-d.width||0,top:j.position.top-l.top||0,left:j.position.left-l.left||0},g=function(h,i){c(h).each(function(){var q=c(this),s=c(this).data("ui-resizable-alsoresize"),p={},r=i&&i.length?i:q.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(r,function(u,o){var n=(s[o]||0)+(k[o]||0);n&&n>=0&&(p[o]=n||null)}),q.css(p)})};"object"!=typeof m.alsoResize||m.alsoResize.nodeType?g(m.alsoResize):c.each(m.alsoResize,function(i,h){g(i,h)})},stop:function(){c(this).removeData("resizable-alsoresize")}}),c.ui.plugin.add("resizable","ghost",{start:function(){var e=c(this).data("ui-resizable"),d=e.options,f=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof d.ghost?d.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var d=c(this).data("ui-resizable");d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(){var d=c(this).data("ui-resizable");d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),c.ui.plugin.add("resizable","grid",{resize:function(){var H=c(this).data("ui-resizable"),y=H.options,I=H.size,q=H.originalSize,E=H.originalPosition,k=H.axis,e="number"==typeof y.grid?[y.grid,y.grid]:y.grid,z=e[0]||1,x=e[1]||1,G=Math.round((I.width-q.width)/z)*z,D=Math.round((I.height-q.height)/x)*x,C=q.width+G,j=q.height+D,B=y.maxWidth&&C>y.maxWidth,w=y.maxHeight&&j>y.maxHeight,A=y.minWidth&&y.minWidth>C,F=y.minHeight&&y.minHeight>j;y.grid=e,A&&(C+=z),F&&(j+=x),B&&(C-=z),w&&(j-=x),/^(se|s|e)$/.test(k)?(H.size.width=C,H.size.height=j):/^(ne)$/.test(k)?(H.size.width=C,H.size.height=j,H.position.top=E.top-D):/^(sw)$/.test(k)?(H.size.width=C,H.size.height=j,H.position.left=E.left-G):(H.size.width=C,H.size.height=j,H.position.top=E.top-D,H.position.left=E.left-G)}})})(jQuery);(function(a){var b=0;a.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var g,d,f,j=this.element[0].nodeName.toLowerCase(),c="textarea"===j,h="input"===j;this.isMultiLine=c?!0:h?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[c||h?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly")){return g=!0,f=!0,d=!0,undefined}g=!1,f=!1,d=!1;var e=a.ui.keyCode;switch(i.keyCode){case e.PAGE_UP:g=!0,this._move("previousPage",i);break;case e.PAGE_DOWN:g=!0,this._move("nextPage",i);break;case e.UP:g=!0,this._keyEvent("previous",i);break;case e.DOWN:g=!0,this._keyEvent("next",i);break;case e.ENTER:case e.NUMPAD_ENTER:this.menu.active&&(g=!0,i.preventDefault(),this.menu.select(i));break;case e.TAB:this.menu.active&&this.menu.select(i);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(i),i.preventDefault());break;default:d=!0,this._searchTimeout(i)}},keypress:function(e){if(g){return g=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&e.preventDefault(),undefined}if(!d){var i=a.ui.keyCode;switch(e.keyCode){case i.PAGE_UP:this._move("previousPage",e);break;case i.PAGE_DOWN:this._move("nextPage",e);break;case i.UP:this._keyEvent("previous",e);break;case i.DOWN:this._keyEvent("next",e)}}},input:function(e){return f?(f=!1,e.preventDefault(),undefined):(this._searchTimeout(e),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(e),this._change(e),undefined)}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(l){l.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var k=this.menu.element[0];a(l.target).closest(".ui-menu-item").length||this._delay(function(){var i=this;this.document.one("mousedown",function(e){e.target===i.element[0]||e.target===k||a.contains(k,e.target)||i.close()})})},menufocus:function(m,k){if(this.isNewMenu&&(this.isNewMenu=!1,m.originalEvent&&/^mouse/.test(m.originalEvent.type))){return this.menu.blur(),this.document.one("mousemove",function(){a(m.target).trigger(m.originalEvent)}),undefined}var l=k.item.data("ui-autocomplete-item");!1!==this._trigger("focus",m,{item:l})?m.originalEvent&&/^key/.test(m.originalEvent.type)&&this._value(l.value):this.liveRegion.text(l.value)},menuselect:function(l,n){var k=n.item.data("ui-autocomplete-item"),m=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=m,this._delay(function(){this.previous=m,this.selectedItem=k})),!1!==this._trigger("select",l,{item:k})&&this._value(k.value),this.term=this._value(),this.close(l),this.selectedItem=k}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(c,d){this._super(c,d),"source"===c&&this._initSource(),"appendTo"===c&&this.menu.element.appendTo(this._appendTo()),"disabled"===c&&d&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;return c&&(c=c.jquery||c.nodeType?a(c):this.document.find(c).eq(0)),c||(c=this.element.closest(".ui-front")),c.length||(c=this.document[0].body),c},_initSource:function(){var f,c,d=this;a.isArray(this.options.source)?(f=this.options.source,this.source=function(e,g){g(a.ui.autocomplete.filter(f,e.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(g,h){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:g,dataType:"json",success:function(e){h(e)},error:function(){h([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(c,d){return c=null!=c?c:this._value(),this.term=this._value(),c.length<this.options.minLength?this.close(d):this._trigger("search",d)!==!1?this._search(c):undefined},_search:function(c){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:c},this._response())},_response:function(){var d=this,c=++b;return function(e){c===b&&d.__response(e),d.pending--,d.pending||d.element.removeClass("ui-autocomplete-loading")}},__response:function(c){c&&(c=this._normalize(c)),this._trigger("response",null,{content:c}),!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0,this._close(c)},_close:function(c){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:a.map(c,function(d){return"string"==typeof d?{label:d,value:d}:a.extend({label:d.label||d.value,value:d.value||d.label},d)})},_suggest:function(d){var c=this.menu.element.empty();this._renderMenu(c,d),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(f,c){var d=this;a.each(c,function(g,e){d._renderItemData(f,e)})},_renderItemData:function(c,d){return this._renderItem(c,d).data("ui-autocomplete-item",d)},_renderItem:function(d,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(d)},_move:function(c,d){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[c](d),undefined):(this.search(null,d),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(c,d){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(c,d),d.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(f,c){var d=RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(f,function(e){return d.test(e.label||e.value||e)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(c>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(c){var d;this._superApply(arguments),this.options.disabled||this.cancelSearch||(d=c&&c.length?this.options.messages.results(c.length):this.options.messages.noResults,this.liveRegion.text(d))}})})(jQuery);(function(p){var k,g,q,d,m="ui-button ui-widget ui-state-default ui-corner-all",c="ui-state-hover ui-state-active ",b="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var a=p(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},f=function(l){var a=l.name,h=l.form,o=p([]);return a&&(a=a.replace(/'/g,"\\'"),o=h?p(h).find("[name='"+a+"']"):p("[name='"+a+"']",l.ownerDocument).filter(function(){return !this.form})),o};p.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,j),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var i=this,e=this.options,l="checkbox"===this.type||"radio"===this.type,a=l?"":"ui-state-active",h="ui-state-focus";null===e.label&&(e.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(m).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){e.disabled||this===k&&p(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){e.disabled||p(this).removeClass(a)}).bind("click"+this.eventNamespace,function(n){e.disabled&&(n.preventDefault(),n.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){i.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){i.buttonElement.removeClass(h)}),l&&(this.element.bind("change"+this.eventNamespace,function(){d||i.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(n){e.disabled||(d=!1,g=n.pageX,q=n.pageY)}).bind("mouseup"+this.eventNamespace,function(n){e.disabled||(g!==n.pageX||q!==n.pageY)&&(d=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return e.disabled||d?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(e.disabled||d){return !1}p(this).addClass("ui-state-active"),i.buttonElement.attr("aria-pressed","true");var n=i.element[0];f(n).not(n).map(function(){return p(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return e.disabled?!1:(p(this).addClass("ui-state-active"),k=this,i.document.one("mouseup",function(){k=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return e.disabled?!1:(p(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(n){return e.disabled?!1:((n.keyCode===p.ui.keyCode.SPACE||n.keyCode===p.ui.keyCode.ENTER)&&p(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){p(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(n){n.keyCode===p.ui.keyCode.SPACE&&p(this).click()})),this._setOption("disabled",e.disabled),this._resetButton()},_determineButtonType:function(){var h,l,a;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(h=this.element.parents().last(),l="label[for='"+this.element.attr("id")+"']",this.buttonElement=h.find(l),this.buttonElement.length||(h=h.length?h.siblings():this.element.siblings(),this.buttonElement=h.filter(l),this.buttonElement.length||(this.buttonElement=h.find(l))),this.element.addClass("ui-helper-hidden-accessible"),a=this.element.is(":checked"),a&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(m+" "+c+" "+b).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,h){return this._super(a,h),"disabled"===a?(h?this.element.prop("disabled",!0):this.element.prop("disabled",!1),undefined):(this._resetButton(),undefined)},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),"radio"===this.type?f(this.element[0]).each(function(){p(this).is(":checked")?p(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):p(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type){return this.options.label&&this.element.val(this.options.label),undefined}var r=this.buttonElement.removeClass(b),l=p("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(r.empty()).text(),o=this.options.icons,t=o.primary&&o.secondary,h=[];o.primary||o.secondary?(this.options.text&&h.push("ui-button-text-icon"+(t?"s":o.primary?"-primary":"-secondary")),o.primary&&r.prepend("<span class='ui-button-icon-primary ui-icon "+o.primary+"'></span>"),o.secondary&&r.append("<span class='ui-button-icon-secondary ui-icon "+o.secondary+"'></span>"),this.options.text||(h.push(t?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||r.attr("title",p.trim(l)))):h.push("ui-button-text-only"),r.addClass(h.join(" "))}}),p.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,h){"disabled"===a&&this.buttons.button("option",a,h),this._super(a,h)},refresh:function(){var a="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return p(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return p(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function(d,h){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},d.extend(this._defaults,this.regional[""]),this.dpDiv=f(d("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function f(k){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return k.delegate(a,"mouseout",function(){d(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&d(this).removeClass("ui-datepicker-next-hover")}).delegate(a,"mouseover",function(){d.datepicker._isDisabledDatepicker(b.inline?k.parent()[0]:b.input[0])||(d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&d(this).addClass("ui-datepicker-next-hover"))})}function j(l,a){d.extend(l,a);for(var k in a){null==a[k]&&(l[k]=a[k])}return l}d.extend(d.ui,{datepicker:{version:"1.10.3"}});var b,g="datepicker";d.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return j(this._defaults,a||{}),this},_attachDatepicker:function(o,l){var m,p,k;m=o.nodeName.toLowerCase(),p="div"===m||"span"===m,o.id||(this.uuid+=1,o.id="dp"+this.uuid),k=this._newInst(d(o),p),k.settings=d.extend({},l||{}),"input"===m?this._connectDatepicker(o,k):p&&this._inlineDatepicker(o,k)},_newInst:function(k,a){var l=k[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:l,input:k,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?f(d("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(l,a){var k=d(l);a.append=d([]),a.trigger=d([]),k.hasClass(this.markerClassName)||(this._attachments(k,a),k.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),d.data(l,g,a),a.settings.disabled&&this._disableDatepicker(l))},_attachments:function(q,l){var m,u,k,p=this._get(l,"appendText"),t=this._get(l,"isRTL");l.append&&l.append.remove(),p&&(l.append=d("<span class='"+this._appendClass+"'>"+p+"</span>"),q[t?"before":"after"](l.append)),q.unbind("focus",this._showDatepicker),l.trigger&&l.trigger.remove(),m=this._get(l,"showOn"),("focus"===m||"both"===m)&&q.focus(this._showDatepicker),("button"===m||"both"===m)&&(u=this._get(l,"buttonText"),k=this._get(l,"buttonImage"),l.trigger=d(this._get(l,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:k,alt:u,title:u}):d("<button type='button'></button>").addClass(this._triggerClass).html(k?d("<img/>").attr({src:k,alt:u,title:u}):u)),q[t?"before":"after"](l.trigger),l.trigger.click(function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput===q[0]?d.datepicker._hideDatepicker():d.datepicker._datepickerShowing&&d.datepicker._lastInput!==q[0]?(d.datepicker._hideDatepicker(),d.datepicker._showDatepicker(q[0])):d.datepicker._showDatepicker(q[0]),!1}))},_autoSize:function(m){if(this._get(m,"autoSize")&&!m.inline){var q,l,o,u,k=new Date(2009,11,20),p=this._get(m,"dateFormat");p.match(/[DM]/)&&(q=function(a){for(l=0,o=0,u=0;a.length>u;u++){a[u].length>l&&(l=a[u].length,o=u)}return o},k.setMonth(q(this._get(m,p.match(/MM/)?"monthNames":"monthNamesShort"))),k.setDate(q(this._get(m,p.match(/DD/)?"dayNames":"dayNamesShort"))+20-k.getDay())),m.input.attr("size",this._formatDate(m,k).length)}},_inlineDatepicker:function(l,a){var k=d(l);k.hasClass(this.markerClassName)||(k.addClass(this.markerClassName).append(a.dpDiv),d.data(l,g,a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(l),a.dpDiv.css("display","block"))},_dialogDatepicker:function(t,q,z,x,m){var r,n,w,y,v,k=this._dialogInst;return k||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=d("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),k=this._dialogInst=this._newInst(this._dialogInput,!1),k.settings={},d.data(this._dialogInput[0],g,k)),j(k.settings,x||{}),q=q&&q.constructor===Date?this._formatDate(k,q):q,this._dialogInput.val(q),this._pos=m?m.length?m:[m.pageX,m.pageY]:null,this._pos||(n=document.documentElement.clientWidth,w=document.documentElement.clientHeight,y=document.documentElement.scrollLeft||document.body.scrollLeft,v=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[n/2-100+y,w/2-150+v]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),k.settings.onSelect=z,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],g,k),this},_destroyDatepicker:function(l){var a,k=d(l),m=d.data(l,g);k.hasClass(this.markerClassName)&&(a=l.nodeName.toLowerCase(),d.removeData(l,g),"input"===a?(m.append.remove(),m.trigger.remove(),k.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===a||"span"===a)&&k.removeClass(this.markerClassName).empty())},_enableDatepicker:function(o){var l,m,p=d(o),k=d.data(o,g);p.hasClass(this.markerClassName)&&(l=o.nodeName.toLowerCase(),"input"===l?(o.disabled=!1,k.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===l||"span"===l)&&(m=p.children("."+this._inlineClass),m.children().removeClass("ui-state-disabled"),m.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=d.map(this._disabledInputs,function(a){return a===o?null:a}))},_disableDatepicker:function(o){var l,m,p=d(o),k=d.data(o,g);p.hasClass(this.markerClassName)&&(l=o.nodeName.toLowerCase(),"input"===l?(o.disabled=!0,k.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===l||"span"===l)&&(m=p.children("."+this._inlineClass),m.children().addClass("ui-state-disabled"),m.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=d.map(this._disabledInputs,function(a){return a===o?null:a}),this._disabledInputs[this._disabledInputs.length]=o)},_isDisabledDatepicker:function(a){if(!a){return !1}for(var i=0;this._disabledInputs.length>i;i++){if(this._disabledInputs[i]===a){return !0}}return !1},_getInst:function(k){try{return d.data(k,g)}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(m,p,k){var q,t,n,e,u=this._getInst(m);return 2===arguments.length&&"string"==typeof p?"defaults"===p?d.extend({},d.datepicker._defaults):u?"all"===p?d.extend({},u.settings):this._get(u,p):null:(q=p||{},"string"==typeof p&&(q={},q[p]=k),u&&(this._curInst===u&&this._hideDatepicker(),t=this._getDateDatepicker(m,!0),n=this._getMinMaxDate(u,"min"),e=this._getMinMaxDate(u,"max"),j(u.settings,q),null!==n&&q.dateFormat!==h&&q.minDate===h&&(u.settings.minDate=this._formatDate(u,n)),null!==e&&q.dateFormat!==h&&q.maxDate===h&&(u.settings.maxDate=this._formatDate(u,e)),"disabled" in q&&(q.disabled?this._disableDatepicker(m):this._enableDatepicker(m)),this._attachments(d(m),u),this._autoSize(u),this._setDate(u,t),this._updateAlternate(u),this._updateDatepicker(u)),h)},_changeDatepicker:function(k,l,a){this._optionDatepicker(k,l,a)},_refreshDatepicker:function(a){var i=this._getInst(a);i&&this._updateDatepicker(i)},_setDateDatepicker:function(k,l){var a=this._getInst(k);a&&(this._setDate(a,l),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(k,l){var a=this._getInst(k);return a&&!a.inline&&this._setDateFromField(a,l),a?this._getDate(a):null},_doKeyDown:function(q){var l,m,u,k=d.datepicker._getInst(q.target),p=!0,t=k.dpDiv.is(".ui-datepicker-rtl");if(k._keyEvent=!0,d.datepicker._datepickerShowing){switch(q.keyCode){case 9:d.datepicker._hideDatepicker(),p=!1;break;case 13:return u=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",k.dpDiv),u[0]&&d.datepicker._selectDay(q.target,k.selectedMonth,k.selectedYear,u[0]),l=d.datepicker._get(k,"onSelect"),l?(m=d.datepicker._formatDate(k),l.apply(k.input?k.input[0]:null,[m,k])):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(q.target,q.ctrlKey?-d.datepicker._get(k,"stepBigMonths"):-d.datepicker._get(k,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(q.target,q.ctrlKey?+d.datepicker._get(k,"stepBigMonths"):+d.datepicker._get(k,"stepMonths"),"M");break;case 35:(q.ctrlKey||q.metaKey)&&d.datepicker._clearDate(q.target),p=q.ctrlKey||q.metaKey;break;case 36:(q.ctrlKey||q.metaKey)&&d.datepicker._gotoToday(q.target),p=q.ctrlKey||q.metaKey;break;case 37:(q.ctrlKey||q.metaKey)&&d.datepicker._adjustDate(q.target,t?1:-1,"D"),p=q.ctrlKey||q.metaKey,q.originalEvent.altKey&&d.datepicker._adjustDate(q.target,q.ctrlKey?-d.datepicker._get(k,"stepBigMonths"):-d.datepicker._get(k,"stepMonths"),"M");break;case 38:(q.ctrlKey||q.metaKey)&&d.datepicker._adjustDate(q.target,-7,"D"),p=q.ctrlKey||q.metaKey;break;case 39:(q.ctrlKey||q.metaKey)&&d.datepicker._adjustDate(q.target,t?-1:1,"D"),p=q.ctrlKey||q.metaKey,q.originalEvent.altKey&&d.datepicker._adjustDate(q.target,q.ctrlKey?+d.datepicker._get(k,"stepBigMonths"):+d.datepicker._get(k,"stepMonths"),"M");break;case 40:(q.ctrlKey||q.metaKey)&&d.datepicker._adjustDate(q.target,7,"D"),p=q.ctrlKey||q.metaKey;break;default:p=!1}}else{36===q.keyCode&&q.ctrlKey?d.datepicker._showDatepicker(this):p=!1}p&&(q.preventDefault(),q.stopPropagation())},_doKeyPress:function(k){var l,m,e=d.datepicker._getInst(k.target);return d.datepicker._get(e,"constrainInput")?(l=d.datepicker._possibleChars(d.datepicker._get(e,"dateFormat")),m=String.fromCharCode(null==k.charCode?k.keyCode:k.charCode),k.ctrlKey||k.metaKey||" ">m||!l||l.indexOf(m)>-1):h},_doKeyUp:function(l){var a,k=d.datepicker._getInst(l.target);if(k.input.val()!==k.lastVal){try{a=d.datepicker.parseDate(d.datepicker._get(k,"dateFormat"),k.input?k.input.val():null,d.datepicker._getFormatConfig(k)),a&&(d.datepicker._setDateFromField(k),d.datepicker._updateAlternate(k),d.datepicker._updateDatepicker(k))}catch(m){}}return !0},_showDatepicker:function(u){if(u=u.target||u,"input"!==u.nodeName.toLowerCase()&&(u=d("input",u.parentNode)[0]),!d.datepicker._isDisabledDatepicker(u)&&d.datepicker._lastInput!==u){var n,q,m,t,v,p,k;n=d.datepicker._getInst(u),d.datepicker._curInst&&d.datepicker._curInst!==n&&(d.datepicker._curInst.dpDiv.stop(!0,!0),n&&d.datepicker._datepickerShowing&&d.datepicker._hideDatepicker(d.datepicker._curInst.input[0])),q=d.datepicker._get(n,"beforeShow"),m=q?q.apply(u,[u,n]):{},m!==!1&&(j(n.settings,m),n.lastVal=null,d.datepicker._lastInput=u,d.datepicker._setDateFromField(n),d.datepicker._inDialog&&(u.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(u),d.datepicker._pos[1]+=u.offsetHeight),t=!1,d(u).parents().each(function(){return t|="fixed"===d(this).css("position"),!t}),v={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),d.datepicker._updateDatepicker(n),v=d.datepicker._checkOffset(n,v,t),n.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":t?"fixed":"absolute",display:"none",left:v.left+"px",top:v.top+"px"}),n.inline||(p=d.datepicker._get(n,"showAnim"),k=d.datepicker._get(n,"duration"),n.dpDiv.zIndex(d(u).zIndex()+1),d.datepicker._datepickerShowing=!0,d.effects&&d.effects.effect[p]?n.dpDiv.show(p,d.datepicker._get(n,"showOptions"),k):n.dpDiv[p||"show"](p?k:null),d.datepicker._shouldFocusInput(n)&&n.input.focus(),d.datepicker._curInst=n))}},_updateDatepicker:function(m){this.maxRows=4,b=m,m.dpDiv.empty().append(this._generateHTML(m)),this._attachHandlers(m),m.dpDiv.find("."+this._dayOverClass+" a").mouseover();var a,k=this._getNumberOfMonths(m),o=k[1],l=17;m.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&m.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",l*o+"em"),m.dpDiv[(1!==k[0]||1!==k[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),m.dpDiv[(this._get(m,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),m===d.datepicker._curInst&&d.datepicker._datepickerShowing&&d.datepicker._shouldFocusInput(m)&&m.input.focus(),m.yearshtml&&(a=m.yearshtml,setTimeout(function(){a===m.yearshtml&&m.yearshtml&&m.dpDiv.find("select.ui-datepicker-year:first").replaceWith(m.yearshtml),a=m.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(v,t,x){var p=v.dpDiv.outerWidth(),w=v.dpDiv.outerHeight(),k=v.input?v.input.outerWidth():0,m=v.input?v.input.outerHeight():0,u=document.documentElement.clientWidth+(x?0:d(document).scrollLeft()),q=document.documentElement.clientHeight+(x?0:d(document).scrollTop());return t.left-=this._get(v,"isRTL")?p-k:0,t.left-=x&&t.left===v.input.offset().left?d(document).scrollLeft():0,t.top-=x&&t.top===v.input.offset().top+m?d(document).scrollTop():0,t.left-=Math.min(t.left,t.left+p>u&&u>p?Math.abs(t.left+p-u):0),t.top-=Math.min(t.top,t.top+w>q&&q>w?Math.abs(w+m):0),t},_findPos:function(l){for(var a,k=this._getInst(l),m=this._get(k,"isRTL");l&&("hidden"===l.type||1!==l.nodeType||d.expr.filters.hidden(l));){l=l[m?"previousSibling":"nextSibling"]}return a=d(l).offset(),[a.left,a.top]},_hideDatepicker:function(p){var l,m,r,k,q=this._curInst;!q||p&&q!==d.data(p,g)||this._datepickerShowing&&(l=this._get(q,"showAnim"),m=this._get(q,"duration"),r=function(){d.datepicker._tidyDialog(q)},d.effects&&(d.effects.effect[l]||d.effects[l])?q.dpDiv.hide(l,d.datepicker._get(q,"showOptions"),m,r):q.dpDiv["slideDown"===l?"slideUp":"fadeIn"===l?"fadeOut":"hide"](l?m:null,r),l||r(),this._datepickerShowing=!1,k=this._get(q,"onClose"),k&&k.apply(q.input?q.input[0]:null,[q.input?q.input.val():"",q]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(l){if(d.datepicker._curInst){var a=d(l.target),k=d.datepicker._getInst(a[0]);(a[0].id!==d.datepicker._mainDivId&&0===a.parents("#"+d.datepicker._mainDivId).length&&!a.hasClass(d.datepicker.markerClassName)&&!a.closest("."+d.datepicker._triggerClass).length&&d.datepicker._datepickerShowing&&(!d.datepicker._inDialog||!d.blockUI)||a.hasClass(d.datepicker.markerClassName)&&d.datepicker._curInst!==k)&&d.datepicker._hideDatepicker()}},_adjustDate:function(o,l,m){var p=d(o),k=this._getInst(p[0]);this._isDisabledDatepicker(p[0])||(this._adjustInstDate(k,l+("M"===m?this._get(k,"showCurrentAtPos"):0),m),this._updateDatepicker(k))},_gotoToday:function(l){var a,k=d(l),m=this._getInst(k[0]);this._get(m,"gotoCurrent")&&m.currentDay?(m.selectedDay=m.currentDay,m.drawMonth=m.selectedMonth=m.currentMonth,m.drawYear=m.selectedYear=m.currentYear):(a=new Date,m.selectedDay=a.getDate(),m.drawMonth=m.selectedMonth=a.getMonth(),m.drawYear=m.selectedYear=a.getFullYear()),this._notifyChange(m),this._adjustDate(k)},_selectMonthYear:function(o,l,m){var p=d(o),k=this._getInst(p[0]);k["selected"+("M"===m?"Month":"Year")]=k["draw"+("M"===m?"Month":"Year")]=parseInt(l.options[l.selectedIndex].value,10),this._notifyChange(k),this._adjustDate(p)},_selectDay:function(p,l,m,q){var k,o=d(p);d(q).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(k=this._getInst(o[0]),k.selectedDay=k.currentDay=d("a",q).html(),k.selectedMonth=k.currentMonth=l,k.selectedYear=k.currentYear=m,this._selectDate(p,this._formatDate(k,k.currentDay,k.currentMonth,k.currentYear)))},_clearDate:function(k){var a=d(k);this._selectDate(a,"")},_selectDate:function(o,l){var m,p=d(o),k=this._getInst(p[0]);l=null!=l?l:this._formatDate(k),k.input&&k.input.val(l),this._updateAlternate(k),m=this._get(k,"onSelect"),m?m.apply(k.input?k.input[0]:null,[l,k]):k.input&&k.input.trigger("change"),k.inline?this._updateDatepicker(k):(this._hideDatepicker(),this._lastInput=k.input[0],"object"!=typeof k.input[0]&&k.input.focus(),this._lastInput=null)},_updateAlternate:function(o){var l,m,p,k=this._get(o,"altField");k&&(l=this._get(o,"altFormat")||this._get(o,"dateFormat"),m=this._getDate(o),p=this.formatDate(l,m,this._getFormatConfig(o)),d(k).each(function(){d(this).val(p)}))},noWeekends:function(a){var i=a.getDay();return[i>0&&6>i,""]},iso8601Week:function(k){var l,a=new Date(k.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),l=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((l-a)/86400000)/7)+1},parseDate:function(L,C,H){if(null==L||null==C){throw"Invalid arguments"}if(C="object"==typeof C?""+C:C+"",""===C){return null}var S,E,G,M,J=0,Q=(H?H.shortYearCutoff:null)||this._defaults.shortYearCutoff,A="string"!=typeof Q?Q:(new Date).getFullYear()%100+parseInt(Q,10),P=(H?H.dayNamesShort:null)||this._defaults.dayNamesShort,F=(H?H.dayNames:null)||this._defaults.dayNames,O=(H?H.monthNamesShort:null)||this._defaults.monthNamesShort,I=(H?H.monthNames:null)||this._defaults.monthNames,N=-1,z=-1,T=-1,R=-1,e=!1,q=function(a){var i=L.length>S+1&&L.charAt(S+1)===a;return i&&S++,i},K=function(m){var o=q(m),l="@"===m?14:"!"===m?20:"y"===m&&o?4:"o"===m?3:2,p=RegExp("^\\d{1,"+l+"}"),k=C.substring(J).match(p);if(!k){throw"Missing number at position "+J}return J+=k[0].length,parseInt(k[0],10)},t=function(l,s,k){var m=-1,p=d.map(q(l)?k:s,function(a,i){return[[i,a]]}).sort(function(a,i){return -(a[1].length-i[1].length)});if(d.each(p,function(o,a){var r=a[1];return C.substr(J,r.length).toLowerCase()===r.toLowerCase()?(m=a[0],J+=r.length,!1):h}),-1!==m){return m+1}throw"Unknown name at position "+J},B=function(){if(C.charAt(J)!==L.charAt(S)){throw"Unexpected literal at position "+J}J++};for(S=0;L.length>S;S++){if(e){"'"!==L.charAt(S)||q("'")?B():e=!1}else{switch(L.charAt(S)){case"d":T=K("d");break;case"D":t("D",P,F);break;case"o":R=K("o");break;case"m":z=K("m");break;case"M":z=t("M",O,I);break;case"y":N=K("y");break;case"@":M=new Date(K("@")),N=M.getFullYear(),z=M.getMonth()+1,T=M.getDate();break;case"!":M=new Date((K("!")-this._ticksTo1970)/10000),N=M.getFullYear(),z=M.getMonth()+1,T=M.getDate();break;case"'":q("'")?B():e=!0;break;default:B()}}}if(C.length>J&&(G=C.substr(J),!/^\s+/.test(G))){throw"Extra/unparsed characters found in date: "+G}if(-1===N?N=(new Date).getFullYear():100>N&&(N+=(new Date).getFullYear()-(new Date).getFullYear()%100+(A>=N?0:-100)),R>-1){for(z=1,T=R;;){if(E=this._getDaysInMonth(N,z-1),E>=T){break}z++,T-=E}}if(M=this._daylightSavingAdjust(new Date(N,z-1,T)),M.getFullYear()!==N||M.getMonth()+1!==z||M.getDate()!==T){throw"Invalid date"}return M},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:10000000*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(C,x,v){if(!x){return""}var D,p=(v?v.dayNamesShort:null)||this._defaults.dayNamesShort,A=(v?v.dayNames:null)||this._defaults.dayNames,k=(v?v.monthNamesShort:null)||this._defaults.monthNamesShort,m=(v?v.monthNames:null)||this._defaults.monthNames,w=function(l){var a=C.length>D+1&&C.charAt(D+1)===l;return a&&D++,a},q=function(l,o,a){var n=""+o;if(w(l)){for(;a>n.length;){n="0"+n}}return n},z=function(l,o,a,n){return w(l)?n[o]:a[o]},B="",y=!1;if(x){for(D=0;C.length>D;D++){if(y){"'"!==C.charAt(D)||w("'")?B+=C.charAt(D):y=!1}else{switch(C.charAt(D)){case"d":B+=q("d",x.getDate(),2);break;case"D":B+=z("D",x.getDay(),p,A);break;case"o":B+=q("o",Math.round((new Date(x.getFullYear(),x.getMonth(),x.getDate()).getTime()-new Date(x.getFullYear(),0,0).getTime())/86400000),3);break;case"m":B+=q("m",x.getMonth()+1,2);break;case"M":B+=z("M",x.getMonth(),k,m);break;case"y":B+=w("y")?x.getFullYear():(10>x.getYear()%100?"0":"")+x.getYear()%100;break;case"@":B+=x.getTime();break;case"!":B+=10000*x.getTime()+this._ticksTo1970;break;case"'":w("'")?B+="'":y=!0;break;default:B+=C.charAt(D)}}}}return B},_possibleChars:function(k){var m,a="",l=!1,o=function(e){var n=k.length>m+1&&k.charAt(m+1)===e;return n&&m++,n};for(m=0;k.length>m;m++){if(l){"'"!==k.charAt(m)||o("'")?a+=k.charAt(m):l=!1}else{switch(k.charAt(m)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":o("'")?a+="'":l=!0;break;default:a+=k.charAt(m)}}}return a},_get:function(e,a){return e.settings[a]!==h?e.settings[a]:this._defaults[a]},_setDateFromField:function(m,u){if(m.input.val()!==m.lastVal){var l=this._get(m,"dateFormat"),p=m.lastVal=m.input?m.input.val():null,w=this._getDefaultDate(m),k=w,q=this._getFormatConfig(m);try{k=this.parseDate(l,p,q)||w}catch(v){p=u?"":p}m.selectedDay=k.getDate(),m.drawMonth=m.selectedMonth=k.getMonth(),m.drawYear=m.selectedYear=k.getFullYear(),m.currentDay=p?k.getDate():0,m.currentMonth=p?k.getMonth():0,m.currentYear=p?k.getFullYear():0,this._adjustInstDate(m)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(p,l,m){var q=function(a){var i=new Date;return i.setDate(i.getDate()+a),i},k=function(u){try{return d.datepicker.parseDate(d.datepicker._get(p,"dateFormat"),u,d.datepicker._getFormatConfig(p))}catch(w){}for(var z=(u.toLowerCase().match(/^c/)?d.datepicker._getDate(p):null)||new Date,t=z.getFullYear(),x=z.getMonth(),y=z.getDate(),v=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,e=v.exec(u);e;){switch(e[2]||"d"){case"d":case"D":y+=parseInt(e[1],10);break;case"w":case"W":y+=7*parseInt(e[1],10);break;case"m":case"M":x+=parseInt(e[1],10),y=Math.min(y,d.datepicker._getDaysInMonth(t,x));break;case"y":case"Y":t+=parseInt(e[1],10),y=Math.min(y,d.datepicker._getDaysInMonth(t,x))}e=v.exec(u)}return new Date(t,x,y)},o=null==l||""===l?m:"string"==typeof l?k(l):"number"==typeof l?isNaN(l)?m:q(l):new Date(l.getTime());return o=o&&"Invalid Date"==""+o?m:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(m,q,l){var o=!q,u=m.selectedMonth,k=m.selectedYear,p=this._restrictMinMax(m,this._determineDate(m,q,new Date));m.selectedDay=m.currentDay=p.getDate(),m.drawMonth=m.selectedMonth=m.currentMonth=p.getMonth(),m.drawYear=m.selectedYear=m.currentYear=p.getFullYear(),u===m.selectedMonth&&k===m.selectedYear||l||this._notifyChange(m),this._adjustInstDate(m),m.input&&m.input.val(o?"":this._formatDate(m))},_getDate:function(a){var i=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return i},_attachHandlers:function(l){var a=this._get(l,"stepMonths"),k="#"+l.id.replace(/\\\\/g,"\\");l.dpDiv.find("[data-handler]").map(function(){var i={prev:function(){d.datepicker._adjustDate(k,-a,"M")},next:function(){d.datepicker._adjustDate(k,+a,"M")},hide:function(){d.datepicker._hideDatepicker()},today:function(){d.datepicker._gotoToday(k)},selectDay:function(){return d.datepicker._selectDay(k,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return d.datepicker._selectMonthYear(k,this,"M"),!1},selectYear:function(){return d.datepicker._selectMonthYear(k,this,"Y"),!1}};d(this).bind(this.getAttribute("data-event"),i[this.getAttribute("data-handler")])})},_generateHTML:function(aJ){var aY,aU,aK,aP,a2,aL,aO,aV,aR,a0,aI,aZ,aN,aX,aQ,aW,aH,a3,a1,aE,aF,aS,aG,ay,ah,az,ao,ai,an,at,al,aB,aD,au,ax,aw,am,ae,aT,aj=new Date,ap=this._daylightSavingAdjust(new Date(aj.getFullYear(),aj.getMonth(),aj.getDate())),ab=this._get(aJ,"isRTL"),aA=this._get(aJ,"showButtonPanel"),ar=this._get(aJ,"hideIfNoPrevNext"),aq=this._get(aJ,"navigationAsDateFormat"),ak=this._getNumberOfMonths(aJ),af=this._get(aJ,"showCurrentAtPos"),ag=this._get(aJ,"stepMonths"),aM=1!==ak[0]||1!==ak[1],ac=this._daylightSavingAdjust(aJ.currentDay?new Date(aJ.currentYear,aJ.currentMonth,aJ.currentDay):new Date(9999,9,9)),av=this._getMinMaxDate(aJ,"min"),aC=this._getMinMaxDate(aJ,"max"),aa=aJ.drawMonth-af,ad=aJ.drawYear;if(0>aa&&(aa+=12,ad--),aC){for(aY=this._daylightSavingAdjust(new Date(aC.getFullYear(),aC.getMonth()-ak[0]*ak[1]+1,aC.getDate())),aY=av&&av>aY?av:aY;this._daylightSavingAdjust(new Date(ad,aa,1))>aY;){aa--,0>aa&&(aa=11,ad--)}}for(aJ.drawMonth=aa,aJ.drawYear=ad,aU=this._get(aJ,"prevText"),aU=aq?this.formatDate(aU,this._daylightSavingAdjust(new Date(ad,aa-ag,1)),this._getFormatConfig(aJ)):aU,aK=this._canAdjustMonth(aJ,-1,ad,aa)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"e":"w")+"'>"+aU+"</span></a>":ar?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"e":"w")+"'>"+aU+"</span></a>",aP=this._get(aJ,"nextText"),aP=aq?this.formatDate(aP,this._daylightSavingAdjust(new Date(ad,aa+ag,1)),this._getFormatConfig(aJ)):aP,a2=this._canAdjustMonth(aJ,1,ad,aa)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+aP+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"w":"e")+"'>"+aP+"</span></a>":ar?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+aP+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"w":"e")+"'>"+aP+"</span></a>",aL=this._get(aJ,"currentText"),aO=this._get(aJ,"gotoCurrent")&&aJ.currentDay?ac:ap,aL=aq?this.formatDate(aL,aO,this._getFormatConfig(aJ)):aL,aV=aJ.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(aJ,"closeText")+"</button>",aR=aA?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ab?aV:"")+(this._isInRange(aJ,aO)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+aL+"</button>":"")+(ab?"":aV)+"</div>":"",a0=parseInt(this._get(aJ,"firstDay"),10),a0=isNaN(a0)?0:a0,aI=this._get(aJ,"showWeek"),aZ=this._get(aJ,"dayNames"),aN=this._get(aJ,"dayNamesMin"),aX=this._get(aJ,"monthNames"),aQ=this._get(aJ,"monthNamesShort"),aW=this._get(aJ,"beforeShowDay"),aH=this._get(aJ,"showOtherMonths"),a3=this._get(aJ,"selectOtherMonths"),a1=this._getDefaultDate(aJ),aE="",aS=0;ak[0]>aS;aS++){for(aG="",this.maxRows=4,ay=0;ak[1]>ay;ay++){if(ah=this._daylightSavingAdjust(new Date(ad,aa,aJ.selectedDay)),az=" ui-corner-all",ao="",aM){if(ao+="<div class='ui-datepicker-group",ak[1]>1){switch(ay){case 0:ao+=" ui-datepicker-group-first",az=" ui-corner-"+(ab?"right":"left");break;case ak[1]-1:ao+=" ui-datepicker-group-last",az=" ui-corner-"+(ab?"left":"right");break;default:ao+=" ui-datepicker-group-middle",az=""}}ao+="'>"}for(ao+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+az+"'>"+(/all|left/.test(az)&&0===aS?ab?a2:aK:"")+(/all|right/.test(az)&&0===aS?ab?aK:a2:"")+this._generateMonthYearHeader(aJ,aa,ad,av,aC,aS>0||ay>0,aX,aQ)+"</div><table class='ui-datepicker-calendar'><thead><tr>",ai=aI?"<th class='ui-datepicker-week-col'>"+this._get(aJ,"weekHeader")+"</th>":"",aF=0;7>aF;aF++){an=(aF+a0)%7,ai+="<th"+((aF+a0+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+aZ[an]+"'>"+aN[an]+"</span></th>"}for(ao+=ai+"</tr></thead><tbody>",at=this._getDaysInMonth(ad,aa),ad===aJ.selectedYear&&aa===aJ.selectedMonth&&(aJ.selectedDay=Math.min(aJ.selectedDay,at)),al=(this._getFirstDayOfMonth(ad,aa)-a0+7)%7,aB=Math.ceil((al+at)/7),aD=aM?this.maxRows>aB?this.maxRows:aB:aB,this.maxRows=aD,au=this._daylightSavingAdjust(new Date(ad,aa,1-al)),ax=0;aD>ax;ax++){for(ao+="<tr>",aw=aI?"<td class='ui-datepicker-week-col'>"+this._get(aJ,"calculateWeek")(au)+"</td>":"",aF=0;7>aF;aF++){am=aW?aW.apply(aJ.input?aJ.input[0]:null,[au]):[!0,""],ae=au.getMonth()!==aa,aT=ae&&!a3||!am[0]||av&&av>au||aC&&au>aC,aw+="<td class='"+((aF+a0+6)%7>=5?" ui-datepicker-week-end":"")+(ae?" ui-datepicker-other-month":"")+(au.getTime()===ah.getTime()&&aa===aJ.selectedMonth&&aJ._keyEvent||a1.getTime()===au.getTime()&&a1.getTime()===ah.getTime()?" "+this._dayOverClass:"")+(aT?" "+this._unselectableClass+" ui-state-disabled":"")+(ae&&!aH?"":" "+am[1]+(au.getTime()===ac.getTime()?" "+this._currentClass:"")+(au.getTime()===ap.getTime()?" ui-datepicker-today":""))+"'"+(ae&&!aH||!am[2]?"":" title='"+am[2].replace(/'/g,"&#39;")+"'")+(aT?"":" data-handler='selectDay' data-event='click' data-month='"+au.getMonth()+"' data-year='"+au.getFullYear()+"'")+">"+(ae&&!aH?"&#xa0;":aT?"<span class='ui-state-default'>"+au.getDate()+"</span>":"<a class='ui-state-default"+(au.getTime()===ap.getTime()?" ui-state-highlight":"")+(au.getTime()===ac.getTime()?" ui-state-active":"")+(ae?" ui-priority-secondary":"")+"' href='#'>"+au.getDate()+"</a>")+"</td>",au.setDate(au.getDate()+1),au=this._daylightSavingAdjust(au)}ao+=aw+"</tr>"}aa++,aa>11&&(aa=0,ad++),ao+="</tbody></table>"+(aM?"</div>"+(ak[0]>0&&ay===ak[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),aG+=ao}aE+=aG}return aE+=aR,aJ._keyEvent=!1,aE},_generateMonthYearHeader:function(x,K,G,z,D,O,A,C){var H,F,M,w,L,B,J,E,I=this._get(x,"changeMonth"),q=this._get(x,"changeYear"),P=this._get(x,"showMonthAfterYear"),N="<div class='ui-datepicker-title'>",k="";if(O||!I){k+="<span class='ui-datepicker-month'>"+A[K]+"</span>"}else{for(H=z&&z.getFullYear()===G,F=D&&D.getFullYear()===G,k+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",M=0;12>M;M++){(!H||M>=z.getMonth())&&(!F||D.getMonth()>=M)&&(k+="<option value='"+M+"'"+(M===K?" selected='selected'":"")+">"+C[M]+"</option>")}k+="</select>"}if(P||(N+=k+(!O&&I&&q?"":"&#xa0;")),!x.yearshtml){if(x.yearshtml="",O||!q){N+="<span class='ui-datepicker-year'>"+G+"</span>"}else{for(w=this._get(x,"yearRange").split(":"),L=(new Date).getFullYear(),B=function(a){var i=a.match(/c[+\-].*/)?G+parseInt(a.substring(1),10):a.match(/[+\-].*/)?L+parseInt(a,10):parseInt(a,10);return isNaN(i)?L:i},J=B(w[0]),E=Math.max(J,B(w[1]||"")),J=z?Math.max(J,z.getFullYear()):J,E=D?Math.min(E,D.getFullYear()):E,x.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";E>=J;J++){x.yearshtml+="<option value='"+J+"'"+(J===G?" selected='selected'":"")+">"+J+"</option>"}x.yearshtml+="</select>",N+=x.yearshtml,x.yearshtml=null}}return N+=this._get(x,"yearSuffix"),P&&(N+=(!O&&I&&q?"":"&#xa0;")+k),N+="</div>"},_adjustInstDate:function(m,q,l){var o=m.drawYear+("Y"===l?q:0),u=m.drawMonth+("M"===l?q:0),k=Math.min(m.selectedDay,this._getDaysInMonth(o,u))+("D"===l?q:0),p=this._restrictMinMax(m,this._daylightSavingAdjust(new Date(o,u,k)));m.selectedDay=p.getDate(),m.drawMonth=m.selectedMonth=p.getMonth(),m.drawYear=m.selectedYear=p.getFullYear(),("M"===l||"Y"===l)&&this._notifyChange(m)},_restrictMinMax:function(k,m){var a=this._getMinMaxDate(k,"min"),l=this._getMinMaxDate(k,"max"),o=a&&a>m?a:m;return l&&o>l?l:o},_notifyChange:function(a){var i=this._get(a,"onChangeMonthYear");i&&i.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var i=this._get(a,"numberOfMonths");return null==i?[1,1]:"number"==typeof i?[1,i]:i},_getMinMaxDate:function(a,i){return this._determineDate(a,this._get(a,i+"Date"),null)},_getDaysInMonth:function(a,i){return 32-this._daylightSavingAdjust(new Date(a,i,32)).getDate()},_getFirstDayOfMonth:function(a,i){return new Date(a,i,1).getDay()},_canAdjustMonth:function(m,p,l,o){var q=this._getNumberOfMonths(m),k=this._daylightSavingAdjust(new Date(l,o+(0>p?p:q[0]*q[1]),1));return 0>p&&k.setDate(this._getDaysInMonth(k.getFullYear(),k.getMonth())),this._isInRange(m,k)},_isInRange:function(w,u){var p,x,m=this._getMinMaxDate(w,"min"),v=this._getMinMaxDate(w,"max"),k=null,l=null,q=this._get(w,"yearRange");return q&&(p=q.split(":"),x=(new Date).getFullYear(),k=parseInt(p[0],10),l=parseInt(p[1],10),p[0].match(/[+\-].*/)&&(k+=x),p[1].match(/[+\-].*/)&&(l+=x)),(!m||u.getTime()>=m.getTime())&&(!v||u.getTime()<=v.getTime())&&(!k||u.getFullYear()>=k)&&(!l||l>=u.getFullYear())},_getFormatConfig:function(a){var i=this._get(a,"shortYearCutoff");return i="string"!=typeof i?i:(new Date).getFullYear()%100+parseInt(i,10),{shortYearCutoff:i,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(k,m,a,l){m||(k.currentDay=k.selectedDay,k.currentMonth=k.selectedMonth,k.currentYear=k.selectedYear);var o=m?"object"==typeof m?m:this._daylightSavingAdjust(new Date(l,a,m)):this._daylightSavingAdjust(new Date(k.currentYear,k.currentMonth,k.currentDay));return this.formatDate(this._get(k,"dateFormat"),o,this._getFormatConfig(k))}}),d.fn.datepicker=function(k){if(!this.length){return this}d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick),d.datepicker.initialized=!0),0===d("#"+d.datepicker._mainDivId).length&&d("body").append(d.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof k||"isDisabled"!==k&&"getDate"!==k&&"widget"!==k?"option"===k&&2===arguments.length&&"string"==typeof arguments[1]?d.datepicker["_"+k+"Datepicker"].apply(d.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof k?d.datepicker["_"+k+"Datepicker"].apply(d.datepicker,[this].concat(a)):d.datepicker._attachDatepicker(this,k)}):d.datepicker["_"+k+"Datepicker"].apply(d.datepicker,[this[0]].concat(a))},d.datepicker=new c,d.datepicker.initialized=!1,d.datepicker.uuid=(new Date).getTime(),d.datepicker.version="1.10.3"})(jQuery);(function(b){var c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},a={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};b.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(f){var d=b(this).css(f).offset().top;0>d&&b(this).css("top",f.top-d)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&b.fn.draggable&&this._makeDraggable(),this.options.resizable&&b.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var d=this.options.appendTo;return d&&(d.jquery||d.nodeType)?b(d):this.document.find(d||"body").eq(0)},_destroy:function(){var d,f=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),d=f.parent.children().eq(f.index),d.length&&d[0]!==this.element[0]?d.before(this.element):f.parent.append(this.element)},widget:function(){return this.uiDialog},disable:b.noop,enable:b.noop,close:function(f){var d=this;this._isOpen&&this._trigger("beforeClose",f)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||b(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",f)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(f,g){var d=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return d&&!g&&this._trigger("focus",f),d},open:function(){var d=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=b(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){d._focusTabbable(),d._trigger("focus")}),this._trigger("open"),undefined)},_focusTabbable:function(){var d=this.element.find("[autofocus]");d.length||(d=this.element.find(":tabbable")),d.length||(d=this.uiDialogButtonPane.find(":tabbable")),d.length||(d=this.uiDialogTitlebarClose.filter(":tabbable")),d.length||(d=this.uiDialog),d.eq(0).focus()},_keepFocus:function(f){function d(){var h=this.document[0].activeElement,g=this.uiDialog[0]===h||b.contains(this.uiDialog[0],h);g||this._focusTabbable()}f.preventDefault(),d.call(this),this._delay(d)},_createWrapper:function(){this.uiDialog=b("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(g){if(this.options.closeOnEscape&&!g.isDefaultPrevented()&&g.keyCode&&g.keyCode===b.ui.keyCode.ESCAPE){return g.preventDefault(),this.close(g),undefined}if(g.keyCode===b.ui.keyCode.TAB){var d=this.uiDialog.find(":tabbable"),f=d.filter(":first"),h=d.filter(":last");g.target!==h[0]&&g.target!==this.uiDialog[0]||g.shiftKey?g.target!==f[0]&&g.target!==this.uiDialog[0]||!g.shiftKey||(h.focus(1),g.preventDefault()):(f.focus(1),g.preventDefault())}},mousedown:function(d){this._moveToTop(d)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var d;this.uiDialogTitlebar=b("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(f){b(f.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=b("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),d=b("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(d),this.uiDialog.attr({"aria-labelledby":d.attr("id")})},_title:function(d){this.options.title||d.html("&#160;"),d.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=b("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=b("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var f=this,d=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),b.isEmptyObject(d)||b.isArray(d)&&!d.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(b.each(d,function(g,h){var j,e;h=b.isFunction(h)?{click:h,text:g}:h,h=b.extend({type:"button"},h),j=h.click,h.click=function(){j.apply(f.element[0],arguments)},e={icons:h.icons,text:h.showText},delete h.icons,delete h.showText,b("<button></button>",h).button(e).appendTo(f.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined)},_makeDraggable:function(){function g(e){return{position:e.position,offset:e.offset}}var d=this,f=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,h){b(this).addClass("ui-dialog-dragging"),d._blockFrames(),d._trigger("dragStart",e,g(h))},drag:function(e,h){d._trigger("drag",e,g(h))},stop:function(h,e){f.position=[e.position.left-d.document.scrollLeft(),e.position.top-d.document.scrollTop()],b(this).removeClass("ui-dialog-dragging"),d._unblockFrames(),d._trigger("dragStop",h,g(e))}})},_makeResizable:function(){function h(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var f=this,g=this.options,k=g.resizable,d=this.uiDialog.css("position"),j="string"==typeof k?k:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:g.maxWidth,maxHeight:g.maxHeight,minWidth:g.minWidth,minHeight:this._minHeight(),handles:j,start:function(e,i){b(this).addClass("ui-dialog-resizing"),f._blockFrames(),f._trigger("resizeStart",e,h(i))},resize:function(e,i){f._trigger("resize",e,h(i))},stop:function(i,e){g.height=b(this).height(),g.width=b(this).width(),b(this).removeClass("ui-dialog-resizing"),f._unblockFrames(),f._trigger("resizeStop",i,h(e))}}).css("position",d)},_minHeight:function(){var d=this.options;return"auto"===d.height?d.minHeight:Math.min(d.minHeight,d.height)},_position:function(){var d=this.uiDialog.is(":visible");d||this.uiDialog.show(),this.uiDialog.position(this.options.position),d||this.uiDialog.hide()},_setOptions:function(e){var g=this,d=!1,f={};b.each(e,function(h,i){g._setOption(h,i),h in c&&(d=!0),h in a&&(f[h]=i)}),d&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(f,h){var d,g,j=this.uiDialog;"dialogClass"===f&&j.removeClass(this.options.dialogClass).addClass(h),"disabled"!==f&&(this._super(f,h),"appendTo"===f&&this.uiDialog.appendTo(this._appendTo()),"buttons"===f&&this._createButtons(),"closeText"===f&&this.uiDialogTitlebarClose.button({label:""+h}),"draggable"===f&&(d=j.is(":data(ui-draggable)"),d&&!h&&j.draggable("destroy"),!d&&h&&this._makeDraggable()),"position"===f&&this._position(),"resizable"===f&&(g=j.is(":data(ui-resizable)"),g&&!h&&j.resizable("destroy"),g&&"string"==typeof h&&j.resizable("option","handles",h),g||h===!1||this._makeResizable()),"title"===f&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var f,h,d,g=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),g.minWidth>g.width&&(g.width=g.minWidth),f=this.uiDialog.css({height:"auto",width:g.width}).outerHeight(),h=Math.max(0,g.minHeight-f),d="number"==typeof g.maxHeight?Math.max(0,g.maxHeight-f):"none","auto"===g.height?this.element.css({minHeight:h,maxHeight:d,height:"auto"}):this.element.height(Math.max(0,g.height-f)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var d=b(this);return b("<div>").css({position:"absolute",width:d.outerWidth(),height:d.outerHeight()}).appendTo(d.parent()).offset(d.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(d){return b(d.target).closest(".ui-dialog").length?!0:!!b(d.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var f=this,d=this.widgetFullName;b.ui.dialog.overlayInstances||this._delay(function(){b.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(e){f._allowInteraction(e)||(e.preventDefault(),b(".ui-dialog:visible:last .ui-dialog-content").data(d)._focusTabbable())})}),this.overlay=b("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),b.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(b.ui.dialog.overlayInstances--,b.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),b.ui.dialog.overlayInstances=0,b.uiBackCompat!==!1&&b.widget("ui.dialog",b.ui.dialog,{_position:function(){var g,d=this.options.position,f=[],h=[0,0];d?(("string"==typeof d||"object"==typeof d&&"0" in d)&&(f=d.split?d.split(" "):[d[0],d[1]],1===f.length&&(f[1]=f[0]),b.each(["left","top"],function(i,j){+f[i]===f[i]&&(h[i]=f[i],f[i]=j)}),d={my:f[0]+(0>h[0]?h[0]:"+"+h[0])+" "+f[1]+(0>h[1]?h[1]:"+"+h[1]),at:f.join(" ")}),d=b.extend({},b.ui.dialog.prototype.options.position,d)):d=b.ui.dialog.prototype.options.position,g=this.uiDialog.is(":visible"),g||this.uiDialog.show(),this.uiDialog.position(d),g||this.uiDialog.hide()}})})(jQuery);(function(a){a.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(b){this.options.disabled&&b.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(b){b.preventDefault()},"click .ui-state-disabled > a":function(b){b.preventDefault()},"click .ui-menu-item:has(a)":function(c){var b=a(c.target).closest(".ui-menu-item");!this.mouseHandled&&b.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(c),b.has(".ui-menu").length?this.expand(c):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){var b=a(c.currentTarget);b.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(c,b)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,d){var b=this.active||this.element.children(".ui-menu-item").eq(0);d||this.focus(c,b)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(j){function c(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var f,l,b,k,g,d=!0;switch(j.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(j);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(j);break;case a.ui.keyCode.HOME:this._move("first","first",j);break;case a.ui.keyCode.END:this._move("last","last",j);break;case a.ui.keyCode.UP:this.previous(j);break;case a.ui.keyCode.DOWN:this.next(j);break;case a.ui.keyCode.LEFT:this.collapse(j);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(j);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(j);break;case a.ui.keyCode.ESCAPE:this.collapse(j);break;default:d=!1,l=this.previousFilter||"",b=String.fromCharCode(j.keyCode),k=!1,clearTimeout(this.filterTimer),b===l?k=!0:b=l+b,g=RegExp("^"+c(b),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())}),f=k&&-1!==f.index(this.active.next())?this.active.nextAll(".ui-menu-item"):f,f.length||(b=String.fromCharCode(j.keyCode),g=RegExp("^"+c(b),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())})),f.length?(this.focus(j,f),f.length>1?(this.previousFilter=b,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter):delete this.previousFilter}d&&j.preventDefault()},_activate:function(b){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(b):this.select(b))},refresh:function(){var d,b=this.options.icons.submenu,c=this.element.find(this.options.menus);c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var g=a(this),f=g.prev("a"),h=a("<span>").addClass("ui-menu-icon ui-icon "+b).data("ui-menu-submenu-carat",!0);f.attr("aria-haspopup","true").prepend(h),g.attr("aria-labelledby",f.attr("id"))}),d=c.add(this.element),d.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),d.children(":not(.ui-menu-item)").each(function(){var f=a(this);/[^\-\u2014\u2013\s]/.test(f.text())||f.addClass("ui-widget-content ui-menu-divider")}),d.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(b,c){"icons"===b&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(c.submenu),this._super(b,c)},focus:function(c,f){var b,d;this.blur(c,c&&"focus"===c.type),this._scrollIntoView(f),this.active=f.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),c&&"keydown"===c.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),b=f.children(".ui-menu"),b.length&&/^mouse/.test(c.type)&&this._startOpening(b),this.activeMenu=f.parent(),this._trigger("focus",c,{item:f})},_scrollIntoView:function(g){var c,d,j,b,h,f;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,j=g.offset().top-this.activeMenu.offset().top-c-d,b=this.activeMenu.scrollTop(),h=this.activeMenu.height(),f=g.height(),0>j?this.activeMenu.scrollTop(b+j):j+f>h&&this.activeMenu.scrollTop(b+j-h+f))},blur:function(b,c){c||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",b,{item:this.active}))},_startOpening:function(b){clearTimeout(this.timer),"true"===b.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(b)},this.delay))},_open:function(c){var b=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true"),c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(b)},collapseAll:function(c,b){clearTimeout(this.timer),this.timer=this._delay(function(){var d=b?this.element:a(c&&c.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(c),this.activeMenu=d},this.delay)},_close:function(b){b||(b=this.active?this.active.parent():this.element),b.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(b){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);c&&c.length&&(this._close(),this.focus(b,c))},expand:function(b){var c=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();c&&c.length&&(this._open(c.parent()),this._delay(function(){this.focus(b,c)}))},next:function(b){this._move("next","first",b)},previous:function(b){this._move("prev","last",b)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(c,f,b){var d;this.active&&(d="first"===c||"last"===c?this.active["first"===c?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[c+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[f]()),this.focus(b,d)},nextPage:function(d){var b,c,f;return this.active?(this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,f=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return b=a(this),0>b.offset().top-c-f}),this.focus(d,b)):this.focus(d,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(d),undefined)},previousPage:function(d){var b,c,f;return this.active?(this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,f=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return b=a(this),b.offset().top-c+f>0}),this.focus(d,b)):this.focus(d,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(d),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0),this._trigger("select",c,b)}})})(jQuery);(function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var g,d,f=this.options,j=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),c="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",h=[];for(d=f.values&&f.values.length||1,j.length>d&&(j.slice(d).remove(),j=j.slice(0,d)),g=j.length;d>g;g++){h.push(c)}this.handles=j.add(a(h.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(i){a(this).data("ui-slider-handle-index",i)})},_createRange:function(){var d=this.options,c="";d.range?(d.range===!0&&(d.values?d.values.length&&2!==d.values.length?d.values=[d.values[0],d.values[0]]:a.isArray(d.values)&&(d.values=d.values.slice(0)):d.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===d.range||"max"===d.range?" ui-slider-range-"+d.range:""))):this.range=a([])},_setupEvents:function(){var c=this.handles.add(this.range).filter("a");this._off(c),this._on(c,this._handleEvents),this._hoverable(c),this._focusable(c)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(p){var k,w,g,t,f,d,m,j,v=this,q=this.options;return q.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),k={x:p.pageX,y:p.pageY},w=this._normValueFromMouse(k),g=this._valueMax()-this._valueMin()+1,this.handles.each(function(h){var c=Math.abs(w-v.values(h));(g>c||g===c&&(h===v._lastChangedValue||v.values(h)===q.min))&&(g=c,t=a(this),f=h)}),d=this._start(p,f),d===!1?!1:(this._mouseSliding=!0,this._handleIndex=f,t.addClass("ui-state-active").focus(),m=t.offset(),j=!a(p.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:p.pageX-m.left-t.width()/2,top:p.pageY-m.top-t.height()/2-(parseInt(t.css("borderTopWidth"),10)||0)-(parseInt(t.css("borderBottomWidth"),10)||0)+(parseInt(t.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(p,f,w),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(d){var f={x:d.pageX,y:d.pageY},c=this._normValueFromMouse(f);return this._slide(d,this._handleIndex,c),!1},_mouseStop:function(c){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(c,this._handleIndex),this._change(c,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(f){var h,d,g,j,c;return"horizontal"===this.orientation?(h=this.elementSize.width,d=f.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(h=this.elementSize.height,d=f.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),g=d/h,g>1&&(g=1),0>g&&(g=0),"vertical"===this.orientation&&(g=1-g),j=this._valueMax()-this._valueMin(),c=this._valueMin()+g*j,this._trimAlignValue(c)},_start:function(d,f){var c={handle:this.handles[f],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._trigger("start",d,c)},_slide:function(f,h,d){var g,j,c;this.options.values&&this.options.values.length?(g=this.values(h?0:1),2===this.options.values.length&&this.options.range===!0&&(0===h&&d>g||1===h&&g>d)&&(d=g),d!==this.values(h)&&(j=this.values(),j[h]=d,c=this._trigger("slide",f,{handle:this.handles[h],value:d,values:j}),g=this.values(h?0:1),c!==!1&&this.values(h,d,!0))):d!==this.value()&&(c=this._trigger("slide",f,{handle:this.handles[h],value:d}),c!==!1&&this.value(d))},_stop:function(d,f){var c={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._trigger("stop",d,c)},_change:function(d,f){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._lastChangedValue=f,this._trigger("change",d,c)}},value:function(c){return arguments.length?(this.options.value=this._trimAlignValue(c),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(g,d){var f,h,c;if(arguments.length>1){return this.options.values[g]=this._trimAlignValue(d),this._refreshValue(),this._change(null,g),undefined}if(!arguments.length){return this._values()}if(!a.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(g):this.value()}for(f=this.options.values,h=arguments[0],c=0;f.length>c;c+=1){f[c]=this._trimAlignValue(h[c]),this._change(null,c)}this._refreshValue()},_setOption:function(f,c){var d,g=0;switch("range"===f&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(g=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),f){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;g>d;d+=1){this._change(null,d)}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},_values:function(d){var g,c,f;if(arguments.length){return g=this.options.values[d],g=this._trimAlignValue(g)}if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),f=0;c.length>f;f+=1){c[f]=this._trimAlignValue(c[f])}return c}return[]},_trimAlignValue:function(d){if(this._valueMin()>=d){return this._valueMin()}if(d>=this._valueMax()){return this._valueMax()}var g=this.options.step>0?this.options.step:1,c=(d-this._valueMin())%g,f=d-c;return 2*Math.abs(c)>=g&&(f+=c>0?g:-g),parseFloat(f.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var m,j,t,f,p,d=this.options.range,c=this.options,k=this,g=this._animateOff?!1:c.animate,q={};this.options.values&&this.options.values.length?this.handles.each(function(e){j=100*((k.values(e)-k._valueMin())/(k._valueMax()-k._valueMin())),q["horizontal"===k.orientation?"left":"bottom"]=j+"%",a(this).stop(1,1)[g?"animate":"css"](q,c.animate),k.options.range===!0&&("horizontal"===k.orientation?(0===e&&k.range.stop(1,1)[g?"animate":"css"]({left:j+"%"},c.animate),1===e&&k.range[g?"animate":"css"]({width:j-m+"%"},{queue:!1,duration:c.animate})):(0===e&&k.range.stop(1,1)[g?"animate":"css"]({bottom:j+"%"},c.animate),1===e&&k.range[g?"animate":"css"]({height:j-m+"%"},{queue:!1,duration:c.animate}))),m=j}):(t=this.value(),f=this._valueMin(),p=this._valueMax(),j=p!==f?100*((t-f)/(p-f)):0,q["horizontal"===this.orientation?"left":"bottom"]=j+"%",this.handle.stop(1,1)[g?"animate":"css"](q,c.animate),"min"===d&&"horizontal"===this.orientation&&this.range.stop(1,1)[g?"animate":"css"]({width:j+"%"},c.animate),"max"===d&&"horizontal"===this.orientation&&this.range[g?"animate":"css"]({width:100-j+"%"},{queue:!1,duration:c.animate}),"min"===d&&"vertical"===this.orientation&&this.range.stop(1,1)[g?"animate":"css"]({height:j+"%"},c.animate),"max"===d&&"vertical"===this.orientation&&this.range[g?"animate":"css"]({height:100-j+"%"},{queue:!1,duration:c.animate}))},_handleEvents:{keydown:function(d){var e,h,c,g,f=a(d.target).data("ui-slider-handle-index");switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(d.target).addClass("ui-state-active"),e=this._start(d,f),e===!1)){return}}switch(g=this.options.step,h=c=this.options.values&&this.options.values.length?this.values(f):this.value(),d.keyCode){case a.ui.keyCode.HOME:c=this._valueMin();break;case a.ui.keyCode.END:c=this._valueMax();break;case a.ui.keyCode.PAGE_UP:c=this._trimAlignValue(h+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(h-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(h===this._valueMax()){return}c=this._trimAlignValue(h+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(h===this._valueMin()){return}c=this._trimAlignValue(h-g)}this._slide(d,f,c)},click:function(c){c.preventDefault()},keyup:function(d){var c=a(d.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(d,c),this._change(d,c),a(d.target).removeClass("ui-state-active"))}}})})(jQuery);(function(b){function d(h,f){var g=(h.attr("aria-describedby")||"").split(/\s+/);g.push(f),h.data("ui-tooltip-id",f).attr("aria-describedby",b.trim(g.join(" ")))}function a(h){var f=h.data("ui-tooltip-id"),g=(h.attr("aria-describedby")||"").split(/\s+/),j=b.inArray(f,g);-1!==j&&g.splice(j,1),h.removeData("ui-tooltip-id"),g=b.trim(g.join(" ")),g?h.attr("aria-describedby",g):h.removeAttr("aria-describedby")}var c=0;b.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var f=b(this).attr("title")||"";return b("<a>").text(f).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(h,f){var g=this;return"disabled"===h?(this[f?"_disable":"_enable"](),this.options[h]=f,void 0):(this._super(h,f),"content"===h&&b.each(this.tooltips,function(i,j){g._updateContent(j)}),void 0)},_disable:function(){var f=this;b.each(this.tooltips,function(e,g){var h=b.Event("blur");h.target=h.currentTarget=g[0],f.close(h,!0)}),this.element.find(this.options.items).addBack().each(function(){var g=b(this);g.is("[title]")&&g.data("ui-tooltip-title",g.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var f=b(this);f.data("ui-tooltip-title")&&f.attr("title",f.data("ui-tooltip-title"))})},open:function(h){var f=this,g=b(h?h.target:this.element).closest(this.options.items);g.length&&!g.data("ui-tooltip-id")&&(g.attr("title")&&g.data("ui-tooltip-title",g.attr("title")),g.data("ui-tooltip-open",!0),h&&"mouseover"===h.type&&g.parents().each(function(){var j,i=b(this);i.data("ui-tooltip-open")&&(j=b.Event("blur"),j.target=j.currentTarget=this,f.close(j,!0)),i.attr("title")&&(i.uniqueId(),f.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(g,h))},_updateContent:function(h,k){var g,j=this.options.content,l=this,f=k?k.type:null;return"string"==typeof j?this._open(k,h,j):(g=j.call(h[0],function(e){h.data("ui-tooltip-open")&&l._delay(function(){k&&(k.type=f),this._open(k,h,e)})}),g&&this._open(k,h,g),void 0)},_open:function(g,k,q){function f(h){e.of=h,p.is(":hidden")||p.position(e)}var p,m,j,e=b.extend({},this.options.position);if(q){if(p=this._find(k),p.length){return p.find(".ui-tooltip-content").html(q),void 0}k.is("[title]")&&(g&&"mouseover"===g.type?k.attr("title",""):k.removeAttr("title")),p=this._tooltip(k),d(k,p.attr("id")),p.find(".ui-tooltip-content").html(q),this.options.track&&g&&/^mouse/.test(g.type)?(this._on(this.document,{mousemove:f}),f(g)):p.position(b.extend({of:k},this.options.position)),p.hide(),this._show(p,this.options.show),this.options.show&&this.options.show.delay&&(j=this.delayedShow=setInterval(function(){p.is(":visible")&&(f(e.of),clearInterval(j))},b.fx.interval)),this._trigger("open",g,{tooltip:p}),m={keyup:function(l){if(l.keyCode===b.ui.keyCode.ESCAPE){var h=b.Event(l);h.currentTarget=k[0],this.close(h,!0)}},remove:function(){this._removeTooltip(p)}},g&&"mouseover"!==g.type||(m.mouseleave="close"),g&&"focusin"!==g.type||(m.focusout="close"),this._on(!0,k,m)}},close:function(h){var g=this,i=b(h?h.currentTarget:this.element),f=this._find(i);this.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&i.attr("title",i.data("ui-tooltip-title")),a(i),f.stop(!0),this._hide(f,this.options.hide,function(){g._removeTooltip(b(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),h&&"mouseleave"===h.type&&b.each(this.parents,function(k,j){b(j.element).attr("title",j.title),delete g.parents[k]}),this.closing=!0,this._trigger("close",h,{tooltip:f}),this.closing=!1)},_tooltip:function(g){var f="ui-tooltip-"+c++,h=b("<div>").attr({id:f,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return b("<div>").addClass("ui-tooltip-content").appendTo(h),h.appendTo(this.document[0].body),this.tooltips[f]=g,h},_find:function(g){var f=g.data("ui-tooltip-id");return f?b("#"+f):b()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var f=this;b.each(this.tooltips,function(e,g){var h=b.Event("blur");h.target=h.currentTarget=g[0],f.close(h,!0),b("#"+e).remove(),g.data("ui-tooltip-title")&&(g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"))})}})})(jQuery);(function(b,c){var a="ui-effects-";b.effects={effect:{}},function(D,y){function v(f,l,d){var h=C[l.type]||{};return null==f?d||!l.def?null:l.def:(f=h.floor?~~f:parseFloat(f),isNaN(f)?l.def:h.mod?(f+h.mod)%h.mod:0>f?0:f>h.max?h.max:f)}function E(d){var e=q(),f=e._rgba=[];return d=d.toLowerCase(),x(w,function(p,n){var F,u=n.re.exec(d),s=u&&n.parse(u),i=n.space||"rgba";return s?(F=e[i](s),e[A[i].cache]=F[A[i].cache],f=e._rgba=F._rgba,!1):y}),f.length?("0,0,0,0"===f.join()&&D.extend(f,B.transparent),e):B[d]}function m(f,h,d){return d=(d+1)%1,1>6*d?f+6*(h-f)*d:1>2*d?h:2>3*d?f+6*(h-f)*(2/3-d):f}var B,k="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",g=/^([\-+])=\s*(\d+\.?\d*)/,w=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(d){return[d[1],d[2],d[3],d[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(d){return[2.55*d[1],2.55*d[2],2.55*d[3],d[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(d){return[d[1],d[2]/100,d[3]/100,d[4]]}}],q=D.Color=function(h,d,f,l){return new D.Color.fn.parse(h,d,f,l)},A={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},C={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},z=q.support={},j=D("<p>")[0],x=D.each;j.style.cssText="background-color:rgba(1,1,1,.5)",z.rgba=j.style.backgroundColor.indexOf("rgba")>-1,x(A,function(d,f){f.cache="_"+d,f.props.alpha={idx:3,type:"percent",def:1}}),q.fn=D.extend(q.prototype,{parse:function(F,t,i,f){if(F===y){return this._rgba=[null,null,null,null],this}(F.jquery||F.nodeType)&&(F=D(F).css(t),t=y);var e=this,s=D.type(F),l=this._rgba=[];return t!==y&&(F=[F,t,i,f],s="array"),"string"===s?this.parse(E(F)||B._default):"array"===s?(x(A.rgba.props,function(d,h){l[h.idx]=v(F[h.idx],h)}),this):"object"===s?(F instanceof q?x(A,function(d,h){F[h.cache]&&(e[h.cache]=F[h.cache].slice())}):x(A,function(n,h){var d=h.cache;x(h.props,function(o,p){if(!e[d]&&h.to){if("alpha"===o||null==F[o]){return}e[d]=h.to(e._rgba)}e[d][p.idx]=v(F[o],p,!0)}),e[d]&&0>D.inArray(null,e[d].slice(0,3))&&(e[d][3]=1,h.from&&(e._rgba=h.from(e[d])))}),this):y},is:function(e){var d=q(e),f=!0,h=this;return x(A,function(l,i){var p,n=d[i.cache];return n&&(p=h[i.cache]||i.to&&i.to(h._rgba)||[],x(i.props,function(r,o){return null!=n[o.idx]?f=n[o.idx]===p[o.idx]:y})),f}),f},_space:function(){var d=[],f=this;return x(A,function(e,h){f[h.cache]&&d.push(e)}),d.pop()},transition:function(f,u){var l=q(f),G=l._space(),d=A[G],F=0===this.alpha()?q("transparent"):this,p=F[d.cache]||d.to(F._rgba),i=p.slice();return l=l[d.cache],x(d.props,function(r,I){var h=I.idx,s=p[h],e=l[h],H=C[I.type]||{};null!==e&&(null===s?i[h]=e:(H.mod&&(e-s>H.mod/2?s+=H.mod:s-e>H.mod/2&&(s-=H.mod)),i[h]=v((e-s)*u+s,I)))}),this[G](i)},blend:function(h){if(1===this._rgba[3]){return this}var d=this._rgba.slice(),f=d.pop(),l=q(h)._rgba;return q(D.map(d,function(i,n){return(1-f)*l[n]+f*i}))},toRgbaString:function(){var f="rgba(",d=D.map(this._rgba,function(h,i){return null==h?i>2?1:0:h});return 1===d[3]&&(d.pop(),f="rgb("),f+d.join()+")"},toHslaString:function(){var f="hsla(",d=D.map(this.hsla(),function(h,i){return null==h&&(h=i>2?1:0),i&&3>i&&(h=Math.round(100*h)+"%"),h});return 1===d[3]&&(d.pop(),f="hsl("),f+d.join()+")"},toHexString:function(h){var d=this._rgba.slice(),f=d.pop();return h&&d.push(~~(255*f)),"#"+D.map(d,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),q.fn.parse.prototype=q.fn,A.hsla.to=function(M){if(null==M[0]||null==M[1]||null==M[2]){return[null,null,null,M[3]]}var I,G,N=M[0]/255,p=M[1]/255,K=M[2]/255,f=M[3],d=Math.max(N,p,K),H=Math.min(N,p,K),F=d-H,J=d+H,L=0.5*J;return I=H===d?0:N===d?60*(p-K)/F+360:p===d?60*(K-N)/F+120:60*(N-p)/F+240,G=0===F?0:0.5>=L?F/J:F/(2-J),[Math.round(I)%360,G,L,null==f?1:f]},A.hsla.from=function(h){if(null==h[0]||null==h[1]||null==h[2]){return[null,null,null,h[3]]}var p=h[0]/360,f=h[1],l=h[2],d=h[3],u=0.5>=l?l*(1+f):l+f-l*f,n=2*l-u;return[Math.round(255*m(n,u,p+1/3)),Math.round(255*m(n,u,p)),Math.round(255*m(n,u,p-1/3)),d]},x(A,function(f,p){var d=p.props,i=p.cache,e=p.to,l=p.from;q.fn[f]=function(o){if(e&&!this[i]&&(this[i]=e(this._rgba)),o===y){return this[i].slice()}var G,t=D.type(o),h="array"===t||"object"===t?o:arguments,F=this[i].slice();return x(d,function(n,u){var r=h["object"===t?n:u.idx];null==r&&(r=F[u.idx]),F[u.idx]=v(r,u)}),l?(G=q(l(F)),G[i]=F,G):q(F)},x(d,function(n,h){q.fn[n]||(q.fn[n]=function(G){var s,u=D.type(G),t="alpha"===n?this._hsla?"hsla":"rgba":f,r=this[t](),F=r[h.idx];return"undefined"===u?F:("function"===u&&(G=G.call(this,F),u=D.type(G)),null==G&&h.empty?this:("string"===u&&(s=g.exec(G),s&&(G=F+parseFloat(s[2])*("+"===s[1]?1:-1))),r[h.idx]=G,this[t](r)))})})}),q.hook=function(f){var d=f.split(" ");x(d,function(l,h){D.cssHooks[h]={set:function(t,F){var i,u,s="";if("transparent"!==F&&("string"!==D.type(F)||(i=E(F)))){if(F=q(i||F),!z.rgba&&1!==F._rgba[3]){for(u="backgroundColor"===h?t.parentNode:t;(""===s||"transparent"===s)&&u&&u.style;){try{s=D.css(u,"backgroundColor"),u=u.parentNode}catch(p){}}F=F.blend(s&&"transparent"!==s?s:"_default")}F=F.toRgbaString()}try{t.style[h]=F}catch(p){}}},D.fx.step[h]=function(i){i.colorInit||(i.start=q(i.elem,h),i.end=q(i.end),i.colorInit=!0),D.cssHooks[h].set(i.elem,i.start.transition(i.end,i.pos))}})},q.hook(k),D.cssHooks.borderColor={expand:function(d){var f={};return x(["Top","Right","Bottom","Left"],function(e,h){f["border"+h+"Color"]=d}),f}},B=D.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(l){var j,k,m=l.ownerDocument.defaultView?l.ownerDocument.defaultView.getComputedStyle(l,null):l.currentStyle,h={};if(m&&m.length&&m[0]&&m[m[0]]){for(k=m.length;k--;){j=m[k],"string"==typeof m[j]&&(h[b.camelCase(j)]=m[j])}}else{for(j in m){"string"==typeof m[j]&&(h[j]=m[j])}}return h}function f(k,h){var j,m,l={};for(j in h){m=h[j],k[j]!==m&&(d[j]||(b.fx.step[j]||!isNaN(parseFloat(m)))&&(l[j]=m))}return l}var g=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(j,h){b.fx.step[h]=function(i){("none"!==i.end&&!i.setAttr||1===i.pos&&!i.setAttr)&&(jQuery.style(i.elem,h,i.end),i.setAttr=!0)}}),b.fn.addBack||(b.fn.addBack=function(h){return this.add(null==h?this.prevObject:this.prevObject.filter(h))}),b.effects.animateClass=function(l,i,m,k){var j=b.speed(i,m,k);return this.queue(function(){var n,q=b(this),p=q.attr("class")||"",h=j.children?q.find("*").addBack():q;h=h.map(function(){var o=b(this);return{el:o,start:e(this)}}),n=function(){b.each(g,function(r,o){l[o]&&q[o+"Class"](l[o])})},n(),h=h.map(function(){return this.end=e(this.el[0]),this.diff=f(this.start,this.end),this}),q.attr("class",p),h=h.map(function(){var t=this,o=b.Deferred(),r=b.extend({},j,{queue:!1,complete:function(){o.resolve(t)}});return this.el.animate(this.diff,r),o.promise()}),b.when.apply(b,h.get()).done(function(){n(),b.each(arguments,function(){var o=this.el;b.each(this.diff,function(r){o.css(r,"")})}),j.complete.call(q[0])})})},b.fn.extend({addClass:function(h){return function(k,l,m,j){return l?b.effects.animateClass.call(this,{add:k},l,m,j):h.apply(this,arguments)}}(b.fn.addClass),removeClass:function(h){return function(k,l,m,j){return arguments.length>1?b.effects.animateClass.call(this,{remove:k},l,m,j):h.apply(this,arguments)}}(b.fn.removeClass),toggleClass:function(h){return function(j,m,i,l,k){return"boolean"==typeof m||m===c?i?b.effects.animateClass.call(this,m?{add:j}:{remove:j},i,l,k):h.apply(this,arguments):b.effects.animateClass.call(this,{toggle:j},m,i,l)}}(b.fn.toggleClass),switchClass:function(l,j,k,m,h){return b.effects.animateClass.call(this,{add:j,remove:l},k,m,h)}})}(),function(){function d(h,f,g,j){return b.isPlainObject(h)&&(f=h,h=h.effect),h={effect:h},null==f&&(f={}),b.isFunction(f)&&(j=f,g=null,f={}),("number"==typeof f||b.fx.speeds[f])&&(j=g,g=f,f={}),b.isFunction(g)&&(j=g,g=null),f&&b.extend(h,f),g=g||f.duration,h.duration=b.fx.off?0:"number"==typeof g?g:g in b.fx.speeds?b.fx.speeds[g]:b.fx.speeds._default,h.complete=j||f.complete,h}function e(f){return !f||"number"==typeof f||b.fx.speeds[f]?!0:"string"!=typeof f||b.effects.effect[f]?b.isFunction(f)?!0:"object"!=typeof f||f.effect?!1:!0:!0}b.extend(b.effects,{version:"1.10.3",save:function(f,h){for(var g=0;h.length>g;g++){null!==h[g]&&f.data(a+h[g],f[0].style[h[g]])}},restore:function(g,h){var i,f;for(f=0;h.length>f;f++){null!==h[f]&&(i=g.data(a+h[f]),i===c&&(i=""),g.css(h[f],i))}},setMode:function(f,g){return"toggle"===g&&(g=f.is(":hidden")?"show":"hide"),g},getBaseline:function(g,j){var f,h;switch(g[0]){case"top":f=0;break;case"middle":f=0.5;break;case"bottom":f=1;break;default:f=g[0]/j.height}switch(g[1]){case"left":h=0;break;case"center":h=0.5;break;case"right":h=1;break;default:h=g[1]/j.width}return{x:h,y:f}},createWrapper:function(j){if(j.parent().is(".ui-effects-wrapper")){return j.parent()}var g={width:j.outerWidth(!0),height:j.outerHeight(!0),"float":j.css("float")},h=b("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),l={width:j.width(),height:j.height()},f=document.activeElement;try{f.id}catch(k){f=document.body}return j.wrap(h),(j[0]===f||b.contains(j[0],f))&&b(f).focus(),h=j.parent(),"static"===j.css("position")?(h.css({position:"relative"}),j.css({position:"relative"})):(b.extend(g,{position:j.css("position"),zIndex:j.css("z-index")}),b.each(["top","left","bottom","right"],function(i,m){g[m]=j.css(m),isNaN(parseInt(g[m],10))&&(g[m]="auto")}),j.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),j.css(l),h.css(g).show()},removeWrapper:function(g){var f=document.activeElement;return g.parent().is(".ui-effects-wrapper")&&(g.parent().replaceWith(g),(g[0]===f||b.contains(g[0],f))&&b(f).focus()),g},setTransition:function(h,f,g,j){return j=j||{},b.each(f,function(m,l){var k=h.cssUnit(l);k[0]>0&&(j[l]=k[0]*g+k[1])}),j}}),b.fn.extend({effect:function(){function h(o){function l(){b.isFunction(i)&&i.call(p[0]),b.isFunction(o)&&o()}var p=b(this),i=g.complete,m=g.mode;(p.is(":hidden")?"hide"===m:"show"===m)?(p[m](),l()):j.call(p[0],g,l)}var g=d.apply(this,arguments),k=g.mode,f=g.queue,j=b.effects.effect[g.effect];return b.fx.off||!j?k?this[k](g.duration,g.complete):this.each(function(){g.complete&&g.complete.call(this)}):f===!1?this.each(h):this.queue(f||"fx",h)},show:function(f){return function(h){if(e(h)){return f.apply(this,arguments)}var g=d.apply(this,arguments);return g.mode="show",this.effect.call(this,g)}}(b.fn.show),hide:function(f){return function(h){if(e(h)){return f.apply(this,arguments)}var g=d.apply(this,arguments);return g.mode="hide",this.effect.call(this,g)}}(b.fn.hide),toggle:function(f){return function(h){if(e(h)||"boolean"==typeof h){return f.apply(this,arguments)}var g=d.apply(this,arguments);return g.mode="toggle",this.effect.call(this,g)}}(b.fn.toggle),cssUnit:function(h){var f=this.css(h),g=[];return b.each(["em","px","%","pt"],function(i,j){f.indexOf(j)>0&&(g=[parseFloat(f),j])}),g}})}(),function(){var d={};b.each(["Quad","Cubic","Quart","Quint","Expo"],function(f,e){d[e]=function(g){return Math.pow(g,f+2)}}),b.extend(d,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(g){for(var h,f=4;((h=Math.pow(2,--f))-1)/11>g;){}return 1/Math.pow(4,3-f)-7.5625*Math.pow((3*h-2)/22-g,2)}}),b.each(d,function(g,f){b.easing["easeIn"+g]=f,b.easing["easeOut"+g]=function(e){return 1-f(1-e)},b.easing["easeInOut"+g]=function(e){return 0.5>e?f(2*e)/2:1-f(-2*e+2)/2}})}()})(jQuery);(function(b){var c=/up|down|vertical/,a=/up|left|vertical|horizontal/;b.effects.effect.blind=function(E,k){var B,j,e,w=b(this),t=["position","top","bottom","left","right","height","width"],A=b.effects.setMode(w,E.mode||"hide"),D=E.direction||"up",z=c.test(D),i=z?"height":"width",y=z?"top":"left",q=a.test(D),x={},C="show"===A;w.parent().is(".ui-effects-wrapper")?b.effects.save(w.parent(),t):b.effects.save(w,t),w.show(),B=b.effects.createWrapper(w).css({overflow:"hidden"}),j=B[i](),e=parseFloat(B.css(y))||0,x[i]=C?j:0,q||(w.css(z?"bottom":"right",0).css(z?"top":"left","auto").css({position:"absolute"}),x[y]=C?e:j+e),C&&(B.css(i,0),q||B.css(y,e+j)),B.animate(x,{duration:E.duration,easing:E.easing,queue:!1,complete:function(){"hide"===A&&w.hide(),b.effects.restore(w,t),b.effects.removeWrapper(w),k()}})}})(jQuery);(function(a){a.effects.effect.bounce=function(H,D){var t,A,L,z=a(this),w=["position","top","bottom","left","right","height","width"],E=a.effects.setMode(z,H.mode||"effect"),C="hide"===E,J="show"===E,q=H.direction||"up",I=H.distance,x=H.times||5,G=2*x+(J||C?1:0),B=H.duration/G,F=H.easing,k="up"===q||"down"===q?"top":"left",M="up"===q||"left"===q,K=z.queue(),j=K.length;for((J||C)&&w.push("opacity"),a.effects.save(z,w),z.show(),a.effects.createWrapper(z),I||(I=z["top"===k?"outerHeight":"outerWidth"]()/3),J&&(L={opacity:1},L[k]=0,z.css("opacity",0).css(k,M?2*-I:2*I).animate(L,B,F)),C&&(I/=Math.pow(2,x-1)),L={},L[k]=0,t=0;x>t;t++){A={},A[k]=(M?"-=":"+=")+I,z.animate(A,B,F).animate(L,B,F),I=C?2*I:I/2}C&&(A={opacity:0},A[k]=(M?"-=":"+=")+I,z.animate(A,B,F)),z.queue(function(){C&&z.hide(),a.effects.restore(z,w),a.effects.removeWrapper(z),D()}),j>1&&K.splice.apply(K,[1,0].concat(K.splice(j,G+1))),z.dequeue()}})(jQuery);(function(a){a.effects.effect.clip=function(w,q){var B,k,z,j=a(this),b=["position","top","bottom","left","right","height","width"],t=a.effects.setMode(j,w.mode||"hide"),m="show"===t,y=w.direction||"vertical",A="vertical"===y,x=A?"height":"width",g=A?"top":"left",v={};a.effects.save(j,b),j.show(),B=a.effects.createWrapper(j).css({overflow:"hidden"}),k="IMG"===j[0].tagName?B:j,z=k[x](),m&&(k.css(x,0),k.css(g,z/2)),v[x]=m?z:0,v[g]=m?0:z/2,k.animate(v,{queue:!1,duration:w.duration,easing:w.easing,complete:function(){m||j.hide(),a.effects.restore(j,b),a.effects.removeWrapper(j),q()}})}})(jQuery);(function(a){a.effects.effect.drop=function(m,j){var v,f=a(this),q=["position","top","bottom","left","right","opacity","height","width"],d=a.effects.setMode(f,m.mode||"hide"),b="show"===d,k=m.direction||"left",g="up"===k||"down"===k?"top":"left",p="up"===k||"left"===k?"pos":"neg",t={opacity:b?1:0};a.effects.save(f,q),f.show(),a.effects.createWrapper(f),v=m.distance||f["top"===g?"outerHeight":"outerWidth"](!0)/2,b&&f.css("opacity",0).css(g,"pos"===p?-v:v),t[g]=(b?"pos"===p?"+=":"-=":"pos"===p?"-=":"+=")+v,f.animate(t,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){"hide"===d&&f.hide(),a.effects.restore(f,q),a.effects.removeWrapper(f),j()}})}})(jQuery);(function(a){a.effects.effect.explode=function(F,B){function q(){I.push(this),I.length===k*G&&y()}function y(){w.css({visibility:"visible"}),a(I).remove(),z||w.hide(),B()}var J,x,t,C,A,H,k=F.pieces?Math.round(Math.sqrt(F.pieces)):3,G=k,w=a(this),E=a.effects.setMode(w,F.mode||"hide"),z="show"===E,D=w.show().css("visibility","hidden").offset(),j=Math.ceil(w.outerWidth()/G),K=Math.ceil(w.outerHeight()/k),I=[];for(J=0;k>J;J++){for(C=D.top+J*K,H=J-(k-1)/2,x=0;G>x;x++){t=D.left+x*j,A=x-(G-1)/2,w.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-x*j,top:-J*K}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:j,height:K,left:t+(z?A*j:0),top:C+(z?H*K:0),opacity:z?0:1}).animate({left:t+(z?0:A*j),top:C+(z?0:H*K),opacity:z?1:0},F.duration||500,F.easing,q)}}}})(jQuery);(function(a){a.effects.effect.fade=function(d,b){var c=a(this),f=a.effects.setMode(c,d.mode||"toggle");c.animate({opacity:f},{queue:!1,duration:d.duration,easing:d.easing,complete:b})}})(jQuery);(function(a){a.effects.effect.fold=function(B,x){var H,q,E=a(this),k=["position","top","bottom","left","right","height","width"],b=a.effects.setMode(E,B.mode||"hide"),y="show"===b,w="hide"===b,D=B.size||15,G=/([0-9]+)%/.exec(D),C=!!B.horizFirst,j=y!==C,A=j?["width","height"]:["height","width"],t=B.duration/2,z={},F={};a.effects.save(E,k),E.show(),H=a.effects.createWrapper(E).css({overflow:"hidden"}),q=j?[H.width(),H.height()]:[H.height(),H.width()],G&&(D=parseInt(G[1],10)/100*q[w?0:1]),y&&H.css(C?{height:0,width:D}:{height:D,width:0}),z[A[0]]=y?q[0]:D,F[A[1]]=y?q[1]:0,H.animate(z,t,B.easing).animate(F,t,B.easing,function(){w&&E.hide(),a.effects.restore(E,k),a.effects.removeWrapper(E),x()})}})(jQuery);(function(a){a.effects.effect.highlight=function(f,c){var d=a(this),h=["backgroundImage","backgroundColor","opacity"],b=a.effects.setMode(d,f.mode||"show"),g={backgroundColor:d.css("backgroundColor")};"hide"===b&&(g.opacity=0),a.effects.save(d,h),d.show().css({backgroundImage:"none",backgroundColor:f.color||"#ffff99"}).animate(g,{queue:!1,duration:f.duration,easing:f.easing,complete:function(){"hide"===b&&d.hide(),a.effects.restore(d,h),c()}})}})(jQuery);(function(a){a.effects.effect.pulsate=function(t,m){var z,j=a(this),x=a.effects.setMode(j,t.mode||"show"),g="show"===x,b="hide"===x,q=g||"hide"===x,k=2*(t.times||5)+(q?1:0),w=t.duration/k,y=0,v=j.queue(),f=v.length;for((g||!j.is(":visible"))&&(j.css("opacity",0).show(),y=1),z=1;k>z;z++){j.animate({opacity:y},w,t.easing),y=1-y}j.animate({opacity:y},w,t.easing),j.queue(function(){b&&j.hide(),m()}),f>1&&v.splice.apply(v,[1,0].concat(v.splice(f,k+1))),j.dequeue()}})(jQuery);(function(a){a.effects.effect.puff=function(j,c){var f=a(this),l=a.effects.setMode(f,j.mode||"hide"),b="hide"===l,k=parseInt(j.percent,10)||150,g=k/100,d={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()};a.extend(j,{effect:"scale",queue:!1,fade:!0,mode:l,complete:c,percent:b?k:100,from:b?d:{height:d.height*g,width:d.width*g,outerHeight:d.outerHeight*g,outerWidth:d.outerWidth*g}}),f.effect(j)},a.effects.effect.scale=function(m,j){var t=a(this),f=a.extend(!0,{},m),q=a.effects.setMode(t,m.mode||"effect"),d=parseInt(m.percent,10)||(0===parseInt(m.percent,10)?0:"hide"===q?0:100),b=m.direction||"both",k=m.origin,g={height:t.height(),width:t.width(),outerHeight:t.outerHeight(),outerWidth:t.outerWidth()},p={y:"horizontal"!==b?d/100:1,x:"vertical"!==b?d/100:1};f.effect="size",f.queue=!1,f.complete=j,"effect"!==q&&(f.origin=k||["middle","center"],f.restore=!0),f.from=m.from||("show"===q?{height:0,width:0,outerHeight:0,outerWidth:0}:g),f.to={height:g.height*p.y,width:g.width*p.x,outerHeight:g.outerHeight*p.y,outerWidth:g.outerWidth*p.x},f.fade&&("show"===q&&(f.from.opacity=0,f.to.opacity=1),"hide"===q&&(f.from.opacity=1,f.to.opacity=0)),t.effect(f)},a.effects.effect.size=function(F,B){var q,y,J,x=a(this),t=["position","top","bottom","left","right","width","height","overflow","opacity"],C=["position","top","bottom","left","right","overflow","opacity"],A=["width","height","overflow"],H=["fontSize"],k=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],G=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],w=a.effects.setMode(x,F.mode||"effect"),E=F.restore||"effect"!==w,z=F.scale||"both",D=F.origin||["middle","center"],j=x.css("position"),K=E?t:C,I={height:0,width:0,outerHeight:0,outerWidth:0};"show"===w&&x.show(),q={height:x.height(),width:x.width(),outerHeight:x.outerHeight(),outerWidth:x.outerWidth()},"toggle"===F.mode&&"show"===w?(x.from=F.to||I,x.to=F.from||q):(x.from=F.from||("show"===w?I:q),x.to=F.to||("hide"===w?I:q)),J={from:{y:x.from.height/q.height,x:x.from.width/q.width},to:{y:x.to.height/q.height,x:x.to.width/q.width}},("box"===z||"both"===z)&&(J.from.y!==J.to.y&&(K=K.concat(k),x.from=a.effects.setTransition(x,k,J.from.y,x.from),x.to=a.effects.setTransition(x,k,J.to.y,x.to)),J.from.x!==J.to.x&&(K=K.concat(G),x.from=a.effects.setTransition(x,G,J.from.x,x.from),x.to=a.effects.setTransition(x,G,J.to.x,x.to))),("content"===z||"both"===z)&&J.from.y!==J.to.y&&(K=K.concat(H).concat(A),x.from=a.effects.setTransition(x,H,J.from.y,x.from),x.to=a.effects.setTransition(x,H,J.to.y,x.to)),a.effects.save(x,K),x.show(),a.effects.createWrapper(x),x.css("overflow","hidden").css(x.from),D&&(y=a.effects.getBaseline(D,q),x.from.top=(q.outerHeight-x.outerHeight())*y.y,x.from.left=(q.outerWidth-x.outerWidth())*y.x,x.to.top=(q.outerHeight-x.to.outerHeight)*y.y,x.to.left=(q.outerWidth-x.to.outerWidth)*y.x),x.css(x.from),("content"===z||"both"===z)&&(k=k.concat(["marginTop","marginBottom"]).concat(H),G=G.concat(["marginLeft","marginRight"]),A=t.concat(k).concat(G),x.find("*[width]").each(function(){var b=a(this),c={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};E&&a.effects.save(b,A),b.from={height:c.height*J.from.y,width:c.width*J.from.x,outerHeight:c.outerHeight*J.from.y,outerWidth:c.outerWidth*J.from.x},b.to={height:c.height*J.to.y,width:c.width*J.to.x,outerHeight:c.height*J.to.y,outerWidth:c.width*J.to.x},J.from.y!==J.to.y&&(b.from=a.effects.setTransition(b,k,J.from.y,b.from),b.to=a.effects.setTransition(b,k,J.to.y,b.to)),J.from.x!==J.to.x&&(b.from=a.effects.setTransition(b,G,J.from.x,b.from),b.to=a.effects.setTransition(b,G,J.to.x,b.to)),b.css(b.from),b.animate(b.to,F.duration,F.easing,function(){E&&a.effects.restore(b,A)})})),x.animate(x.to,{queue:!1,duration:F.duration,easing:F.easing,complete:function(){0===x.to.opacity&&x.css("opacity",x.from.opacity),"hide"===w&&x.hide(),a.effects.restore(x,K),E||("static"===j?x.css({position:"relative",top:x.to.top,left:x.to.left}):a.each(["top","left"],function(b,c){x.css(c,function(g,d){var f=parseInt(d,10),h=b?x.to.left:x.to.top;return"auto"===d?h+"px":f+h+"px"})})),a.effects.removeWrapper(x),B()}})}})(jQuery);(function(a){a.effects.effect.shake=function(E,A){var k,x=a(this),H=["position","top","bottom","left","right","height","width"],w=a.effects.setMode(x,E.mode||"effect"),q=E.direction||"left",B=E.distance||20,z=E.times||3,G=2*z+1,j=Math.round(E.duration/G),F="up"===q||"down"===q?"top":"left",t="up"===q||"left"===q,D={},y={},C={},b=x.queue(),I=b.length;for(a.effects.save(x,H),x.show(),a.effects.createWrapper(x),D[F]=(t?"-=":"+=")+B,y[F]=(t?"+=":"-=")+2*B,C[F]=(t?"-=":"+=")+2*B,x.animate(D,j,E.easing),k=1;z>k;k++){x.animate(y,j,E.easing).animate(C,j,E.easing)}x.animate(y,j,E.easing).animate(D,j/2,E.easing).queue(function(){"hide"===w&&x.hide(),a.effects.restore(x,H),a.effects.removeWrapper(x),A()}),I>1&&b.splice.apply(b,[1,0].concat(b.splice(I,G+1))),x.dequeue()}})(jQuery);(function(a){a.effects.effect.slide=function(m,j){var v,f=a(this),q=["position","top","bottom","left","right","width","height"],d=a.effects.setMode(f,m.mode||"show"),b="show"===d,k=m.direction||"left",g="up"===k||"down"===k?"top":"left",p="up"===k||"left"===k,t={};a.effects.save(f,q),f.show(),v=m.distance||f["top"===g?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(f).css({overflow:"hidden"}),b&&f.css(g,p?isNaN(v)?"-"+v:-v:v),t[g]=(b?p?"+=":"-=":p?"-=":"+=")+v,f.animate(t,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){"hide"===d&&f.hide(),a.effects.restore(f,q),a.effects.removeWrapper(f),j()}})}})(jQuery);(function(a){a.effects.effect.transfer=function(p,k){var x=a(this),g=a(p.to),v="fixed"===g.css("position"),f=a("body"),b=v?f.scrollTop():0,m=v?f.scrollLeft():0,j=g.offset(),t={top:j.top-b,left:j.left-m,height:g.innerHeight(),width:g.innerWidth()},w=x.offset(),q=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(p.className).css({top:w.top-b,left:w.left-m,height:x.innerHeight(),width:x.innerWidth(),position:v?"fixed":"absolute"}).animate(t,p.duration,p.easing,function(){q.remove(),k()})}})(jQuery);
(function(c){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var d=function(f){f=f.replace(/\x0d\x0a/g,"\x0a");var e="";for(var h=0;h<f.length;h++){var g=f.charCodeAt(h);if(g<128){e+=String.fromCharCode(g)}else{if((g>127)&&(g<2048)){e+=String.fromCharCode((g>>6)|192);e+=String.fromCharCode((g&63)|128)}else{e+=String.fromCharCode((g>>12)|224);e+=String.fromCharCode(((g>>6)&63)|128);e+=String.fromCharCode((g&63)|128)}}}return e};var a=function(e){var f="";var g=0;var h=c1=c2=0;while(g<e.length){h=e.charCodeAt(g);if(h<128){f+=String.fromCharCode(h);g++}else{if((h>191)&&(h<224)){c2=e.charCodeAt(g+1);f+=String.fromCharCode(((h&31)<<6)|(c2&63));g+=2}else{c2=e.charCodeAt(g+1);c3=e.charCodeAt(g+2);f+=String.fromCharCode(((h&15)<<12)|((c2&63)<<6)|(c3&63));g+=3}}}return f};c.extend({base64Encode:function(g){var e="";var o,m,k,n,l,j,h;var f=0;g=d(g);while(f<g.length){o=g.charCodeAt(f++);m=g.charCodeAt(f++);k=g.charCodeAt(f++);n=o>>2;l=((o&3)<<4)|(m>>4);j=((m&15)<<2)|(k>>6);h=k&63;if(isNaN(m)){j=h=64}else{if(isNaN(k)){h=64}}e=e+b.charAt(n)+b.charAt(l)+b.charAt(j)+b.charAt(h)}return e},base64Decode:function(g){var e="";var o,m,k;var n,l,j,h;var f=0;g=g.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<g.length){n=b.indexOf(g.charAt(f++));l=b.indexOf(g.charAt(f++));j=b.indexOf(g.charAt(f++));h=b.indexOf(g.charAt(f++));o=(n<<2)|(l>>4);m=((l&15)<<4)|(j>>2);k=((j&3)<<6)|h;e=e+String.fromCharCode(o);if(j!=64){e=e+String.fromCharCode(m)}if(h!=64){e=e+String.fromCharCode(k)}}e=a(e);return e}})})(jQuery);
(function(e){var c=23;var b=null;var d=[];e.ondomload={add:function(f,g){d.push({selector:f,fn:g});if(!b){b=setInterval(a,c)}return this},stop:function(){clearInterval(b);b=null}};function a(){var h=e.isReady;for(var j=0,g=d.length;j<g;++j){var l=e(d[j].selector);var k=d[j].fn;var f=k.apply(l,[e]);if(!f){d[j]=d[--g];d.pop()}}if(d.length==0){e.ondomload.stop()}}})(jQuery);
(function(e,b,a){function i(d){return d}function f(d){d=decodeURIComponent(d.replace(c," "));0===d.indexOf('"')&&(d=d.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));return d}var c=/\+/g,h=e.cookie=function(k,q,d){if(q!==a){d=e.extend({},h.defaults,d);null===q&&(d.expires=-1);if("number"===typeof d.expires){var n=d.expires,o=d.expires=new Date;o.setDate(o.getDate()+n)}q=h.json?JSON.stringify(q):String(q);return b.cookie=[encodeURIComponent(k),"=",h.raw?q:encodeURIComponent(q),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}q=h.raw?i:f;d=b.cookie.split("; ");for(var n=k?null:{},o=0,m=d.length;o<m;o++){var p=d[o].split("="),g=q(p.shift()),p=q(p.join("="));if(k&&k===g){n=h.json?JSON.parse(p):p;break}k||(n[g]=h.json?JSON.parse(p):p)}return n};h.defaults={};e.removeCookie=function(d,g){return null!==e.cookie(d)?(e.cookie(d,null,g),!0):!1}})(jQuery,document);
(function(a){a.fn.filestyle=function(b){var c={width:250};if(b){a.extend(c,b)}return this.each(function(){var e=this;var f=a("<div>").css({width:c.imagewidth+"px",height:c.imageheight+"px",background:"url("+c.image+") 0 0 no-repeat","background-position":"right",display:"inline",position:"absolute",overflow:"hidden"});var d=a('<input class="file">').addClass(a(e).attr("class")).css({display:"inline",width:c.width+"px"});a(e).before(d);a(e).wrap(f);a(e).css({position:"relative",height:c.imageheight+"px",width:c.width+"px",display:"inline",cursor:"pointer",opacity:"0.0"});if(a.browser.mozilla){if(/Win/.test(navigator.platform)){a(e).css("margin-left","-142px")}else{a(e).css("margin-left","-168px")}}else{a(e).css("margin-left",c.imagewidth-c.width+"px")}a(e).bind("change",function(){d.val(a(e).val())})})}})(jQuery);
jQuery.fn.highlight=function(c,a){if(a==undefined){a=""}if(c[0]=='"'){c=c.replace(/\"/g,"")}if(c[c.length-1]=='"'){c=c.replace(/\"/g,"")}c=c.split(":");if(!c[0][c[0].length-1].search(/[^a-zA-Z0-9 :]/g)){c[0]=c[0].substr(0,c[0].length-1)}if(c[0][0].search(/[^a-zA-Z0-9 :]/g)!=-1){c[0]=c[0].substr(1)}c=c[0]+":"+c[1];n=c.indexOf(":");if(n==0){return false}function b(g,l,e){if(l==""){return false}var o=0;var p=0;if(g.nodeType==3){if(n!=-1){o=l.substr(n+1,l.length);l=l.substr(0,n)}var m=g.data.toUpperCase().search(new RegExp("\\b"+l+"\\b","i"));if(m>=0){var k=document.createElement("span");k.className="highlight "+a+o;var h=g.splitText(m);var d=h.splitText(l.length);var f=h.cloneNode(true);k.appendChild(f);h.parentNode.replaceChild(k,h);p=1}}else{if(g.nodeType==1&&g.childNodes&&!/(script|style)/i.test(g.tagName)){for(var j=0;j<g.childNodes.length;++j){j+=b(g.childNodes[j],l)}}}return p}return this.each(function(){b(this,c.toUpperCase(),a)})};jQuery.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;with(this.parentNode){replaceChild(this.firstChild,this);normalize()}}).end()};
eval(function(h,b,i,d,g,f){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(i--){f[g(i)]=d[i]||g(i)}d=[function(a){return f[a]}];g=function(){return"\\w+"};i=1}while(i--){if(d[i]){h=h.replace(new RegExp("\\b"+g(i)+"\\b","g"),d[i])}}return h}('(6($){$.n.M=6(){5 e=6(a,v,t,b){5 c=Z.W("P");c.j=v,c.G=t;5 o=a.y;5 d=o.l;3(!a.p){a.p={};q(5 i=0;i<d;i++){a.p[o[i].j]=i}}3(9 a.p[v]=="Q")a.p[v]=d;a.y[a.p[v]]=c;3(b){c.k=8}};5 a=N;3(a.l==0)7 4;5 f=8;5 m=x;5 g,v,t;3(9(a[0])=="B"){m=8;g=a[0]}3(a.l>=2){3(9(a[1])=="L")f=a[1];h 3(9(a[2])=="L")f=a[2];3(!m){v=a[0];t=a[1]}}4.u(6(){3(4.A.s()!="z")7;3(m){q(5 a 11 g){e(4,a,g[a],f)}}h{e(4,v,t,f)}});7 4};$.n.10=6(b,c,d,e,f){3(9(b)!="E")7 4;3(9(c)!="B")c={};3(9(d)!="L")d=8;4.u(6(){5 a=4;$.Y(b,c,6(r){$(a).M(r,d);3(9 e=="6"){3(9 f=="B"){e.X(a,f)}h{e.J(a)}}})});7 4};$.n.V=6(){5 a=N;3(a.l==0)7 4;5 d=9(a[0]);5 v,C;3(d=="E"||d=="B"||d=="6")v=a[0];h 3(d=="U")C=a[0];h 7 4;4.u(6(){3(4.A.s()!="z")7;3(4.p)4.p=O;5 b=x;5 o=4.y;3(!!v){5 c=o.l;q(5 i=c-1;i>=0;i--){3(v.H==I){3(o[i].j.K(v)){b=8}}h 3(o[i].j==v){b=8}3(b&&a[1]===8)b=o[i].k;3(b){o[i]=O}b=x}}h{3(a[1]===8){b=o[C].k}h{b=8}3(b){4.T(C)}}});7 4};$.n.S=6(f){5 a=9(f)=="Q"?8:!!f;4.u(6(){3(4.A.s()!="z")7;5 o=4.y;5 d=o.l;5 e=[];q(5 i=0;i<d;i++){e[i]={v:o[i].j,t:o[i].G}}e.R(6(b,c){D=b.t.s(),F=c.t.s();3(D==F)7 0;3(a){7 D<F?-1:1}h{7 D>F?-1:1}});q(5 i=0;i<d;i++){o[i].G=e[i].t;o[i].j=e[i].v}});7 4};$.n.18=6(b,d){5 v=b;5 e=9(b);5 c=d||x;3(e!="E"&&e!="6"&&e!="B")7 4;4.u(6(){3(4.A.s()!="z")7 4;5 o=4.y;5 a=o.l;q(5 i=0;i<a;i++){3(v.H==I){3(o[i].j.K(v)){o[i].k=8}h 3(c){o[i].k=x}}h{3(o[i].j==v){o[i].k=8}h 3(c){o[i].k=x}}}});7 4};$.n.17=6(b,c){5 w=c||"k";3($(b).16()==0)7 4;4.u(6(){3(4.A.s()!="z")7 4;5 o=4.y;5 a=o.l;q(5 i=0;i<a;i++){3(w=="15"||(w=="k"&&o[i].k)){$(b).M(o[i].j,o[i].G)}}});7 4};$.n.14=6(b,c){5 d=x;5 v=b;5 e=9(v);5 f=9(c);3(e!="E"&&e!="6"&&e!="B")7 f=="6"?4:d;4.u(6(){3(4.A.s()!="z")7 4;3(d&&f!="6")7 x;5 o=4.y;5 a=o.l;q(5 i=0;i<a;i++){3(v.H==I){3(o[i].j.K(v)){d=8;3(f=="6")c.J(o[i])}}h{3(o[i].j==v){d=8;3(f=="6")c.J(o[i])}}}});7 f=="6"?4:d};$.n.13=6(){5 v=[];4.12("P:k").u(6(){v[v.l]=4.j});7 v}})(19);',62,72,"|||if|this|var|function|return|true|typeof||||||||else||value|selected|length||fn||cache|for||toLowerCase||each|||false|options|select|nodeName|object|index|o1t|string|o2t|text|constructor|RegExp|call|match|boolean|addOption|arguments|null|option|undefined|sort|sortOptions|remove|number|removeOption|createElement|apply|getJSON|document|ajaxAddOption|in|find|selectedValues|containsOption|all|size|copyOptions|selectOptions|jQuery".split("|"),0,{}));
new function(e){var d=e.separator||"&";var c=e.spaces===false?false:true;var a=e.suffix===false?"":"[]";var g=e.prefix===false?false:true;var b=g?e.hash===true?"#":"?":"";var f=e.numbers===false?false:true;jQuery.query=new function(){var h=function(m,l){return m!=undefined&&m!==null&&(!!l?m.constructor==l:true)};var i=function(r){var l,q=/\[([^[]*)\]/g,n=/^([^[]+)(\[.*\])?$/.exec(r),o=n[1],p=[];while(l=q.exec(n[2])){p.push(l[1])}return[o,p]};var k=function(s,r,q){var t,p=r.shift();if(typeof s!="object"){s=null}if(p===""){if(!s){s=[]}if(h(s,Array)){s.push(r.length==0?q:k(null,r.slice(0),q))}else{if(h(s,Object)){var n=0;while(s[n++]!=null){}s[--n]=r.length==0?q:k(s[n],r.slice(0),q)}else{s=[];s.push(r.length==0?q:k(null,r.slice(0),q))}}}else{if(p&&p.match(/^\s*[0-9]+\s*$/)){var m=parseInt(p,10);if(!s){s=[]}s[m]=r.length==0?q:k(s[m],r.slice(0),q)}else{if(p){var m=p.replace(/^\s*|\s*$/g,"");if(!s){s={}}if(h(s,Array)){var l={};for(var n=0;n<s.length;++n){l[n]=s[n]}s=l}s[m]=r.length==0?q:k(s[m],r.slice(0),q)}else{return q}}}return s};var j=function(l){var m=this;m.keys={};if(l.queryObject){jQuery.each(l.get(),function(n,o){m.SET(n,o)})}else{jQuery.each(arguments,function(){var n=""+this;n=n.replace(/^[?#]/,"");n=n.replace(/[;&]$/,"");if(c){n=n.replace(/[+]/g," ")}jQuery.each(n.split(/[&;]/),function(){var o=decodeURIComponent(this.split("=")[0]||"");var p=decodeURIComponent(this.split("=")[1]||"");if(!o){return}if(f){if(/^[+-]?[0-9]+\.[0-9]*$/.test(p)){p=parseFloat(p)}else{if(/^[+-]?[0-9]+$/.test(p)){p=parseInt(p,10)}}}p=(!p&&p!==0)?true:p;if(p!==false&&p!==true&&typeof p!="number"){p=p}m.SET(o,p)})})}return m};j.prototype={queryObject:true,has:function(l,m){var n=this.get(l);return h(n,m)},GET:function(m){if(!h(m)){return this.keys}var l=i(m),n=l[0],p=l[1];var o=this.keys[n];while(o!=null&&p.length!=0){o=o[p.shift()]}return typeof o=="number"?o:o||""},get:function(l){var m=this.GET(l);if(h(m,Object)){return jQuery.extend(true,{},m)}else{if(h(m,Array)){return m.slice(0)}}return m},SET:function(m,r){var o=!h(r)?null:r;var l=i(m),n=l[0],q=l[1];var p=this.keys[n];this.keys[n]=k(p,q.slice(0),o);return this},set:function(l,m){return this.copy().SET(l,m)},REMOVE:function(l){return this.SET(l,null).COMPACT()},remove:function(l){return this.copy().REMOVE(l)},EMPTY:function(){var l=this;jQuery.each(l.keys,function(m,n){delete l.keys[m]});return l},load:function(l){var n=l.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1");var m=l.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new j(l.length==m.length?"":m,l.length==n.length?"":n)},empty:function(){return this.copy().EMPTY()},copy:function(){return new j(this)},COMPACT:function(){function l(o){var n=typeof o=="object"?h(o,Array)?[]:{}:o;if(typeof o=="object"){function m(r,p,q){if(h(r,Array)){r.push(q)}else{r[p]=q}}jQuery.each(o,function(p,q){if(!h(q)){return true}m(n,p,l(q))})}return n}this.keys=l(this.keys);return this},compact:function(){return this.copy().COMPACT()},toString:function(){var n=0,r=[],q=[],m=this;var o=function(s){s=s+"";if(c){s=s.replace(/ /g,"+")}return encodeURIComponent(s)};var l=function(s,t,u){if(!h(u)||u===false){return}var v=[o(t)];if(u!==true){v.push("=");v.push(o(u))}s.push(v.join(""))};var p=function(t,s){var u=function(v){return !s||s==""?[v].join(""):[s,"[",v,"]"].join("")};jQuery.each(t,function(v,w){if(typeof w=="object"){p(w,u(v))}else{l(q,u(v),w)}})};p(this.keys);if(q.length>0){r.push(b)}r.push(q.join(d));return r.join("")}};return new j(location.search,location.hash)}}(jQuery.query||{});
eval(function(h,b,i,d,g,f){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(i--){f[g(i)]=d[i]||g(i)}d=[function(a){return f[a]}];g=function(){return"\\w+"};i=1}while(i--){if(d[i]){h=h.replace(new RegExp("\\b"+g(i)+"\\b","g"),d[i])}}return h}(';(3($){$.31.1o({12:3(b,d){5 c=Y b=="1w";d=$.1o({},$.D.1L,{11:c?b:14,w:c?14:b,1D:c?$.D.1L.1D:10,Z:d&&!d.1x?10:3U},d);d.1t=d.1t||3(a){6 a};d.1q=d.1q||d.1K;6 I.K(3(){1E $.D(I,d)})},M:3(a){6 I.X("M",a)},1y:3(a){6 I.15("1y",[a])},20:3(){6 I.15("20")},1Y:3(a){6 I.15("1Y",[a])},1X:3(){6 I.15("1X")}});$.D=3(o,r){5 t={2N:38,2I:40,2D:46,2x:9,2v:13,2q:27,2d:3x,2j:33,2o:34,2e:8};5 u=$(o).3f("12","3c").P(r.24);5 p;5 m="";5 n=$.D.2W(r);5 s=0;5 k;5 h={1z:B};5 l=$.D.2Q(r,o,1U,h);5 j;$.1T.2L&&$(o.2K).X("3S.12",3(){4(j){j=B;6 B}});u.X(($.1T.2L?"3Q":"3N")+".12",3(a){k=a.2F;3L(a.2F){Q t.2N:a.1d();4(l.L()){l.2y()}A{W(0,C)}N;Q t.2I:a.1d();4(l.L()){l.2u()}A{W(0,C)}N;Q t.2j:a.1d();4(l.L()){l.2t()}A{W(0,C)}N;Q t.2o:a.1d();4(l.L()){l.2s()}A{W(0,C)}N;Q r.19&&$.1p(r.R)==","&&t.2d:Q t.2x:Q t.2v:4(1U()){a.1d();j=C;6 B}N;Q t.2q:l.U();N;3A:1I(p);p=1H(W,r.1D);N}}).1G(3(){s++}).3v(3(){s=0;4(!h.1z){2k()}}).2i(3(){4(s++>1&&!l.L()){W(0,C)}}).X("1y",3(){5 c=(1n.7>1)?1n[1]:14;3 23(q,a){5 b;4(a&&a.7){16(5 i=0;i<a.7;i++){4(a[i].M.O()==q.O()){b=a[i];N}}}4(Y c=="3")c(b);A u.15("M",b&&[b.w,b.H])}$.K(1g(u.J()),3(i,a){1R(a,23,23)})}).X("20",3(){n.18()}).X("1Y",3(){$.1o(r,1n[1]);4("w"2G 1n[1])n.1f()}).X("1X",3(){l.1u();u.1u();$(o.2K).1u(".12")});3 1U(){5 b=l.26();4(!b)6 B;5 v=b.M;m=v;4(r.19){5 a=1g(u.J());4(a.7>1){v=a.17(0,a.7-1).2Z(r.R)+r.R+v}v+=r.R}u.J(v);1l();u.15("M",[b.w,b.H]);6 C}3 W(b,c){4(k==t.2D){l.U();6}5 a=u.J();4(!c&&a==m)6;m=a;a=1k(a);4(a.7>=r.22){u.P(r.21);4(!r.1C)a=a.O();1R(a,2V,1l)}A{1B();l.U()}};3 1g(b){4(!b){6[""]}5 d=b.1Z(r.R);5 c=[];$.K(d,3(i,a){4($.1p(a))c[i]=$.1p(a)});6 c}3 1k(a){4(!r.19)6 a;5 b=1g(a);6 b[b.7-1]}3 1A(q,a){4(r.1A&&(1k(u.J()).O()==q.O())&&k!=t.2e){u.J(u.J()+a.48(1k(m).7));$.D.1N(o,m.7,m.7+a.7)}};3 2k(){1I(p);p=1H(1l,47)};3 1l(){5 c=l.L();l.U();1I(p);1B();4(r.2U){u.1y(3(a){4(!a){4(r.19){5 b=1g(u.J()).17(0,-1);u.J(b.2Z(r.R)+(b.7?r.R:""))}A u.J("")}})}4(c)$.D.1N(o,o.H.7,o.H.7)};3 2V(q,a){4(a&&a.7&&s){1B();l.2T(a,q);1A(q,a[0].H);l.1W()}A{1l()}};3 1R(f,d,g){4(!r.1C)f=f.O();5 e=n.2S(f);4(e&&e.7){d(f,e)}A 4((Y r.11=="1w")&&(r.11.7>0)){5 c={45:+1E 44()};$.K(r.2R,3(a,b){c[a]=Y b=="3"?b():b});$.43({42:"41",3Z:"12"+o.3Y,2M:r.2M,11:r.11,w:$.1o({q:1k(f),3X:r.Z},c),3W:3(a){5 b=r.1r&&r.1r(a)||1r(a);n.1h(f,b);d(f,b)}})}A{l.2J();g(f)}};3 1r(c){5 d=[];5 b=c.1Z("\\n");16(5 i=0;i<b.7;i++){5 a=$.1p(b[i]);4(a){a=a.1Z("|");d[d.7]={w:a,H:a[0],M:r.1v&&r.1v(a,a[0])||a[0]}}}6 d};3 1B(){u.1e(r.21)}};$.D.1L={24:"3R",2H:"3P",21:"3O",22:1,1D:3M,1C:B,1a:C,1V:B,1j:10,Z:3K,2U:B,2R:{},1S:C,1K:3(a){6 a[0]},1q:14,1A:B,E:0,19:B,R:", ",1t:3(b,a){6 b.2C(1E 3J("(?![^&;]+;)(?!<[^<>]*)("+a.2C(/([\\^\\$\\(\\)\\[\\]\\{\\}\\*\\.\\+\\?\\|\\\\])/2A,"\\\\$1")+")(?![^<>]*>)(?![^&;]+;)","2A"),"<2z>$1</2z>")},1x:C,1s:3I};$.D.2W=3(g){5 h={};5 j=0;3 1a(s,a){4(!g.1C)s=s.O();5 i=s.3H(a);4(i==-1)6 B;6 i==0||g.1V};3 1h(q,a){4(j>g.1j){18()}4(!h[q]){j++}h[q]=a}3 1f(){4(!g.w)6 B;5 f={},2w=0;4(!g.11)g.1j=1;f[""]=[];16(5 i=0,30=g.w.7;i<30;i++){5 c=g.w[i];c=(Y c=="1w")?[c]:c;5 d=g.1q(c,i+1,g.w.7);4(d===B)1P;5 e=d.3G(0).O();4(!f[e])f[e]=[];5 b={H:d,w:c,M:g.1v&&g.1v(c)||d};f[e].1O(b);4(2w++<g.Z){f[""].1O(b)}};$.K(f,3(i,a){g.1j++;1h(i,a)})}1H(1f,25);3 18(){h={};j=0}6{18:18,1h:1h,1f:1f,2S:3(q){4(!g.1j||!j)6 14;4(!g.11&&g.1V){5 a=[];16(5 k 2G h){4(k.7>0){5 c=h[k];$.K(c,3(i,x){4(1a(x.H,q)){a.1O(x)}})}}6 a}A 4(h[q]){6 h[q]}A 4(g.1a){16(5 i=q.7-1;i>=g.22;i--){5 c=h[q.3F(0,i)];4(c){5 a=[];$.K(c,3(i,x){4(1a(x.H,q)){a[a.7]=x}});6 a}}}6 14}}};$.D.2Q=3(e,g,f,k){5 h={G:"3E"};5 j,y=-1,w,1m="",1M=C,F,z;3 2r(){4(!1M)6;F=$("<3D/>").U().P(e.2H).T("3C","3B").1J(2p.2n);z=$("<3z/>").1J(F).3y(3(a){4(V(a).2m&&V(a).2m.3w()==\'2l\'){y=$("1F",z).1e(h.G).3u(V(a));$(V(a)).P(h.G)}}).2i(3(a){$(V(a)).P(h.G);f();g.1G();6 B}).3t(3(){k.1z=C}).3s(3(){k.1z=B});4(e.E>0)F.T("E",e.E);1M=B}3 V(a){5 b=a.V;3r(b&&b.3q!="2l")b=b.3p;4(!b)6[];6 b}3 S(b){j.17(y,y+1).1e(h.G);2h(b);5 a=j.17(y,y+1).P(h.G);4(e.1x){5 c=0;j.17(0,y).K(3(){c+=I.1i});4((c+a[0].1i-z.1c())>z[0].3o){z.1c(c+a[0].1i-z.3n())}A 4(c<z.1c()){z.1c(c)}}};3 2h(a){y+=a;4(y<0){y=j.1b()-1}A 4(y>=j.1b()){y=0}}3 2g(a){6 e.Z&&e.Z<a?e.Z:a}3 2f(){z.2B();5 b=2g(w.7);16(5 i=0;i<b;i++){4(!w[i])1P;5 a=e.1K(w[i].w,i+1,b,w[i].H,1m);4(a===B)1P;5 c=$("<1F/>").3m(e.1t(a,1m)).P(i%2==0?"3l":"3k").1J(z)[0];$.w(c,"2c",w[i])}j=z.3j("1F");4(e.1S){j.17(0,1).P(h.G);y=0}4($.31.2b)z.2b()}6{2T:3(d,q){2r();w=d;1m=q;2f()},2u:3(){S(1)},2y:3(){S(-1)},2t:3(){4(y!=0&&y-8<0){S(-y)}A{S(-8)}},2s:3(){4(y!=j.1b()-1&&y+8>j.1b()){S(j.1b()-1-y)}A{S(8)}},U:3(){F&&F.U();j&&j.1e(h.G);y=-1},L:3(){6 F&&F.3i(":L")},3h:3(){6 I.L()&&(j.2a("."+h.G)[0]||e.1S&&j[0])},1W:3(){5 a=$(g).3g();F.T({E:Y e.E=="1w"||e.E>0?e.E:$(g).E(),2E:a.2E+g.1i,1Q:a.1Q}).1W();4(e.1x){z.1c(0);z.T({29:e.1s,3e:\'3d\'});4($.1T.3b&&Y 2p.2n.3T.29==="3a"){5 c=0;j.K(3(){c+=I.1i});5 b=c>e.1s;z.T(\'3V\',b?e.1s:c);4(!b){j.E(z.E()-28(j.T("32-1Q"))-28(j.T("32-39")))}}}},26:3(){5 a=j&&j.2a("."+h.G).1e(h.G);6 a&&a.7&&$.w(a[0],"2c")},2J:3(){z&&z.2B()},1u:3(){F&&F.37()}}};$.D.1N=3(b,a,c){4(b.2O){5 d=b.2O();d.36(C);d.35("2P",a);d.4c("2P",c);d.4b()}A 4(b.2Y){b.2Y(a,c)}A{4(b.2X){b.2X=a;b.4a=c}}b.1G()}})(49);',62,261,"|||function|if|var|return|length|||||||||||||||||||||||||data||active|list|else|false|true|Autocompleter|width|element|ACTIVE|value|this|val|each|visible|result|break|toLowerCase|addClass|case|multipleSeparator|moveSelect|css|hide|target|onChange|bind|typeof|max||url|autocomplete||null|trigger|for|slice|flush|multiple|matchSubset|size|scrollTop|preventDefault|removeClass|populate|trimWords|add|offsetHeight|cacheLength|lastWord|hideResultsNow|term|arguments|extend|trim|formatMatch|parse|scrollHeight|highlight|unbind|formatResult|string|scroll|search|mouseDownOnSelect|autoFill|stopLoading|matchCase|delay|new|li|focus|setTimeout|clearTimeout|appendTo|formatItem|defaults|needsInit|Selection|push|continue|left|request|selectFirst|browser|selectCurrent|matchContains|show|unautocomplete|setOptions|split|flushCache|loadingClass|minChars|findValueCallback|inputClass||selected||parseInt|maxHeight|filter|bgiframe|ac_data|COMMA|BACKSPACE|fillList|limitNumberOfItems|movePosition|click|PAGEUP|hideResults|LI|nodeName|body|PAGEDOWN|document|ESC|init|pageDown|pageUp|next|RETURN|nullData|TAB|prev|strong|gi|empty|replace|DEL|top|keyCode|in|resultsClass|DOWN|emptyList|form|opera|dataType|UP|createTextRange|character|Select|extraParams|load|display|mustMatch|receiveData|Cache|selectionStart|setSelectionRange|join|ol|fn|padding|||moveStart|collapse|remove||right|undefined|msie|off|auto|overflow|attr|offset|current|is|find|ac_odd|ac_even|html|innerHeight|clientHeight|parentNode|tagName|while|mouseup|mousedown|index|blur|toUpperCase|188|mouseover|ul|default|absolute|position|div|ac_over|substr|charAt|indexOf|180|RegExp|100|switch|400|keydown|ac_loading|ac_results|keypress|ac_input|submit|style|150|height|success|limit|name|port||abort|mode|ajax|Date|timestamp||200|substring|jQuery|selectionEnd|select|moveEnd".split("|"),0,{}));
/*!
 * jQuery UI Touch Punch 0.2.2
 *
 * Copyright 2011, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
(function(b){b.support.touch="ontouchend" in document;if(!b.support.touch){return}var c=b.ui.mouse.prototype,e=c._mouseInit,a;function d(g,h){if(g.originalEvent.touches.length>1){return}g.preventDefault();var i=g.originalEvent.changedTouches[0],f=document.createEvent("MouseEvents");f.initMouseEvent(h,true,true,window,1,i.screenX,i.screenY,i.clientX,i.clientY,false,false,false,false,0,null);g.target.dispatchEvent(f)}c._touchStart=function(g){var f=this;if(a||!f._mouseCapture(g.originalEvent.changedTouches[0])){return}a=true;f._touchMoved=false;d(g,"mouseover");d(g,"mousemove");d(g,"mousedown")};c._touchMove=function(f){if(!a){return}this._touchMoved=true;d(f,"mousemove")};c._touchEnd=function(f){if(!a){return}d(f,"mouseup");d(f,"mouseout");if(!this._touchMoved){d(f,"click")}a=false};c._mouseInit=function(){var f=this;f.element.bind("touchstart",b.proxy(f,"_touchStart")).bind("touchmove",b.proxy(f,"_touchMove")).bind("touchend",b.proxy(f,"_touchEnd"));e.call(f)}})(jQuery);
(function(a){a.fn.menuAim=function(c){this.each(function(){b.call(this,c)});return this};function b(c){var d=a(this),q=null,g=[],r=null,p=null,s=a.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:a.noop,exit:a.noop,activate:a.noop,deactivate:a.noop,exitMenu:a.noop},c);var j=3,f=300;var e=function(t){g.push({x:t.pageX,y:t.pageY});if(g.length>j){g.shift()}};var o=function(){if(p){clearTimeout(p)}if(s.exitMenu(this)){if(q){s.deactivate(q)}q=null}};var l=function(){if(p){clearTimeout(p)}s.enter(this);h(this)},k=function(){s.exit(this)};var m=function(){i(this)};var i=function(t){if(t==q){return}if(q){s.deactivate(q)}s.activate(t);q=t};var h=function(u){var t=n();if(t){p=setTimeout(function(){h(u)},t)}else{i(u)}};var n=function(){if(!q||!a(q).is(s.submenuSelector)){return 0}var x=d.offset(),t={x:x.left,y:x.top-s.tolerance},E={x:x.left+d.outerWidth(),y:t.y},G={x:x.left,y:x.top+d.outerHeight()+s.tolerance},y={x:x.left+d.outerWidth(),y:G.y},z=g[g.length-1],D=g[0];if(!z){return 0}if(!D){D=z}if(D.x<x.left||D.x>y.x||D.y<x.top||D.y>y.y){return 0}if(r&&z.x==r.x&&z.y==r.y){return 0}function A(I,H){return(H.y-I.y)/(H.x-I.x)}var C=E,u=y;if(s.submenuDirection=="left"){C=G;u=t}else{if(s.submenuDirection=="below"){C=y;u=G}else{if(s.submenuDirection=="above"){C=t;u=E}}}var v=A(z,C),B=A(z,u),F=A(D,C),w=A(D,u);if(v<F&&B>w){r=z;return f}r=null;return 0};d.mouseleave(o).find(s.rowSelector).mouseenter(l).mouseleave(k).click(m);a(document).mousemove(e)}})(jQuery);
(function(a,c,b){if(typeof define==="function"&&define.amd){define(["jquery"],function(d){b(d,a,c);return d.mobile})}else{b(a.jQuery,a,c)}}(this,document,function(c,b,a,d){(function(B,K,j,q){var J="virtualMouseBindings",f="virtualTouchID",e="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),A="clientX clientY pageX pageY screenX screenY".split(" "),G=B.event.mouseHooks?B.event.mouseHooks.props:[],C=B.event.props.concat(G),E={},L=0,w=0,v=0,t=false,O=[],l=false,V=false,y="addEventListener" in j,x=B(j),I=1,R=0,g,P;B.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};function u(i){while(i&&typeof i.originalEvent!=="undefined"){i=i.originalEvent}return i}function m(X,Y){var ag=X.type,ah,af,Z,W,ad,ac,ab,aa,ae;X=B.Event(X);X.type=Y;ah=X.originalEvent;af=B.event.props;if(ag.search(/^(mouse|click)/)>-1){af=C}if(ah){for(ab=af.length,W;ab;){W=af[--ab];X[W]=ah[W]}}if(ag.search(/mouse(down|up)|click/)>-1&&!X.which){X.which=1}if(ag.search(/^touch/)!==-1){Z=u(ah);ag=Z.touches;ad=Z.changedTouches;ac=(ag&&ag.length)?ag[0]:((ad&&ad.length)?ad[0]:q);if(ac){for(aa=0,ae=A.length;aa<ae;aa++){W=A[aa];X[W]=ac[W]}}}return X}function T(Y){var W={},i,X;while(Y){i=B.data(Y,J);for(X in i){if(i[X]){W[X]=W.hasVirtualBinding=true}}Y=Y.parentNode}return W}function F(X,W){var i;while(X){i=B.data(X,J);if(i&&(!W||i[W])){return X}X=X.parentNode}return null}function N(){V=false}function o(){V=true}function U(){R=0;O.length=0;l=false;o()}function s(){N()}function z(){D();L=setTimeout(function(){L=0;U()},B.vmouse.resetTimerDuration)}function D(){if(L){clearTimeout(L);L=0}}function r(X,Y,i){var W;if((i&&i[X])||(!i&&F(Y.target,X))){W=m(Y,X);B(Y.target).trigger(W)}return W}function n(W){var X=B.data(W.target,f),i;if(!l&&(!R||R!==X)){i=r("v"+W.type,W);if(i){if(i.isDefaultPrevented()){W.preventDefault()}if(i.isPropagationStopped()){W.stopPropagation()}if(i.isImmediatePropagationStopped()){W.stopImmediatePropagation()}}}}function S(X){var Z=u(X).touches,Y,i,W;if(Z&&Z.length===1){Y=X.target;i=T(Y);if(i.hasVirtualBinding){R=I++;B.data(Y,f,R);D();s();t=false;W=u(X).touches[0];w=W.pageX;v=W.pageY;r("vmouseover",X,i);r("vmousedown",X,i)}}}function M(i){if(V){return}if(!t){r("vmousecancel",i,T(i.target))}t=true;z()}function h(Z){if(V){return}var X=u(Z).touches[0],W=t,Y=B.vmouse.moveDistanceThreshold,i=T(Z.target);t=t||(Math.abs(X.pageX-w)>Y||Math.abs(X.pageY-v)>Y);if(t&&!W){r("vmousecancel",Z,i)}r("vmousemove",Z,i);z()}function k(Y){if(V){return}o();var i=T(Y.target),W,X;r("vmouseup",Y,i);if(!t){W=r("vclick",Y,i);if(W&&W.isDefaultPrevented()){X=u(Y).changedTouches[0];O.push({touchID:R,x:X.clientX,y:X.clientY});l=true}}r("vmouseout",Y,i);t=false;z()}function H(W){var X=B.data(W,J),i;if(X){for(i in X){if(X[i]){return true}}}return false}function Q(){}function p(i){var W=i.substr(1);return{setup:function(){if(!H(this)){B.data(this,J,{})}var X=B.data(this,J);X[i]=true;E[i]=(E[i]||0)+1;if(E[i]===1){x.bind(W,n)}B(this).bind(W,Q);if(y){E.touchstart=(E.touchstart||0)+1;if(E.touchstart===1){x.bind("touchstart",S).bind("touchend",k).bind("touchmove",h).bind("scroll",M)}}},teardown:function(){--E[i];if(!E[i]){x.unbind(W,n)}if(y){--E.touchstart;if(!E.touchstart){x.unbind("touchstart",S).unbind("touchmove",h).unbind("touchend",k).unbind("scroll",M)}}var X=B(this),Y=B.data(this,J);if(Y){Y[i]=false}X.unbind(W,Q);if(!H(this)){X.removeData(J)}}}}for(P=0;P<e.length;P++){B.event.special[e[P]]=p(e[P])}if(y){j.addEventListener("click",function(aa){var X=O.length,ab=aa.target,ad,ac,ae,Z,W,Y;if(X){ad=aa.clientX;ac=aa.clientY;g=B.vmouse.clickDistanceThreshold;ae=ab;while(ae){for(Z=0;Z<X;Z++){W=O[Z];Y=0;if((ae===ab&&Math.abs(W.x-ad)<g&&Math.abs(W.y-ac)<g)||B.data(ae,f)===W.touchID){aa.preventDefault();aa.stopPropagation();return}}ae=ae.parentNode}}},true)}})(c,b,a);(function(e){e.mobile={}}(c));(function(f,g){var e={touch:"ontouchend" in a};f.mobile.support=f.mobile.support||{};f.extend(f.support,e);f.extend(f.mobile.support,e)}(c));(function(h,m,e){var f=h(a),i=h.mobile.support.touch,j="touchmove scroll",n=i?"touchstart":"mousedown",l=i?"touchend":"mouseup",g=i?"touchmove":"mousemove";h.each(("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop").split(" "),function(p,o){h.fn[o]=function(q){return q?this.bind(o,q):this.trigger(o)};if(h.attrFn){h.attrFn[o]=true}});function k(s,p,r,o){var q=r.type;r.type=p;if(o){h.event.trigger(r,e,s)}else{h.event.dispatch.call(s,r)}r.type=q}h.event.special.scrollstart={enabled:true,setup:function(){var o=this,r=h(o),q,s;function p(t,u){q=u;k(o,q?"scrollstart":"scrollstop",t)}r.bind(j,function(t){if(!h.event.special.scrollstart.enabled){return}if(!q){p(t,true)}clearTimeout(s);s=setTimeout(function(){p(t,false)},50)})},teardown:function(){h(this).unbind(j)}};h.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:true,setup:function(){var o=this,q=h(o),p=false;q.bind("vmousedown",function(t){p=false;if(t.which&&t.which!==1){return false}var s=t.target,w;function r(){clearTimeout(w)}function v(){r();q.unbind("vclick",u).unbind("vmouseup",r);f.unbind("vmousecancel",v)}function u(x){v();if(!p&&s===x.target){k(o,"tap",x)}else{if(p){x.preventDefault()}}}q.bind("vmouseup",r).bind("vclick",u);f.bind("vmousecancel",v);w=setTimeout(function(){if(!h.event.special.tap.emitTapOnTaphold){p=true}k(o,"taphold",h.Event("taphold",{target:s}))},h.event.special.tap.tapholdThreshold)})},teardown:function(){h(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup");f.unbind("vmousecancel")}};h.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(r){var q=m.pageXOffset,p=m.pageYOffset,o=r.clientX,s=r.clientY;if(r.pageY===0&&Math.floor(s)>Math.floor(r.pageY)||r.pageX===0&&Math.floor(o)>Math.floor(r.pageX)){o=o-q;s=s-p}else{if(s<(r.pageY-p)||o<(r.pageX-q)){o=r.pageX-q;s=r.pageY-p}}return{x:o,y:s}},start:function(p){var q=p.originalEvent.touches?p.originalEvent.touches[0]:p,o=h.event.special.swipe.getLocation(q);return{time:(new Date()).getTime(),coords:[o.x,o.y],origin:h(p.target)}},stop:function(p){var q=p.originalEvent.touches?p.originalEvent.touches[0]:p,o=h.event.special.swipe.getLocation(q);return{time:(new Date()).getTime(),coords:[o.x,o.y]}},handleSwipe:function(s,p,o,q){if(p.time-s.time<h.event.special.swipe.durationThreshold&&Math.abs(s.coords[0]-p.coords[0])>h.event.special.swipe.horizontalDistanceThreshold&&Math.abs(s.coords[1]-p.coords[1])<h.event.special.swipe.verticalDistanceThreshold){var r=s.coords[0]>p.coords[0]?"swipeleft":"swiperight";k(o,"swipe",h.Event("swipe",{target:q,swipestart:s,swipestop:p}),true);k(o,r,h.Event(r,{target:q,swipestart:s,swipestop:p}),true);return true}return false},eventInProgress:false,setup:function(){var q,o=this,r=h(o),p={};q=h.data(this,"mobile-events");if(!q){q={length:0};h.data(this,"mobile-events",q)}q.length++;q.swipe=p;p.start=function(u){if(h.event.special.swipe.eventInProgress){return}h.event.special.swipe.eventInProgress=true;var s,w=h.event.special.swipe.start(u),t=u.target,v=false;p.move=function(x){if(!w||x.isDefaultPrevented()){return}s=h.event.special.swipe.stop(x);if(!v){v=h.event.special.swipe.handleSwipe(w,s,o,t);if(v){h.event.special.swipe.eventInProgress=false}}if(Math.abs(w.coords[0]-s.coords[0])>h.event.special.swipe.scrollSupressionThreshold){x.preventDefault()}};p.stop=function(){v=true;h.event.special.swipe.eventInProgress=false;f.off(g,p.move);p.move=null};f.on(g,p.move).one(l,p.stop)};r.on(n,p.start)},teardown:function(){var p,o;p=h.data(this,"mobile-events");if(p){o=p.swipe;delete p.swipe;p.length--;if(p.length===0){h.removeData(this,"mobile-events")}}if(o){if(o.start){h(this).off(n,o.start)}if(o.move){f.off(g,o.move)}if(o.stop){f.off(l,o.stop)}}}};h.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(p,o){h.event.special[p]={setup:function(){h(this).bind(o,h.noop)},teardown:function(){h(this).unbind(o)}}})})(c,this)}));
/*!
 * Bootstrap v4.0.0-alpha.6 (https://getbootstrap.com)
 * Copyright 2011-2017 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if(typeof jQuery==="undefined"){throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.")}+function(b){var a=b.fn.jquery.split(" ")[0].split(".");if((a[0]<2&&a[1]<9)||(a[0]==1&&a[1]==9&&a[2]<1)||(a[0]>=4)){throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}}(jQuery);+function(){var b=function(){function e(j,g){for(var f=0;f<g.length;f++){var h=g[f];h.enumerable=h.enumerable||false;h.configurable=true;if("value" in h){h.writable=true}Object.defineProperty(j,h.key,h)}}return function(h,f,g){if(f){e(h.prototype,f)}if(g){e(h,g)}return h}}();function c(e,f){if(!(e instanceof f)){throw new TypeError("Cannot call a class as a function")}}var d=function(l){var m=false;var j=1000000;var h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};function u(v){return{}.toString.call(v).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(v){return(v[0]||v).nodeType}function g(){return{bindType:m.end,delegateType:m.end,handle:function v(w){if(l(w.target).is(this)){return w.handleObj.handler.apply(this,arguments)}return undefined}}}function e(){if(window.QUnit){return false}var w=document.createElement("bootstrap");for(var v in h){if(w.style[v]!==undefined){return{end:h[v]}}}return false}function k(w){var x=this;var v=false;l(this).one(s.TRANSITION_END,function(){v=true});setTimeout(function(){if(!v){s.triggerTransitionEnd(x)}},w);return this}function t(){m=e();l.fn.emulateTransitionEnd=k;if(s.supportsTransitionEnd()){l.event.special[s.TRANSITION_END]=g()}}var s={TRANSITION_END:"bsTransitionEnd",getUID:function o(v){do{v+=~~(Math.random()*j)}while(document.getElementById(v));return v},getSelectorFromElement:function p(w){var v=w.getAttribute("data-target");if(!v){v=w.getAttribute("href")||"";v=/^#[a-z]/i.test(v)?v:null}return v},reflow:function i(v){return v.offsetHeight},triggerTransitionEnd:function r(v){l(v).trigger(m.end)},supportsTransitionEnd:function q(){return Boolean(m)},typeCheckConfig:function f(v,w,z){for(var y in z){if(z.hasOwnProperty(y)){var B=z[y];var x=w[y];var A=x&&n(x)?"element":u(x);if(!new RegExp(B).test(A)){throw new Error(v.toUpperCase()+": "+('Option "'+y+'" provided type "'+A+'" ')+('but expected type "'+B+'".'))}}}}};t();return s}(jQuery);var a=function(i){var r="dropdown";var s="4.0.0-alpha.6";var q="bs.dropdown";var g="."+q;var p=".data-api";var f=i.fn[r];var k=27;var j=38;var h=40;var l=3;var o={HIDE:"hide"+g,HIDDEN:"hidden"+g,SHOW:"show"+g,SHOWN:"shown"+g,CLICK:"click"+g,CLICK_DATA_API:"click"+g+p,FOCUSIN_DATA_API:"focusin"+g+p,KEYDOWN_DATA_API:"keydown"+g+p};var n={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",SHOW:"show"};var e={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'};var m=function(){function A(C){c(this,A);this._element=C;this._addEventListeners()}A.prototype.toggle=function y(){if(this.disabled||i(this).hasClass(n.DISABLED)){return false}var F=A._getParentFromElement(this);var E=i(F).hasClass(n.SHOW);A._clearMenus();if(E){return false}if("ontouchstart" in document.documentElement&&!i(F).closest(e.NAVBAR_NAV).length){var G=document.createElement("div");G.className=n.BACKDROP;i(G).insertBefore(this);i(G).on("click",A._clearMenus)}var C={relatedTarget:this};var D=i.Event(o.SHOW,C);i(F).trigger(D);if(D.isDefaultPrevented()){return false}this.focus();this.setAttribute("aria-expanded",true);i(F).toggleClass(n.SHOW);i(F).trigger(i.Event(o.SHOWN,C));return false};A.prototype.dispose=function B(){i.removeData(this._element,q);i(this._element).off(g);this._element=null};A.prototype._addEventListeners=function x(){i(this._element).on(o.CLICK,this.toggle)};A._jQueryInterface=function w(C){return this.each(function(){var D=i(this).data(q);if(!D){D=new A(this);i(this).data(q,D)}if(typeof C==="string"){if(D[C]===undefined){throw new Error('No method named "'+C+'"')}D[C].call(this)}})};A._clearMenus=function u(H){if(H&&H.which===l){return}var D=i(e.BACKDROP)[0];if(D){D.parentNode.removeChild(D)}var G=i.makeArray(i(e.DATA_TOGGLE));for(var E=0;E<G.length;E++){var F=A._getParentFromElement(G[E]);var C={relatedTarget:G[E]};if(!i(F).hasClass(n.SHOW)){continue}if(H&&(H.type==="click"&&/input|textarea/i.test(H.target.tagName)||H.type==="focusin")&&i.contains(F,H.target)){continue}var I=i.Event(o.HIDE,C);i(F).trigger(I);if(I.isDefaultPrevented()){continue}G[E].setAttribute("aria-expanded","false");i(F).removeClass(n.SHOW).trigger(i.Event(o.HIDDEN,C))}};A._getParentFromElement=function z(D){var E=void 0;var C=d.getSelectorFromElement(D);if(C){E=i(C)[0]}return E||D.parentNode};A._dataApiKeydownHandler=function v(H){if(!/(38|40|27|32)/.test(H.which)||/input|textarea/i.test(H.target.tagName)){return}H.preventDefault();H.stopPropagation();if(this.disabled||i(this).hasClass(n.DISABLED)){return}var G=A._getParentFromElement(this);var F=i(G).hasClass(n.SHOW);if(!F&&H.which!==k||F&&H.which===k){if(H.which===k){var C=i(G).find(e.DATA_TOGGLE)[0];i(C).trigger("focus")}i(this).trigger("click");return}var D=i(G).find(e.VISIBLE_ITEMS).get();if(!D.length){return}var E=D.indexOf(H.target);if(H.which===j&&E>0){E--}if(H.which===h&&E<D.length-1){E++}if(E<0){E=0}D[E].focus()};b(A,null,[{key:"VERSION",get:function t(){return s}}]);return A}();i(document).on(o.KEYDOWN_DATA_API,e.DATA_TOGGLE,m._dataApiKeydownHandler).on(o.KEYDOWN_DATA_API,e.ROLE_MENU,m._dataApiKeydownHandler).on(o.KEYDOWN_DATA_API,e.ROLE_LISTBOX,m._dataApiKeydownHandler).on(o.CLICK_DATA_API+" "+o.FOCUSIN_DATA_API,m._clearMenus).on(o.CLICK_DATA_API,e.DATA_TOGGLE,m.prototype.toggle).on(o.CLICK_DATA_API,e.FORM_CHILD,function(t){t.stopPropagation()});i.fn[r]=m._jQueryInterface;i.fn[r].Constructor=m;i.fn[r].noConflict=function(){i.fn[r]=f;return m._jQueryInterface};return m}(jQuery)}();
if(typeof static_server=="undefined"){static_server=""}var tb_pathToImage=static_server+"/images/loading.gif";var r=0;var l=0;var t=0;var b=0;var oWidth=0;var oHeight=0;var oXpos=0;var oYpos=0;var cWidth=0;var oHeight=0;var cXpos=0;var cYpos=0;var tbWidth=0;var tbHeight=0;var tbBorderX=0;var tbBorderY=0;var tbXpos=0;var tbYpos=0;var wWidth=0;var wHeight=0;var contain="";var wXFocalPoint=0;var wYFocalPoint=0;var oXFocalPoint=0;var oYFocalPoint=0;var windowWidthIncreased=false;var windowWidthDecreased=false;var windowHeightIncreased=false;var windowHeightDecreased=false;var oldWindowWidth=0;var oldWindowHeight=0;var resizeTimer=false;var xdiff=0;var ydiff=0;var object=null;
/*!!!!!!!!!!!!!!!!! edit below this line at your own risk !!!!!!!!!!!!!!!!!!!!!!!*/
$(document).ready(function(){tb_init("a.thickbox, area.thickbox, input.thickbox");imgLoader=new Image();imgLoader.src=tb_pathToImage});function tb_init(a){$(a).click(function(){var d=this.title||this.name||null;var c=this.href||this.alt;var f=this.rel||false;tb_show(d,c,f);this.blur();return false})}function tb_show(caption,url,imageGroup,post_callback){try{if(typeof document.body.style.maxHeight==="undefined"){$("body","html").css({height:"100%",width:"100%"});$("html").css("overflow","hidden");if(document.getElementById("TB_HideSelect")===null){$("body").append("<iframe id='TB_HideSelect'></iframe><div id='TB_overlay'></div><div id='TB_window'></div>");$("#TB_overlay").click(tb_remove)}}else{if(document.getElementById("TB_overlay")===null){$("body").append("<div id='TB_overlay'></div><div id='TB_window'></div>");$("#TB_overlay").click(tb_remove)}}if(tb_detectMacXFF()){$("#TB_overlay").addClass("TB_overlayMacFFBGHack")}else{$("#TB_overlay").addClass("TB_overlayBG")}if(caption===null){caption=""}$("body").append("<div id='TB_load'><img src='"+imgLoader.src+"' /></div>");$("#TB_load").show();var baseURL;if(url.indexOf("?")!==-1){baseURL=url.substr(0,url.indexOf("?"))}else{baseURL=url}var urlString=/\.jpg$|\.jpeg$|\.png$|\.gif$|\.bmp$/;var urlType=baseURL.toLowerCase().match(urlString);if(urlType==".jpg"||urlType==".jpeg"||urlType==".png"||urlType==".gif"||urlType==".bmp"){TB_PrevCaption="";TB_PrevURL="";TB_PrevHTML="";TB_NextCaption="";TB_NextURL="";TB_NextHTML="";TB_imageCount="";TB_FoundURL=false;if(imageGroup){TB_TempArray=$("a[rel="+imageGroup+"]").get();for(TB_Counter=0;((TB_Counter<TB_TempArray.length)&&(TB_NextHTML===""));TB_Counter++){var urlTypeTemp=TB_TempArray[TB_Counter].href.toLowerCase().match(urlString);if(!(TB_TempArray[TB_Counter].href==url)){if(TB_FoundURL){TB_NextCaption=TB_TempArray[TB_Counter].title;TB_NextURL=TB_TempArray[TB_Counter].href;TB_NextHTML="<span id='TB_next'>&nbsp;&nbsp;<a href='#'>Next &gt;</a></span>"}else{TB_PrevCaption=TB_TempArray[TB_Counter].title;TB_PrevURL=TB_TempArray[TB_Counter].href;TB_PrevHTML="<span id='TB_prev'>&nbsp;&nbsp;<a href='#'>&lt; Prev</a></span>"}}else{TB_FoundURL=true;TB_imageCount="Image "+(TB_Counter+1)+" of "+(TB_TempArray.length)}}}imgPreloader=new Image();imgPreloader.onload=function(){imgPreloader.onload=null;var pagesize=tb_getPageSize();var x=pagesize[0]-150;var y=pagesize[1]-150;var imageWidth=imgPreloader.width;var imageHeight=imgPreloader.height;if(imageWidth>x){imageHeight=imageHeight*(x/imageWidth);imageWidth=x;if(imageHeight>y){imageWidth=imageWidth*(y/imageHeight);imageHeight=y}}else{if(imageHeight>y){imageWidth=imageWidth*(y/imageHeight);imageHeight=y;if(imageWidth>x){imageHeight=imageHeight*(x/imageWidth);imageWidth=x}}}TB_WIDTH=imageWidth+30;TB_HEIGHT=imageHeight+60;var iTB_HEIGHT=TB_HEIGHT*0.8;$("#TB_window").append("<div class='TB_closeWindowButton tb-close-mobile'><div class='global_sprite tb-close-x'></div></div><div id='outer' class='outer' style='position: relative;'><img id='TB_Image' src='"+url+"' style='position: relative; left: 0px; top: 0px;' class='ui-draggable' alt='"+caption+"'/></div><div id='ImageDetails' class='ImageDetails'><div id='TB_caption'>"+TB_imageCount+TB_PrevHTML+TB_NextHTML+"</div><div id='TB_closeWindow'><a href='#' class='TB_closeWindowButton' title='Close'>close</a> or Esc Key</div></div>");$(".TB_closeWindowButton").click(tb_remove);if(!(TB_PrevHTML==="")){function goPrev(){if($(document).unbind("click",goPrev)){$(document).unbind("click",goPrev)}$("#TB_window").remove();$("body").append("<div id='TB_window'></div>");tb_show(TB_PrevCaption,TB_PrevURL,imageGroup);return false}$("#TB_prev").click(goPrev)}if(!(TB_NextHTML==="")){function goNext(){$("#TB_window").remove();$("body").append("<div id='TB_window'></div>");tb_show(TB_NextCaption,TB_NextURL,imageGroup);return false}$("#TB_next").click(goNext)}document.onkeydown=function(e){if(e==null){keycode=event.keyCode}else{keycode=e.which}if(keycode==27){tb_remove()}else{if(keycode==190){if(!(TB_NextHTML=="")){document.onkeydown="";goNext()}}else{if(keycode==188){if(!(TB_PrevHTML=="")){document.onkeydown="";goPrev()}}}}};$("#TB_load").remove();$("#TB_ImageOff").click(tb_remove);$("#TB_window").css({display:"block"});object=$("#TB_Image");tb_position(object);GetData();CenterImage();$(object).hover(function(){$(this).css({cursor:"move"});$(object).draggable({drag:function(event,ui){this.containment=eval(GetData())},containment:eval(GetData()),start:function(){},stop:function(){}}).mouseover(function(event){$(this).css({cursor:"move"})}).mouseout(function(event){$(this).css({cursor:"default"})}).mouseup(function(){}).mousedown(function(){});return false});$(window).on("resize",function(){GetData();CenterImage()})};imgPreloader.src=url}else{var queryString=url.replace(/^[^\?]+\??/,"");var params=tb_parseQuery(queryString);TB_WIDTH=(params.width*1)||630;if(params.height=="auto"){TB_HEIGHT="auto"}else{TB_HEIGHT=(params.height*1)||440}ajaxContentW=TB_WIDTH;if(TB_HEIGHT=="auto"){ajaxContentH="auto"}else{ajaxContentH=TB_HEIGHT}if(url.indexOf("TB_iframe")!=-1){urlNoQuery=url.split("TB_");$("#TB_iframeContent").remove();if(params.modal!="true"){$("#TB_window").append("<div class='TB_closeWindowButton tb-close-mobile'><div class='global_sprite tb-close-x'></div></div><div id='TB_title'><div id='TB_ajaxWindowTitle'>"+caption+"</div><div id='TB_closeAjaxWindow'><a href='#' class='TB_closeWindowButton' title='Close'>close</a> or Esc Key</div></div><iframe frameborder='0' hspace='0' src='"+urlNoQuery[0]+"' id='TB_iframeContent' name='TB_iframeContent"+Math.round(Math.random()*1000)+"' onload='tb_showIframe()' style='width:"+(ajaxContentW+29)+"px;height:"+(ajaxContentH+17)+"px;' > </iframe>");document.onkeydown=function(e){if(e==null){keycode=event.keyCode}else{keycode=e.which}if(keycode==27){tb_remove()}}}else{$("#TB_overlay").unbind();$("#TB_window").append("<iframe frameborder='0' hspace='0' src='"+urlNoQuery[0]+"' id='TB_iframeContent' name='TB_iframeContent"+Math.round(Math.random()*1000)+"' onload='tb_showIframe()' style='width:"+(ajaxContentW+29)+"px;height:"+(ajaxContentH+17)+"px;'> </iframe>")}}else{if($("#TB_window").css("display")!="block"){if(params.modal!="true"){$("#TB_window").append("<div class='TB_closeWindowButton tb-close-mobile'><div class='global_sprite tb-close-x'></div></div><div id='TB_title'><div id='TB_ajaxWindowTitle'>"+caption+"</div><div id='TB_closeAjaxWindow'><a href='#' class='TB_closeWindowButton'>close</a> or Esc Key</div></div><div id='TB_ajaxContent' style='width:"+ajaxContentW+"px;height:"+ajaxContentH+"px'></div>");document.onkeydown=function(e){if(e==null){keycode=event.keyCode}else{keycode=e.which}if(keycode==27){tb_remove()}}}else{$("#TB_overlay").unbind();$("#TB_window").append("<div id='TB_ajaxContent' class='TB_modal' style='width:"+ajaxContentW+"px;height:"+ajaxContentH+"px;'></div>")}}else{$("#TB_ajaxContent")[0].style.width=ajaxContentW+"px";$("#TB_ajaxContent")[0].style.height=ajaxContentH+"px";$("#TB_ajaxContent")[0].scrollTop=0;$("#TB_ajaxWindowTitle").html(caption)}}$(".TB_closeWindowButton").click(tb_remove);if(url.indexOf("TB_inline")!=-1){$("#TB_ajaxContent").append($("#"+params.inlineId).children());$("#TB_window").unload(function(){$("#"+params.inlineId).append($("#TB_ajaxContent").children())});tb_position();$("#TB_load").remove();$("#TB_window").css({display:"block"})}else{if(url.indexOf("TB_iframe")!=-1){tb_position();if($.browser.safari){$("#TB_load").remove();$("#TB_window").css({display:"block"})}}else{if(typeof post_callback!="undefined"){$.ajax({type:"POST",url:"/api/1.2/",data:urldecode($.param(getUrlVars(url))),success:function(data){$("#TB_load").remove();post_callback(data)},error:function(obj){if(typeof console!="undefined"){console.log(obj)}}})}else{$("#TB_ajaxContent").load(url+="&random="+(new Date().getTime()),function(){tb_position();$("#TB_load").remove();tb_init("#TB_ajaxContent a.thickbox");$("#TB_window").css({display:"block"})})}}}}if(!params.modal){document.onkeyup=function(e){if(e==null){keycode=event.keyCode}else{keycode=e.which}if(keycode==27){tb_remove()}}}}catch(e){}}$.fn.ShowTooltip=function(){var a=20;var c=20;$(this).hover(function(){$("body").append("<div id='tooltip' class='tooltip' style='z-index:120; padding:10px; height:30px; width: auto; background:#fff; position:absolute;'>Mousedown to drag image</div>");$("#tooltip").css({left:e.pageX+a,top:e.pageY+c})}).mousemove(function(d){$("#tooltip").css({left:d.pageX+a,top:d.pageY+c})}).mouseout(function(){$("#tooltip").fadeOut(200,function(){$("#tooltip").remove()})})};function CenterImageMidpoint(){}function CenterImage(){$("#TB_Image").css({position:"absolute"});$("#TB_Image").css({left:"-"+((oWidth-cWidth)/2)+"px"});$("#TB_Image").css({top:"-"+((oHeight-cHeight)/2)+"px"})}var oldX=undefined;var oldY=undefined;function GetData(){object=$("#TB_Image");if(object){r=0;l=0;t=0;b=0;oWidth=0;oHeight=0;cWidth=0;oHeight=0;cXpos=0;cYpos=0;oWidth=$(object).width();oHeight=$(object).height();oXpos=$(object).offset().left;oYpos=$(object).offset().top;cWidth=$("#outer").width();cHeight=$("#outer").height();cXpos=$("#outer").offset().left;cYpos=$("#outer").offset().top;tbWidth=$("#TB_window").width();tbHeight=$("#TB_window").height();tbBorderX=parseInt($("#TB_window").css("borderLeftWidth"),10)+parseInt($("#TB_window").css("borderRightWidth"),10);tbBorderY=parseInt($("#TB_window").css("borderTopWidth"),10)+parseInt($("#TB_window").css("borderBottomWidth"),10);tbXpos=$("#TB_window").offset().left;tbYpos=$("#TB_window").offset().top;wWidth=$(window).width();wHeight=$(window).height();l=((cXpos+cWidth)-oWidth);t=((cYpos+cHeight)-oHeight);r=((cXpos-oWidth)+oWidth);b=((cYpos-oHeight)+oHeight);contain="["+l+","+t+","+r+","+b+"]";$("#outer").css({"margin-top":0+"px"});var g=$("#ImageDetails").height();var f=40;var a=20;var h=0.9;if((wWidth-f)>oWidth){$("#TB_window").css({marginLeft:"-"+parseInt((oWidth/2),10)+"px",width:oWidth+"px"})}else{var d=(wWidth*h)+tbBorderX;$("#TB_window").css({marginLeft:"-"+parseInt(((d+tbBorderX)/2),10)+"px",width:d+"px"})}cWidth=$("#outer").width();if(((wHeight-f)-g)>oHeight){$("#TB_window").css({marginTop:"-"+parseInt(((oHeight+g)/2),10)+"px",height:oHeight+"px"});$("#outer").css({height:$("#TB_window").height()+"px"})}else{var c=(wHeight*h)+tbBorderY;$("#TB_window").css({marginTop:"-"+parseInt(((c+tbBorderY)/2),10)+"px",height:(c-g)+"px"});$("#outer").css({height:(c-g)+"px"})}cHeight=$("#outer").height();return contain}}function tb_showIframe(){$("#TB_load").remove();$("#TB_window").css({display:"block"})}function tb_remove(){$("#TB_imageOff").unbind("click");$(".TB_closeWindowButton").unbind("click");$("#TB_window").fadeOut("fast",function(){$("#TB_window,#TB_overlay,#TB_HideSelect").trigger("unload").unbind().remove()});$("#TB_load").remove();if(typeof document.body.style.maxHeight=="undefined"){$("body","html").css({height:"auto",width:"auto"});$("html").css("overflow","")}document.onkeydown="";document.onkeyup="";$(window).unbind("resize");return false}function tb_position(a){if(a){TB_WIDTH=(TB_WIDTH*0.7)}$("#TB_window").css({marginLeft:"-"+parseInt((TB_WIDTH/2),10)+"px",width:TB_WIDTH+"px"});if(!(jQuery.browser.msie&&jQuery.browser.version<7)){$("#TB_window").css({marginTop:"-"+parseInt(($("#TB_window").height()/2),10)+"px"})}}function tb_parseQuery(f){var g={};if(!f){return g}var a=f.split(/[;&]/);for(var d=0;d<a.length;d++){var j=a[d].split("=");if(!j||j.length!=2){continue}var c=unescape(j[0]);var h=unescape(j[1]);h=h.replace(/\+/g," ");g[c]=h}return g}function tb_getPageSize(){var d=document.documentElement;var a=window.innerWidth||self.innerWidth||(d&&d.clientWidth)||document.body.clientWidth;var c=window.innerHeight||self.innerHeight||(d&&d.clientHeight)||document.body.clientHeight;arrayPageSize=[a,c];return arrayPageSize}function tb_detectMacXFF(){var a=navigator.userAgent.toLowerCase();if(a.indexOf("mac")!=-1&&a.indexOf("firefox")!=-1){return true}};
(function(e){e.fn.jCarouselLite=function(f){f=e.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:false,auto:null,getcurrent:false,speed:200,easing:null,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null,firststart:0},f||{});return this.each(function(){var k=false,g=f.vertical?"top":"left",h=f.vertical?"height":"width";var s=e(this),q=e("ul",s),w=e("li",q),l=w.size(),o=f.visible;var n=null;if(f.circular){q.prepend(w.slice(l-o).clone()).append(w.slice(0,o).clone());f.start+=o}var p=e("li",q),m=p.size(),x=f.start;if(f.circular){for(i=0;i<2*o;i++){var A=e(".lazy_img[rel]",e("li:nth-child("+(i+1)+")",q));if(A.length!=0){A.attr("src",A.attr("rel"));A.removeAttr("rel")}if(i>=o){var A=e(".lazy_img[rel]",e("li:nth-child("+(m-i+1)+")",q));if(A.length!=0){A.attr("src",A.attr("rel"));A.removeAttr("rel")}}}}s.css("visibility","visible");p.css({overflow:"hidden","float":f.vertical?"none":"left"});q.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"});s.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var z=f.vertical?a(p):c(p);var y=z*m;var r=z*o;p.css({width:p.width(),height:p.height()});q.css(h,y+"px").css(g,-(x*z));s.css(h,r+"px");if(f.btnPrev){e(f.btnPrev).click(function(){j();return u(f.circular?x-f.scroll:Math.max(0,x-f.scroll))})}if(f.btnNext){e(f.btnNext).click(function(){j();return u(f.circular?x+f.scroll:Math.min(x+f.scroll,m-o))})}if(f.btnGo){e.each(f.btnGo,function(v,B){e(B).click(function(){j();return u(f.circular?f.visible+v:v)})})}if(f.mouseWheel&&s.mousewheel){s.mousewheel(function(v,B){return B>0?u(x-f.scroll):u(x+f.scroll)})}if(f.auto){if(f.firststart>0){setTimeout(function(){n=setInterval(function(){u(x+f.scroll)},f.auto+f.speed)},f.firststart)}else{n=setInterval(function(){u(x+f.scroll)},f.auto+f.speed)}}function t(){return p.slice(x).slice(0,o)}function j(){if(f.auto){clearInterval(n);n=setInterval(function(){u(x+f.scroll)},f.auto+f.speed)}return}function u(B){if(!k){if(f.beforeStart){f.beforeStart.call(this,t())}if(f.circular){if(B<=f.start-o-1){q.css(g,(-(x+l)*z)+"px");d=(B+l)-x;x=B+l}else{if(B>=m-o+1){q.css(g,(-(x-l)*z)+"px");x=B-l}else{x=B}}d=1}else{if(B<0||B>m-o||B==x){return}d=Math.abs(B-x)/f.scroll;x=B}for(i=x;i<x+f.scroll;i++){var v=e(".lazy_img[rel]",e("li:nth-child("+(i+1)+")",q));if(v.length!=0){v.each(function(){e(this).attr("src",e(this).attr("rel"));e(this).removeAttr("rel")})}}k=true;q.animate(g=="left"?{left:-(x*z)}:{top:-(x*z)},f.speed*d,f.easing,function(){if(f.afterEnd){f.afterEnd.call(this,t())}k=false});if(!f.circular){e(f.btnPrev+","+f.btnNext).removeClass("disabled");if(x==0){e(f.btnPrev).addClass("disabled")}if(x+f.scroll==m){e(f.btnNext).addClass("disabled")}}}return false}})};function b(f,g){return parseInt(jQuery.css(f[0],g))||0}function c(f){return f[0].offsetWidth+b(f,"marginLeft")+b(f,"marginRight")}function a(f){return f[0].offsetHeight+b(f,"marginTop")+b(f,"marginBottom")}})(jQuery);
if(typeof deconcept=="undefined"){var deconcept={}}if(typeof deconcept.util=="undefined"){deconcept.util={}}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil={}}deconcept.SWFObject=function(m,b,n,e,j,k,g,f,d,l){if(!document.getElementById){return}this.DETECT_KEY=l?l:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params={};this.variables={};this.attributes=[];if(m){this.setAttribute("swf",m)}if(b){this.setAttribute("id",b)}if(n){this.setAttribute("width",n)}if(e){this.setAttribute("height",e)}if(j){this.setAttribute("version",new deconcept.PlayerVersion(j.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true}}if(k){this.addParam("bgcolor",k)}var a=g?g:"high";this.addParam("quality",a);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var i=(f)?f:window.location;this.setAttribute("xiRedirectUrl",i);this.setAttribute("redirectUrl","");if(d){this.setAttribute("redirectUrl",d)}};deconcept.SWFObject.prototype={useExpressInstall:function(a){this.xiSWFPath=!a?"expressinstall.swf":a;this.setAttribute("useExpressInstall",true)},setAttribute:function(a,b){this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]||""},addParam:function(b,a){this.params[b]=a},getParams:function(){return this.params},addVariable:function(b,a){this.variables[b]=a},getVariable:function(a){return this.variables[a]||""},getVariables:function(){return this.variables},getVariablePairs:function(){var c=[];var b;var a=this.getVariables();for(b in a){c[c.length]=b+"="+a[b]}return c},getSWFHTML:function(){var b="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath)}b='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+(this.getAttribute("style")||"")+'"';b+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var f=this.getParams();for(var e in f){b+=[e]+'="'+f[e]+'" '}var d=this.getVariablePairs().join("&");if(d.length>0){b+='flashvars="'+d+'"'}b+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath)}b='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+(this.getAttribute("style")||"")+'">';b+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var c=this.getParams();for(var e in c){b+='<param name="'+e+'" value="'+c[e]+'" />'}var a=this.getVariablePairs().join("&");if(a.length>0){b+='<param name="flashvars" value="'+a+'" />'}b+="</object>"}return b},write:function(b){if(this.getAttribute("useExpressInstall")){var a=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(a)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var c=(typeof b=="string")?document.getElementById(b):b;c.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var f=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description){f=new deconcept.PlayerVersion(a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var b=1;var c=3;while(b){try{c++;b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+c);f=new deconcept.PlayerVersion([c,0,0])}catch(d){b=null}}}else{try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(d){try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f=new deconcept.PlayerVersion([6,0,21]);b.AllowScriptAccess="always"}catch(d){if(f.major==6){return f}}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(d){}}if(b!=null){f=new deconcept.PlayerVersion(b.GetVariable("$version").split(" ")[1].split(","))}}}return f};deconcept.PlayerVersion=function(a){this.major=a[0]!=null?parseInt(a[0]):0;this.minor=a[1]!=null?parseInt(a[1]):0;this.rev=a[2]!=null?parseInt(a[2]):0};deconcept.PlayerVersion.prototype.versionIsValid=function(a){if(this.major<a.major){return false}if(this.major>a.major){return true}if(this.minor<a.minor){return false}if(this.minor>a.minor){return true}if(this.rev<a.rev){return false}return true};deconcept.util={getRequestParameter:function(c){var d=document.location.search||document.location.hash;if(c==null){return d}if(d){var b=d.substring(1).split("&");for(var a=0;a<b.length;a++){if(b[a].substring(0,b[a].indexOf("="))==c){return b[a].substring((b[a].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var b=document.getElementsByTagName("OBJECT");for(var c=b.length-1;c>=0;c--){b[c].style.display="none";for(var a in b[c]){if(typeof b[c][a]=="function"){b[c][a]=function(){}}}}};if(!document.getElementById&&document.all){document.getElementById=function(a){return document.all[a]}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;
var JUNO_API={config:{new_window_name:"JunoRecords",player_id:"junoplayer",url_base:url_nonsecure,surl_base:url_secure,surl_base_api:url_secure+"/api/1.2/?",url_base_api:url_nonsecure+"/api/1.2/?",form_vars:{},loginCookies:["ajaxLogin","ajaxLoginCancel","ajaxLoginRegister","ajaxLoginResendPassword","ajaxLoginResendPasswordRequest","ajaxCreateAccount"],window:{height:145,width:250,toolbar:0,scrollbar:0,resizable:0,location:0,type:"text/html"}},User:{doCheckLogged:function(){var a=$.ajax({url:JUNO_API.config.url_base_api+"method=user.doCheckLogged",async:false}).responseText;return(a*1==1)},doIfLogged:function(ok_callback,error_callback){var entry;if(arguments.length==2){callback={ok:ok_callback,error:error_callback}}else{if(arguments.length==1){callback=ok_callback}}$.ajax({url:JUNO_API.config.url_base_api+"method=user.doCheckLogged&output_type=json",type:"GET",dataType:"json",timeout:1000,error:function(data){if(typeof(callback)=="object"){eval(callback.error)}},success:function(data){if(typeof(callback)=="object"){if(data.logged_in){eval(callback.ok)}else{eval(callback.error)}}else{eval(callback)}}})},doLoginAndRedir:function(a){url=JUNO_API.User.getLoginURL()+"?redir="+escape(a);JUNO_API.Window.open({url:url})},getLoginURL:function(){return(JUNO_API.config.surl_base+"/login/")},getPage:function(c,a,d,b){$.ajax({type:"GET",url:JUNO_API.config.url_base_api+"method=user.getPage&output_type=html",data:"page="+c,dataType:"html",error:function(e,g,f){return false},complete:function(){if(typeof b!=="undefined"){b()}},success:function(e){$("#"+d).html(e);return true}})},getFramePage:function(e,d){if(typeof d==="undefined"){d=""}var c=document.location.href;var b=JUNO_API.User.is_secure_url(c);if(b){c=c.replace(JUNO_API.config.surl_base_api,"")}else{c=c.replace(JUNO_API.config.url_base_api,"")}c=c.split("&");for(var a=0;a<c.length;a++){tmp_src=c[a].split("=");if(tmp_src[0]=="page"){tmp_src[1]=e;c[a]=tmp_src.join("=")}else{if(tmp_src[0]=="is_secure"){if(tmp_src[1]=="1"){b=true}else{b=false}}}}if(e=="login_callback"){JUNO_API.User.parentExec("disable_dialog_frame_onload");b=is_parent_secure}c=c.join("&")+d;if(b){c=JUNO_API.config.surl_base_api+c}else{c=JUNO_API.config.url_base_api+c}document.location.replace(c)},doProcessForm:function(b){var d=document.location.href;var c=JUNO_API.User.is_secure_url(d);JUNO_API.config.form_vars={};if(typeof b=="undefined"){return false}$("#"+b+" :input").each(function(){if(this.name.replace(/^\s+|\s+$/g,"")!=""){if($(this).attr("type")=="checkbox"){if(this.checked===true){JUNO_API.config.form_vars[this.name]=this.value}}else{if(this.name=="email"||this.name=="password"||this.name=="password_again"){JUNO_API.config.form_vars[this.name]=$.base64Encode(this.value)}else{JUNO_API.config.form_vars[this.name]=this.value}}}});var a;if(c){a=JUNO_API.config.surl_base_api}else{a=JUNO_API.config.url_base_api}$.ajax({type:"POST",url:a,data:JUNO_API.config.form_vars,dataType:"html",timeout:20000,error:function(e,g,f){if(g=="timeout"){parent.location.replace("/login/")}return false},complete:function(){},success:function(e){JUNO_API.User.doProcessFormCallBack(e)}})},doProcessFormCallBack:function(_data){var data=eval("("+_data+")");var success_page="login_callback";if(data.success_page){success_page=data.success_page}switch(data.method){case"doRegister":if(data.status=="OK"){if(JUNO_API.config.form_vars.callback&&JUNO_API.config.form_vars.callback.search("alerts.signupgo")!=-1){ga("send","event","email_alert_forthcoming_lightbox","registration_new_customer","registration_new_customer")}if(JUNO_API.config.form_vars.receive_email_marketing){success_page="optional_questions"}}break}if(data.error){JUNO_API.User.handleDialogError(data)}else{JUNO_API.User.parentExec("add_dialog_overlay");JUNO_API.User.getFramePage(success_page)}},handleDialogError:function(c){var a=c.error_container||"#ajax-error";var b=c.error||"Unknown error";$(a).css("display","none");if($("#resize_element").val()){$(".dialog input[type=text], .dialog input[type=password]").stop().animate({width:$("#resize_element").val()},"fast").promise().done(function(){JUNO_API.User.parentExec("remove_dialog_overlay");$(a).html(b).fadeIn(300)})}else{JUNO_API.User.parentExec("remove_dialog_overlay");$(a).html(b).fadeIn(300)}},doReloadTopmenu:function(){$("table#top_menu").hide("slow");$.ajax({type:"GET",url:JUNO_API.config.url_base_api,data:"method=user.doReloadTopmenu",dataType:"html",error:function(a,c,b){return false},success:function(a){$("table#top_menu").html(a);$("table#top_menu").show("slow")}})},removeFrame:function(){tb_remove();if($.browser.msie){window.frames.dialog_frame.close()}else{delete window.frames.dialog_frame}return false},is_secure_url:function(a){if(a.substr(0,5)=="https"){return true}return false},parentExec:function(action,callback,options){var data={action:action};if(typeof options=="undefined"){options={}}switch(action){case"set_dialog_dimensions":data.height=options.height||$("body").height();data.width=options.width||$("body").width();params="&height="+data.height;params+="&width="+data.width;break;default:params=""}switch(callback){case"get_frame_login":callback="JUNO_API.User.getFramePage('login');";break;case"submit_login":callback="JUNO_API.User.doProcessForm('login_form');";break;case"get_frame_register":var from_par="";if(typeof options.from!="undefined"){from_par="&from="+options.from}callback="JUNO_API.User.getFramePage('register', '"+from_par+"');";break;case"submit_register":callback="JUNO_API.User.doProcessForm('register_form');";break;case"submit_optionals":callback="JUNO_API.User.doProcessForm('optional_questions_form');";break;case"get_frame_forgotten_password":var email_par="";if($("#login_email, #register_email").length&&$("#login_email, #register_email").val()){email_par="&email="+$("#login_email, #register_email").val()}var from_par="";if(typeof options.from!="undefined"){from_par="&from="+options.from}callback="JUNO_API.User.getFramePage('forgotten_password', '"+email_par+from_par+"');";break;case"get_frame_forgotten_djd_password":var email_par="";if($("#login_email_djd").length&&$("#login_email_djd").val()){email_par="&email="+$("#login_email_djd").val()}var from_par="";if(typeof options.from!="undefined"){from_par="&from="+options.from}callback="JUNO_API.User.getFramePage('forgotten_djd_password', '"+email_par+from_par+"');";break;case"reset_password":callback="JUNO_API.User.doProcessForm('password_reset_form');";break;case"submit_djd_merge":callback="JUNO_API.User.doProcessForm('djd_merge_form');";break;default:if(callback){callback="JUNO_API.User.getFramePage('"+callback+"');"}}$.cookie("dialog_action",JSON.stringify(data),{path:"/",domain:domain});if(callback){eval(callback)}}},Player:{addToWishlist:function(a){var b=a.match(/\?title_id=(\d+)&product_id=(\d+)/);if(b.length>0){JUNO_API.Wishlist.addProduct(b[1],b[2],"player")}},getSWF:function(){var a=JUNO_API.config.player_id;if(document.getElementById){return document.getElementById(a)}else{return window[a]}}},Window:{open:function(d){var c=d.url;var g=d.width?d.width:660;var a=d.height?d.height:540;var b=d.name?d.name:JUNO_API.config.new_window_name;var h=window.open(c,b,"width="+g+",height="+a+",scrollbars=1,resizable=1");if(!h){var f=((c.match(/http(s)?:\//)==null)?JUNO_API.config.url_base+"/":"");var e=getSWF(player_id);if(e){e.openWindowSWF(f+c)}}return false},open_mini:function(a){a.width=250;a.height=130;a.name=JUNO_API.config.new_mini_window_name;JUNO_API.Window.open(a)}},Wishlist:{addProduct:function(b,a,c){if(arguments.length==2){c=""}JUNO_API.User.doIfLogged("JUNO_API.Wishlist.addProductCallback("+b+","+a+")","JUNO_API.User.doLoginAndRedir('"+JUNO_API.config.url_base+"/wishlist/add/?popup=1&from="+c+"&title_id="+b+"&product_id="+a+"')")},addProductCallback:function(b,a){$.get(JUNO_API.config.url_base_api+"method=wishlist.addProduct&title_id="+b+"&product_id="+a,function(c){JUNO_API.Player.getSWF().showMessage(c)})}},Currency:{set:function(a){$.ajax({type:"PATCH",url:"/api/v2/currency",data:{isoCode:a},success:function(){window.location.href=window.location.href},error:function(b){modalAlert("ERROR!","Falied to set currency. Please try again or report problem to customer service.")}})}}};
var timeoutID="";var showddID="";var currentmenu="";var menuskin="skin1";var productContextOptions="";var active_window=null;var hdl_options_show="";var hdl_options_hide="";var dialogCookieInterval=null;var useDialogFrameOnload=true;var hidden,visibilityChange;$(document).ready(function(){$("body").on("click",".dialog-close",function(){close_dialog()});if(junoCompatBrowser()){$(".login-soft").each(function(){$(this).click(function(){return check_login(this,"soft",true)})});$(".login-strict").each(function(){$(this).click(function(){return check_login(this,"strict",true)})})}if($.cookie("dialog_action")!=undefined){$.removeCookie("dialog_action",{path:"/",domain:domain})}$(".productimage img").lazyload({placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="});if($("#sale_img").length){show_next_banner()}});String.prototype.render=function(){var a=arguments;return this.replace(/(\{\{?(\w+)\}\}?)|(\[\[?(\w+)\]\]?)/g,function(b,g,e,d,c){var f=e||c||"";return((typeof a[0][f]!="undefined")?a[0][f]:b)})};String.prototype.toNum=function(){return parseFloat(this.replace(",",""))};String.prototype.repeat=function(a){return new Array(++a).join(this)};function check_login(d,g,c,e){if(!junoCompatBrowser()){return true}if(typeof e=="undefined"){e={}}var j="";var h="";var f="login";if(e.page){f=e.page}if(typeof e.redir!="undefined"){j=urldecode(e.redir)}else{if(typeof $(d).attr("redir")!="undefined"&&$(d).attr("redir")!=""){j=urldecode($(d).attr("redir"))}else{if(typeof $(d).attr("href")!="undefined"&&$(d).attr("href")!=""&&$(d).attr("href").search("javascript:")==-1){j=$(d).attr("href")}}}if(j.substr(0,5)=="https"){j=j.replace(url_secure,"")}else{j=j.replace(url_nonsecure,"")}if(typeof e.callback!="undefined"){h="&callback="+e.callback;if(typeof e.callback_options!="undefined"){if(e.callback_options instanceof Array){h+="&callback_options[]="+e.callback_options.join("&callback_options[]=")}else{h+="&callback_options="+e.callback_options}}}else{if(typeof $(d).attr("callback")!="undefined"&&$(d).attr("callback")!=""){h="&callback="+$(d).attr("callback")}}var k={soft:loginSoftCookie,strict:loginStrictCookie};if($.cookie(k[g])=="1"){if(typeof c!="undefined"&&c==true){if(j!=""){document.location.href=j}else{document.location.reload()}return false}return true}else{var a="";if($.cookie(loginSoftCookie)=="1"){a="&"+loginSoftCookie+"=1"}var b="/api/1.2/?output_type=html&method=user.getFramePage&page="+f+"&redir="+urlencode(j)+h+a;b+="&is_parent_secure="+(document.location.href.substr(0,5)=="https"?1:0);modal_dialog(b,"#login_container",{height:335});return false}}function modal_dialog(d,f,a,c){a=a||{};c=c||"#juno_dialog";f=f||"#juno_dialog_container";if($(c).dialog("isOpen")){$(c).dialog("close")}var e="GET";if(typeof a.request_type!="undefined"){e=a.request_type}var b=$.extend({width:500,modal:true,autoOpen:true,draggable:false,resizable:false,show:{effect:"fade",duration:"slow"},appendTo:f,position:{my:"center",at:"center",of:window},open:function(g,h){if(d){add_overlay(c);$.ajax({type:e,url:d.split("?")[0],data:urldecode($.param(getUrlVars(d))),success:function(j){if(typeof a.callback=="function"){a.callback(j)}else{$(".ui-dialog").css("position","fixed");$(c).append(j);$(c).dialog("option","position",{my:"center",at:"center",of:window});if(d.search("getFramePage")==-1){remove_overlay(c)}else{start_dialog_cookie_listener()}}},error:function(j){if(typeof console!="undefined"){console.log(j)}}})}setTimeout(function(){$(c).dialog("option","position",{my:"center",at:"center",of:window})},0);$("body").css({overflow:"hidden"})},close:function(g,h){$(this).empty()},beforeClose:function(g,h){$("body").css({overflow:"inherit"})}},a);if(!$(f).length){$("body").append('<div id="'+f.replace("#","")+'" class="no-titlebar"></div>')}if(!$(c).length){$("body").append('<div id="'+c.replace("#","")+'" class="dialog"></div>')}$(c).dialog(b);if(!navigator.userAgent.match(/Android/i)){$(window).on("resize",function(){$(c).dialog("option","position",{my:"center",at:"center",of:window})})}}function resize_dialog(b,d){d=d||"#juno_dialog";var e=$(window).width();var a=$(window).height();var c=$(b).height();var f=$(b).width();dialog_top=Math.floor((a-c)/2);dialog_left=Math.floor((e-f)/2);setTimeout(function(){$(d).animate({height:c,width:f},"fast");$(d).parent().animate({top:dialog_top,left:dialog_left,height:c,width:f},"fast")},0)}function close_dialog(a){if(typeof a=="undefined"){a="#juno_dialog"}stop_dialog_cookie_listener();$(a).dialog("close")}function modalAlert(d,c,e,a,b){a=a||"auto";b=b||450;modal_dialog(null,null,{open:function(){$("#juno_dialog").append('<div class="box_content dialog_content"><div class="top_container"><div class="title">[[title]]</div></div><div class="form_container"><div class="text">[[text]]</div></div><div class="btm_container" style="padding: 20px"><button class="btn_theme dialog-close" id="btn_close">Close</button></div></div>'.render({title:d,text:c}));if(typeof e=="function"){$("#juno_dialog #btn_close").on("click",e)}$("#juno_dialog").dialog("option","position",{my:"center",at:"center",of:window})},height:a,width:b})}function modalConfirm(h,g,e,f,a,d,c,b){a=a||"auto";d=d||450;c=c||"Yes";b=b||"No";modal_dialog(null,null,{open:function(){$("#juno_dialog").append(('<div class="box_content dialog_content"><div class="top_container"><div class="title">[[title]]</div></div><div class="form_container"><div class="text">[[text]]</div></div><div class="btm_container" style="padding: 20px"><button class="btn_theme" id="btn_ok">'+c+'</button>&nbsp;&nbsp;<button class="btn_theme dialog-close" id="btn_close">'+b+"</button></div></div>").render({title:h,text:g}));$("#juno_dialog #btn_ok").on("click",e);if(typeof f!="undefined"){$("#juno_dialog #btn_close").on("click",f)}},height:a,width:450})}function start_dialog_cookie_listener(){dialogCookieInterval=setInterval("check_dialog_cookie()",200)}function stop_dialog_cookie_listener(){clearInterval(dialogCookieInterval)}function check_dialog_cookie(){if($.cookie("dialog_action")){var a=$.cookie("dialog_action");$.removeCookie("dialog_action",{path:"/",domain:domain});exec_dialog_action(a)}}function exec_dialog_action(b){var a=JSON.parse(b);switch(a.action){case"cancel_dialog":close_dialog();break;case"add_dialog_overlay":add_overlay("#juno_dialog");break;case"remove_dialog_overlay":remove_overlay("#juno_dialog");break;case"set_dialog_dimensions":set_dialog_dimensions(a);break;case"contact_us":location.href="/contact-juno/";break;case"go_to_homepage":location.href="/";break;case"disable_dialog_frame_onload":useDialogFrameOnload=false;break;default:}}function set_dialog_dimensions(a){top_w=$(window).width();top_h=$(window).height();dialog_top=Math.floor((top_h-a.height)/2);dialog_left=Math.floor((top_w-a.width)/2);$("#juno_dialog").parent().animate({top:dialog_top,left:dialog_left,height:a.height,width:a.width},"fast");$("#juno_dialog").animate({height:a.height,width:a.width},"fast")}function addToCartByUrl(c,d){if(window.location.hostname.search("junodownload.com$")>-1&&(!d||d==1||d==2||d==4)){var b=c.match(/([0-9]{6,}\/[0-9]{1,}(?:mp3_192|mp3_320|wav|flac|aiff|alac)?)/g);var a=null;if(b instanceof Array&&b.length>0){a=b[0].replace("/","-")}if(!check_track_format_cookie("addToCartByUrl('"+c+"')",null,null,a)){return false}}return NewWindow(c,790,150)}function addToCartPopup(){var j,b,a,e,h,c={};var g=[];if(typeof arguments[0]=="object"&&arguments[0] instanceof Array){g=arguments[0]}else{g=[].slice.call(arguments)}for(var d=0;d<g.length;d++){switch(d){case 0:if(g[d]!=undefined){j=g[d]}break;case 1:if(g[d]!=undefined){b=g[d]}break;case 2:if(g[d]==undefined){a=null;e=null}else{if(g[3]!=undefined&&g[3]=="arc"){a=null;e=g[d]}else{a=g[d];e=null}}break;case 3:if(g[d]!=undefined){h=g[d]}if(h!=undefined&&h!="arc"&&h!="stems"){$.cookie("track_sale_format",h,{expires:75,path:"/"})}break;case 4:if(g[d]!=undefined){c=g[d]}break}}if(!h&&typeof c.check_format=="undefined"){c.check_format=true}var f=$.grep([j,b,e||a,h],function(l){return l==0||l}).join("-");if(typeof c.formatCheckCallback!="undefined"){formatCheckCallback=c.formatCheckCallback}else{cbData=JSON.parse(JSON.stringify(c));cbData.refresh_parent=1;formatCheckCallback="addToCartPopup("+[j,b,e||a||"null",h||"null",JSON.stringify(cbData)].join(",")+")"}if(window.location.hostname.search("junodownload.com$")>-1&&c.check_format&&!check_track_format_cookie(formatCheckCallback,null,true,f)){return false}if(!e&&typeof c.arc_formats!="undefined"){return select_arc_format(j,b,c.arc_formats,"addToCartPopup")}var k=url_nonsecure+"/cart/add/"+j+"/"+b;k+=(h=="arc"&&e?"/"+e:(a?"/"+a:""));k+=(h?"/"+h:"");k+="/?popup=1";if(c.ss){k+="&ss="+c.ss}if(c.refresh_parent){k+="&refresh_parent=1"}if(website()=="junorecords"){NewWindow(k,800,760)}else{NewWindow(k,753,760)}return false}function set_window(){var c=$(window),e=$(document),a=$("body");window.resizeBy(0,((a.height()-c.height())||e.height()-c.height()))}function addToWishlist(a){if(a.title_id==undefined||a.product_id==undefined){return false}if(typeof a.arc_format_id=="undefined"&&typeof a.arc_formats!="undefined"){return select_arc_format(a.title_id,a.product_id,a.arc_formats,"addToWishlist")}if($(a.clicked_obj).attr("track_number")){a.track_number=$(a.clicked_obj).attr("track_number")}var b="/api/1.2/?method=wishlist.addProduct&output_type=html&title_id="+a.title_id+"&product_id="+a.product_id;b+=(typeof a.download_format!="undefined"&&a.download_format=="arc"&&typeof a.arc_format_id!="undefined"?"&arc_format_id="+a.arc_format_id:(typeof a.track_number!="undefined"?"&track_number="+a.track_number:""));b+=(typeof a.download_format!="undefined"?"&download_format="+a.download_format:"");b+=((typeof a.offer_alert!="undefined"&&a.offer_alert>0)?"&offer_alert="+a.offer_alert:"");b+=((typeof a.title!="undefined"&&a.title!="")?"&title="+urlencode(a.title):"");if(check_login(a.clicked_obj,"soft",false,{redir:b,callback:"login_callback"})){modal_dialog(b,"#wishlist_dialog_container",{height:196,request_type:"POST"})}return false}function removeFromWishlist(b){var a="/api/1.2/?method=wishlist.removeProduct&output_type=html&title_id="+b.title_id+"&product_id="+b.product_id;a+=(typeof b.download_format!="undefined"&&b.download_format=="arc"&&typeof b.arc_format_id!="undefined"?"&arc_format_id="+b.arc_format_id:(typeof b.track_number!="undefined"?"&track_number="+b.track_number:""));if(check_login(b.clicked_obj,"soft",false,{redir:a,callback:"login_callback"})){modal_dialog(a,"#wishlist_dialog_container",{height:196,request_type:"POST"})}return false}function addToChart(a){var b="/api/1.2/?method=chart.add&output_type=html";b+=(typeof a.title_id!="undefined"?"&title_id="+a.title_id+"&product_id="+a.product_id:"");b+=(typeof a.track_number!="undefined"?"&track_number="+a.track_number:"");b+=(typeof a.add_all_tracks!="undefined"?"&add_all_tracks=1":"");b+=(typeof a.add_shown_tracks!="undefined"?"&add_shown_tracks=1":"");b+=(typeof a.tracklist!="undefined"?a.tracklist:"");b+=(typeof a.forceadd!="undefined"?"&forceadd=1":"");if(check_login(a.clicked_obj,"soft",false,{redir:b,callback:"login_callback"})){modal_dialog(b,"#chart_dialog_container",{height:196,request_type:"POST"})}return false}function openBetterPriceDialog(f,e,b,d){if(typeof junoChat!="undefined"){junoChat.hideWindow()}var a="auto";var c=$("#better_price_pl_tmpl").data("width");modal_dialog(null,"#better_price_dialog_container",{height:a,width:c,open:function(g,h){$(".ui-dialog").css("position","fixed");var j=$("#better_price_pl_tmpl").html();$("#juno_dialog").append(j.render({title:escapeHTML(f),title_enc:urlencode(f),title_id:e,product_id:b}));if(d){setTimeout(function(){updateBetterPriceInfo()},0)}$("#juno_dialog").dialog("option","position",{my:"center",at:"center",of:window});set_dialog_dimensions({height:$("#juno_dialog .dialog_content").height(),width:c})}})}function updateBetterPriceInfo(){$.ajax({type:"GET",url:"/api/1.2/",data:{output_type:"json",method:"product.getBetterPriceData"},success:function(a){$("#call_btn_subtext").text(a.call_btn_subtext);$("#chat_btn_subtext").text(a.chat_btn_subtext);$("#email_btn_subtext").text(a.email_btn_subtext);$("#chat_btn_subtext").prop("is_office_hours",parseInt(a.is_office_hours))}})}function check_track_format_cookie(g,c,e,a){if(!$.cookie("track_sale_format")){var d="/api/1.2/?output_type=html&method=user.getPage&page=track_sale_format&callback="+escape(g);if(c instanceof Array){for(var f=0;f<c.length;f++){if(typeof c[f]=="object"){d+="&callback_options[]="+escape(JSON.stringify(c[f]))}else{d+="&callback_options[]="+escape(c[f])}}}if(typeof a!="undefined"){d+="&product_key="+a}var b="";if(typeof e!="undefined"){b="&refresh_parent=1"}modal_dialog(d+b,"#format_selector",{width:500,height:360});return false}return true}function select_arc_format(title_id,product_id,arc_formats,callback){var callback_name=callback;callback=eval(callback);if(arc_formats.length>0&&arc_formats.search("||")==-1){var arr=arc_formats.split("#");if(callback_name=="addToWishlist"){addToWishlist({title_id:title_id,product_id:product_id,arc_format_id:arr[0],download_format:"arc"})}else{callback(title_id,product_id,arr[0],"arc")}return false}var url="/api/1.2/?method=product.selectArcFormat&output_type=html&title_id="+title_id+"&product_id="+product_id+"&callback="+callback_name;if(arc_formats.length>0){url+="&arc_formats="+urlencode(arc_formats)}modal_dialog(url,null,{height:250},"#spf_dialog");return false}function MiniWindow(c,b){var a=250;var d=130;c=(c.search("http")==-1?url_nonsecure:"")+c;b=b||"JunoMiniWindow";window[b]=window.open(c,b,"height="+d+",width="+a+",scrollbars=1,resizable=1");window[b].focus();return false}function NewWindow(c,a,d,b){a=a||740;d=d||540;c=(c.search("http")==-1?url_nonsecure:"")+c;b=b||"JunoNewWindow";window[b]=window.open(c,b,"height="+d+",width="+a+",scrollbars=1,resizable=1");window[b].focus();return false}function EmptyCurrent(c,a){if(a==c){}else{if(document.getElementById(a)){var d=document.getElementById(a);var b=document.getElementById(c);b.removeChild(d)}else{return false}}}function go_to(b,a){if(a===true){document.location.replace(b)}else{document.location.href=b}}function close_and_go_to(b,a){if(a===true){window.open(b,"","toolbar=1,scrollbars=1,resizable=1,location=1,width=1024,height=768")}else{if(window.opener&&!window.opener.closed&&window.opener.name!="JunoMain"&&window.opener.name!=window.name){window.opener.close()}window.open(b,"JunoMain")}window.close()}function close_dialog_and_go_to(b,a){close_dialog();if(a===true&&window.name!="JunoMain"){window.open(b,"","toolbar=1,scrollbars=1,resizable=1,location=1,width=1024,height=768")}else{window.location.href=b}}function website(){var b="";var a="'"+window.location+"'";if(a.indexOf("junodownload")>=0){b="junodownload"}else{b="junorecords"}return b}function cb_submit(c){var b=false;var a="/cart/addwishlist/?popup=1";$(".checkbox-item:checked").each(function(e){var f=/item\[(.+)\]$/;f.exec(this.name);var h=RegExp.$1;var g=$("#buy_"+h+" option:selected").val();if(g){h+="-"+g}b=true;a+="&item["+h+"]=1"});if(b){var d=$(c).val();$("#cb_dropdown").attr("value",d);if(d=="wl_remove"){$('form[name="wishlist_form"]')[0].submit();return false}else{if(d=="cart_add"||d=="cart_move"){c.blur();$('form[name="wishlist_form"]')[0].reset();a+="&cb_dropdown="+d;if(d=="cart_move"){a+="&refresh_parent=1"}if(window.location.hostname.search("junodownload.com$")>-1&&!check_track_format_cookie("NewWindow('"+a+"', 790, 150)")){return false}NewWindow(a,790,150);return false}}}if(!b){alert("No items were selected!")}else{if(d=="-"){alert("No option was selected!")}}window.focus();$('form[name="wishlist_form"]')[0].reset();return false}function cb_set(b){var a;if($(b).hasClass("checkbox-item")){if(b.checked==false){$(".checkbox-all").prop("checked",false)}if(b.checked==true&&$(".checkbox-item:checked").length==$(".checkbox-item").length){$(".checkbox-all").prop("checked",b.checked)}return}if($(b).hasClass("checkbox-all")){if(b.checked==true){$(".checkbox-item, .checkbox-all").prop("checked",true)}else{$(".checkbox-item, .checkbox-all").prop("checked",false)}}}function drop_down_hide_delay(a){window.clearTimeout(showddID);timeoutID=window.setTimeout("drop_down_hide('"+a+"')",500)}function drop_down_hide(a){$("#"+a).hide(0)}function drop_down_show(a){if(currentmenu==a){window.clearTimeout(timeoutID)}showddID=window.setTimeout("do_drop_down_show('"+a+"')",300)}function do_drop_down_show(a){window.clearTimeout(timeoutID);window.clearTimeout(showddID);currentmenu=a;$("#"+a).show(0)}var global_nav_timeout=300;function drop_down_hide_delay_nav(){window.clearTimeout(showddID);window.clearTimeout(timeoutID);timeoutID=window.setTimeout("drop_down_hide_nav()",500)}function drop_down_hide_nav(){$(".navigation_sprite").removeClass("active");$(".dropdown_genre").hide(0);$("#navigation_"+currentoption).addClass("active");global_nav_timeout=300}function drop_down_show_nav(a){window.clearTimeout(showddID);window.clearTimeout(timeoutID);showddID=window.setTimeout("do_drop_down_show_nav('"+a+"')",global_nav_timeout)}function do_drop_down_show_nav(a){$(".navigation_sprite").removeClass("active");$("#navigation_"+a).addClass("active");$(".dropdown_genre").hide(0);$("#span_"+a).show(0);global_nav_timeout=0}function textarea_maxsize(b,a){if(b.value.length>a){b.value=b.value.substring(0,a)}return true}function digital_release_mask(a){var c=false;if(a.checked){c=true}var b=/item\[(.+)\]$/;b.exec(a.name);var d="track-of-"+RegExp.$1;$("."+d).prop("disabled",c)}function digital_release_add(d){var a="";$("input[type=checkbox]:checked:enabled").each(function(){a+="&"+this.name+"="+this.value});if(a){if(website()=="junodownload"&&!$.cookie("track_sale_format")){var c=$("input[type=checkbox]:checked:enabled").last().attr("name");var e=/item\[.+(mp3_192|mp3_320|wav|flac|aiff|alac)\]/;var f="";if(e.exec(c)){f=RegExp.$1}if(f){$.cookie("track_sale_format",f,{expires:75,path:"/"})}}var b=d+"?popup=1"+a;NewWindow(b)}else{alert("You must select at least one item to add to your cart")}}function fedex_verify(){var a=document.getElementById("STATECOUNTY").value;if((a=="FPO")||(a=="APO")){document.getElementById("FedEx").value=0;document.getElementById("FedEx").disabled=true}else{if(a=="---"){alert("Please choose a state");document.getElementById("STATECOUNTY").value=""}else{document.getElementById("FedEx").disabled=false}}return true}function cb_force_select(e,d){var c=document.getElementById(e);var a=document.getElementById(d);var b=c.form;if(c.type=="checkbox"&&!c.checked){a.checked=true}if(e=="searchfor_music"&&!c.checked){c.form.s_music_product_type[0].disabled=true;c.form.s_music_product_type[1].disabled=true;c.form.s_music_product_type[2].disabled=true;if(c.form.s_music_product_type[3]!=undefined){c.form.s_music_product_type[3].disabled=true}if(c.form.s_music_product_type[4]!=undefined){c.form.s_music_product_type[4].disabled=true}if(b.s_media_type){b.s_media_type.disabled=true}document.getElementById("search_item_hint").style.display="block";if(b.s_media_type){document.getElementById("media_type_hint").style.display="block"}}else{c.form.s_music_product_type[0].disabled=false;c.form.s_music_product_type[1].disabled=false;c.form.s_music_product_type[2].disabled=false;if(c.form.s_music_product_type[3]!=undefined){c.form.s_music_product_type[3].disabled=false}if(c.form.s_music_product_type[4]!=undefined){c.form.s_music_product_type[4].disabled=false}if(b.s_media_type){b.s_media_type.disabled=false}document.getElementById("search_item_hint").style.display="none";if(b.s_media_type){document.getElementById("media_type_hint").style.display="none"}}if(e=="searchfor_merchandise"&&!c.checked){b.s_merchandise_id.disabled=true;document.getElementById("merch_cat_hint").style.display="block"}else{b.s_merchandise_id.disabled=false;document.getElementById("merch_cat_hint").style.display="none"}}function checkExpressInstall(){var a=deconcept.SWFObjectUtil.getPlayerVersion();return((a.major==6&&a.rev>=65)||(a.major>6))}function enable_affiliate_chart_player(){var a="chart_player_textarea";var b=$("#"+a).val();var c=escape($("#affiliate_chart_player").val());b=b.replace(/&ref=[^"]*/g,"&ref="+c).replace(/&afcode=[^"]*/g,"&afcode="+c);$("#"+a).val(b)}function enable_auto_play_chart_player(){var a="chart_player_textarea";var b=$("#"+a).val();if($("#auto_play_chart_player:checked").val()=="on"){b=b.replace(/start_playing=0/g,"start_playing=1").replace(/play_now=false/g,"play_now=true")}else{b=b.replace(/start_playing=1/g,"start_playing=0").replace(/play_now=true/g,"play_now=false")}$("#"+a).val(b)}function show_pl_context_menu(c,b){var a=$(c.target).offset();$(".pl_context_menu").hide();productContextOptions=b;cursor=getPosition(c);$(document).mousemove(function(d){_cursor=getPosition(d);if((_cursor.x<(cursor.x-7))||(_cursor.x>(cursor.x+parseInt($("#"+b.div_id).css("width").replace("px",""))+22))||(_cursor.y<(cursor.y-7))||(_cursor.y>(cursor.y+parseInt($("#"+b.div_id).css("height").replace("px",""))+7))){$("#"+b.div_id).hide()}});$("#"+b.div_id).css("top",a.top+12);$("#"+b.div_id).css("left",a.left+12);if(b[3]===false){$("#"+b.div_id+" #addtowl").hide()}else{$("#"+b.div_id+" #addtowl").show()}$("#"+b.div_id).fadeIn(200);is_merchandise=$(c.target).attr("ptype");if(is_merchandise=="merchandise"){$("#pl_release_cm #qb_addtochart").hide()}else{$("#pl_release_cm #qb_addtochart").show()}}function getPosition(a){a=a||window.event;var b={x:0,y:0};if(a.pageX||a.pageY){b.x=a.pageX;b.y=a.pageY}else{b.x=a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)-document.documentElement.clientLeft;b.y=a.clientY+(document.documentElement.scrollTop||document.body.scrollTop)-document.documentElement.clientTop}return b}function pl_addToUser(c,b){var a={clicked_obj:b};if(c=="wishlist"){var a={clicked_obj:b};addToWishlist(merge_options(a,productContextOptions))}else{if(c=="rwishlist"){var a={clicked_obj:b};removeFromWishlist(merge_options(a,productContextOptions))}else{if(c=="all_tracks"){a.add_all_tracks=true;addToChart(merge_options(a,productContextOptions))}else{if(c=="shown_tracks"){a.add_shown_tracks=true;addToChart(merge_options(a,productContextOptions))}else{if(c=="chart"){addToChart(merge_options(a,productContextOptions))}}}}}productContextOptions=null;$(".pl_context_menu").hide()}function show_genre_tracks_help(a){cursor=getPosition(a);$("#show_genre_tracks_help").css("top",cursor.y);$("#show_genre_tracks_help").css("left",(cursor.x-parseInt($("#show_genre_tracks_help").css("width").replace("px",""))-20));$("#show_genre_tracks_help").show()}function hide_genre_tracks_help(){$("#show_genre_tracks_help").hide()}function show_default_file_type_help(a){cursor=getPosition(a);$("#show_default_file_type_help").css("top",cursor.y);$("#show_default_file_type_help").css("left",(cursor.x-parseInt($("#show_default_file_type_help").css("width").replace("px",""))-20));$("#show_default_file_type_help").show()}function hide_default_file_type_help(){$("#show_default_file_type_help").hide()}function publish_chart_cb(){tb_remove();setConfirmUnload(false);$("#chart_details_form").submit()}function redeem_voucher_cb(_data){var data=eval("("+_data+")");var _url=data.redir;var reload_str="";if(window.name!="JunoMain"){reload_open_windows()}else{reload_str="window.location.href='/';"}if(JUNO_API.User.is_secure_url(document.location.href)&&!JUNO_API.User.is_secure_url(_url)){_url=_url.replace(url_secure,url_nonsecure)}else{if(JUNO_API.User.is_secure_url(_url)){_url=_url.replace(url_secure,url_nonsecure)}}$.ajax({type:"GET",url:_url+"&noheader=1",data:"",dataType:"html",error:function(XHR,textStatus,errorThrown){return false},complete:"",success:function(data){data=data.replace("window.close();",reload_str+"close_dialog();");$("#juno_dialog").html(data);return false}})}function getPlayer(){if(navigator.appName.indexOf("Microsoft")!=-1){player=window.junoplayer}else{player=document.junoplayer}if(typeof(player)=="undefined"){return}if(player.length>1){player=player[0]}return player}function playPlayer(){player=getPlayer();if(player){player.playTrack()}}function pausePlayer(){player=getPlayer();if(player){player.pause()}}function doAddItemToPlayer(b,c,a){player=getPlayer();if(player){player.addProduct(hash,product_key,c,a)}}function junoCompatBrowser(){var c=/safari/.test(navigator.userAgent.toLowerCase())&&!/chrome/.test(navigator.userAgent.toLowerCase());if(c){var b=navigator.userAgent.toLowerCase().split(" ");for(var a in b){if(b[a].substr(0,7)=="version"){_tmp=b[a].split("/");version=_tmp[1];if(parseFloat(version)>=4){return true}return false}}}return true}var current_sale_img=0;var current_add_img=0;var GAAlt="";function show_next_banner(){if(typeof(aSaleImg)=="undefined"){return}max_sale_img=aSaleImg.length;if(max_sale_img==0){return}if(aSaleImg[current_sale_img].alt==""||aSaleImg[current_sale_img].alt=="disabled"){current_sale_img++;if(current_sale_img==max_sale_img){current_sale_img=0}show_next_banner();return}$("#sale_img").css("background-image",(empty(aSaleImg[current_sale_img].bg))?"none":"url("+aSaleImg[current_sale_img].bg+")");if(aSaleImg[current_sale_img].href==""){$(".sale_img_anchor").removeAttr("href");$(".sale_img_anchor").removeAttr("onClick")}else{$(".sale_img_anchor").attr("href",aSaleImg[current_sale_img].href);$(".sale_img_anchor").attr("onClick","javascript:callGAEvent();")}$(".sale_img_image").attr("src",aSaleImg[current_sale_img].src);$(".sale_img_image").attr("alt",aSaleImg[current_sale_img].alt);GAAlt=aSaleImg[current_sale_img].alt;if(max_sale_img==1){return}current_sale_img++;if(current_sale_img==max_sale_img){current_sale_img=0}setTimeout(show_next_banner,15000)}function show_next_advert(){if(typeof(aAddImg)=="undefined"){return}max_add_img=aAddImg.length;if(max_add_img==0){return}$("#irs_advert_random_first_anchor").attr("href",aAddImg[current_add_img][0]);$("#irs_advert_random_first_img").attr("src",aAddImg[current_add_img][2]);$("#irs_advert_random_first_img").attr("alt",aAddImg[current_add_img][1]);JRGAEvent=aAddImg[current_add_img][1];current_add_img++;if(current_add_img==max_add_img){current_add_img=0}setTimeout(show_next_advert,10000)}function callGAEvent(){if(GAAlt==""){return}ga("send","event","Ads","Click","NAV - "+((ua_page=="homepage")?"HOME - ":"")+GAAlt)}function reload_open_windows(){if(window.opener){if(parent.parent){parent.opener.location.reload()}else{parent.location.replace(parent.location.href)}}}function display_options(a){window.clearTimeout(hdl_options_hide);display_options_delay(a)}function display_options_delay(a){var b=["view_options","sort_options","playlist_options"];for(i=0;i<b.length;i++){if($("#"+b[i]).is("*")){if(a!=b[i]){$("#"+b[i]).hide(0)}else{$("#"+b[i]).show(0)}}}}function hide_options(a){window.clearTimeout(hdl_options_show);window.clearTimeout(hdl_options_hide);hdl_options_hide=window.setTimeout("hide_options_delay('"+a+"')",500)}function hide_options_delay(a){var b=["view_options","sort_options","playlist_options"];for(i=0;i<b.length;i++){if($("#"+b[i]).is("*")){$("#"+b[i]).hide(0)}}}function setActiveOption(o,atr,link,single_select,current,val){ga("send","event","options","change "+current,eval(current+"_from")+" to "+val);var td=o.parentNode.getElementsByTagName("td");for(var i in td){if(td[i].className=="selected_options"&&(td[i].getAttribute("cattr")==atr||single_select)){td[i].className="noselected_options"}}o.cells[0].className="selected_options";document.location.href=link}ads_displayed=false;ads_eventsent=false;tab_display=function(){$(".vt_arrow").click(function(){var tab=$(this).parents(".vt");if(tab.attr("rel")==""){return}var state=tab.attr("rel");tab.attr("rel","");var img=$(this);tab.stop().animate({left:((state=="close")?"470px":"0px")},500,"swing",function(){tab.attr("rel",((state=="open")?"close":"open"));tab.find(".vt_arrow_right").toggleClass("vt_arrow_left");img.css("cursor",((state=="open")?"e-resize":"w-resize"))});if(state=="close"){tab.hover(function(){eval("clearTimeout("+tab.attr("id")+");")},function(){eval(tab.attr("id")+" = setTimeout(function(){img.click();}, 500);")})}else{tab.unbind("mouseenter mouseleave")}})};function extractParamFromUri(b,e){if(!b){return}var d=b.split("?");if(d.length==1){var d=b.split("#")}if(d.length==1){return}var c=decodeURI(d[1]);e+="=";var g=c.split("&");for(var a=0,f;f=g[a];++a){if(f.indexOf(e)===0){return unescape(f.split("=")[1])}}}function urldecode(a){return decodeURIComponent((a+"").replace(/\+/g,"%20"))}function urlencode(a){return encodeURIComponent(a+"")}function add_overlay(d,e,f){if(typeof f=="undefined"||f==null){f="fast"}if(typeof e=="undefined"||e==null){e=""}if($(d).css("position")=="static"){$(d).css("position","relative")}if($(d+" .overlay").length>0){$(d+" .overlay").remove()}var a="";if(!e||e!="none"){if(typeof static_server=="undefined"){static_server=""}var b="";if(website()=="junodownload"){b=static_server+"/images/digital/"}else{b=static_server+"/images/"}if(!e){e="ajax-loader.gif"}a=$('<img class="ai" style="position:absolute;z-index:9999;" src="'+b+e+'"/>')}var c=$('<div class="overlay '+(f=="none"?"":"transparent")+'"><!-- --></div>');$(d).prepend(c);if(f!="none"){$(d+" .overlay").stop().fadeTo(f,0.7,function(){if(a){$(d).prepend(a);setTimeout(function(){$(a).css("left",parseInt(($(c).outerWidth()-$(a).outerWidth())/2));$(a).css("top",get_ai_top(d)-parseInt($(a).outerHeight()/2))},0);$(d+" .ai").removeClass("transparent")}})}else{if(a){$(d).prepend(a);setTimeout(function(){$(a).css("left",parseInt(($(c).outerWidth()-$(a).outerWidth())/2));$(a).css("top",get_ai_top(d)-parseInt($(a).outerHeight()/2))},0);$(d+" .ai").removeClass("transparent")}}}function get_ai_top(c){var k=$(c);var h=$(document).scrollTop();var d=$(window).height();var f=k.offset().top;var b=f-h;var j=k.height()+f;var g=j-h;var a=Math.min(d,g)-Math.max(0,b);var e=parseInt(a/2)+(f<h?(h-f):0);return e}function remove_overlay(a,b,c){if(typeof b=="undefined"||b==null){b="fast"}if(typeof a!="undefined"&&a!=""){if(b&&b!="none"){$(a+" .ai, "+a+" .overlay").stop().fadeOut(b,function(){$(a+" .ai, "+a+" .overlay").remove();if(typeof c=="function"){c()}})}else{$(a+" .ai, "+a+" .overlay").remove();if(typeof c=="function"){c()}}}else{if(b&&b!="none"){$(".ai, .overlay").stop().fadeOut("fast",function(){$(".ai, .overlay").remove();if(typeof c=="function"){c()}})}else{$(".ai, .overlay").remove();if(typeof c=="function"){c()}}}}function number_format(e,o,p,d){if(!o){o=0}if(!p){p="."}if(typeof d=="undefined"){d=","}var b="";var k=e.toString().split(".");var c="";if(k.length==2){c=k[1]}if(k.length>2){alert(e+" is not a valid number!");return"NaN"}var n=k[0].split("");var a=0;var l=Array();for(var h=n.length-1;h>=0;h--){if(n[h]=="-"){b="-";continue}l.unshift(n[h]);a++;if(a==3&&h>0&&n[h-1]!="-"){l.unshift(d);a=0}}var g=l.join("");if(c.length>0&&o<c.length){c=("0."+c)*1;c=c.toFixed(o);g=g+p+c.substring(2)}else{if(o>=c.length){var m=o-c.length;for(var f=0;f<m;f++){c+="0"}g=g+p+c}}return b+g}function round(a,b){if(typeof b==="undefined"||+b===0){return Math.round(a)}a=+a;b=+b;if(isNaN(a)||!(typeof b==="number"&&b%1===0)){return NaN}a=a.toString().split("e");a=Math.round(+(a[0]+"e"+(a[1]?(+a[1]+b):b)));a=a.toString().split("e");return +(a[0]+"e"+(a[1]?(+a[1]-b):-b))}function email_alert_signup_box(e,b,a,d){if($("#TB_window").length||$("#juno_dialog").length){setTimeout(function(){email_alert_signup_box(e,b,a,d)},2000);return}var c="/api/1.2/?method=alerts.signupbox&output_type=html&title="+urlencode(e)+"&product_key="+urlencode(b)+"&artist="+urlencode(a)+"&label="+urlencode(d);modal_dialog(c,"#alert-dialog-container",{width:500})}function email_alert_signup_go(){if(!$(".checkbox-container input:checked").length){close_dialog();return}var b="method=alerts.signupgo&output_type=html";$(".checkbox-container input:checked").each(function(){if($(this).attr("name")=="email_alerts[4]"){ga("send","event","email_alert_forthcoming_lightbox","alert_sign_up","alert_sign_up_new_release")}else{if($(this).attr("name")=="email_alerts[2]"){ga("send","event","email_alert_forthcoming_lightbox","alert_sign_up","alert_sign_up_artist")}else{if($(this).attr("name")=="email_alerts[3]"){ga("send","event","email_alert_forthcoming_lightbox","alert_sign_up","alert_sign_up_label")}}}b+="&"+$(this).attr("name")+"="+urlencode($(this).val())});var a="/api/1.2/?"+b;if(check_login(null,"soft",false,{callback:"login_callback",redir:a+"&refresh=1"})){modal_dialog(a,"#alert-dialog-container",{height:"196",request_type:"POST"})}}function feat_genre_signup(c,d){if(typeof d=="undefined"){d=2}var b="method=alerts.signupfeatgenre";b+="&genre_url="+urlencode(c)+"&type_id="+d;if(ua_page){ga("send","event","email featured signup "+c,ua_page,"widget_html")}var a="/api/1.2/?"+b;if(check_login(null,"soft",false,{callback:"login_callback",redir:a+"&refresh=1"})){modal_dialog(a,"#alert-dialog-container",{height:"196",request_type:"POST"})}}function email_alert_signup_optout(){var a="method=alerts.msgoptout&output_type=json";ga("send","event","email_alert_forthcoming_lightbox","close_lightbox","close_lightbox_permenantly_deactivate_messages");add_overlay("#juno_dialog");$.ajax({type:"POST",url:"/api/1.2/",data:a,success:function(){close_dialog()},error:function(b){if(typeof console!="undefined"){console.log(b)}}})}function ctct_supp_onsub(a){$("input[type=hidden][name=nc]",a).val($("#email2",a).val())}function getUrlVars(b){if(typeof b=="undefined"){b=window.location.href}var e={},d;var a;if(b.indexOf("#")!=-1){a=b.slice(b.indexOf("?")+1,b.indexOf("#")).split("&")}else{a=b.slice(b.indexOf("?")+1).split("&")}for(var c=0;c<a.length;c++){d=a[c].split("=");e[d[0]]=d[1]}return e}function dcAdd(b,f,e){var d="";if(typeof(b)=="object"&&(b instanceof Array)){for(var c=0,a=b.length;c<a;c++){d+="&item["+b[c]+"]=1"}}else{d+="&item["+b+"]=1"}dcRequest("action=add"+d,f,e)}function dcAddChart(b,c,a){dcRequest("action=addchart&chart_id="+b,c,a)}function dcChangeFormat(a,d,c,b){dcRequest("action=change_format&item["+a+"]="+d,c,b)}function dcAddQuantity(a,c,b){dcRequest("action=add&item["+a+"]=1&increase_quantity=1",c,b)}function dcRemove(a,c,b){dcRequest("action=remove&item["+a+"]=1",c,b)}function dcRequest(a,c,b){$.ajax({type:"POST",url:"/api/1.2/",data:"method=cart.controller&output_type=json&"+a,success:c,error:b})}var tdata;function onSuccessTest(a){tdata=a;console.log(a)}function onErrorTest(a,c,b){console.log(a);console.log(c);console.log(b)}var dc_ai='<img width="90" height="10" style="margin-left: 5px;position:relative;top:2px;" src="'+static_server+'/images/loading.gif" />';function dc_hide_notice(b){var a=$("#"+b).parent();$("#"+b).slideUp("normal",function(){$(this).remove();if($(a).children().length==0){$(a).slideUp("normal",function(){$(this).remove()})}});if($(a).length==1){$(a).children(":first").find("hr").slideUp()}}function dc_action(b,c,a){$(".info-item").slideUp();$.ajax({type:"POST",url:"/api/1.2/",data:"method=cart.controller&output_type=json&message_format=json&"+b,beforeSend:function(){if(typeof c!="undefined"){$("#"+c).fadeOut("fast",function(){$(this).html(dc_ai).fadeIn("fast")})}},success:function(d){dc_process_response(d,a)},error:function(d,f,e){$("#"+c).fadeOut("normal",function(){$(this).html("ERROR: "+e).fadeIn("normal")})}})}function dc_process_response(c,a){if(typeof c.info.details!="undefined"){for(var b=0;b<c.info.details.length;b++){if(b==0){dc_display_message("cart-info-messages","info-"+c.info.details[b].url_key,c.info.details[b].message)}else{var d=c.info.details.length-1;if(b==1){dc_display_message("cart-info-messages","cart-info-more-msg",'<div class="info-item cart-more-msg" id="cart-info-more-msg"><span class="info-text"><a href="#" onclick="$(\'.info-item:hidden\').slideDown();$(\'#cart-info-more-msg\').slideUp();return false;">Click here to view '+d+" more message(s)</a></span></div>")}dc_display_message("cart-info-messages","info-"+c.info.details[b].url_key,c.info.details[b].message,true)}if(a!="info-"+c.info.details[b].url_key){dc_hide_notice(a)}if(c.info.details[b].removed){dc_hide_notice("warning-"+c.info.details[b].url_key);dc_hide_notice("error-"+c.info.details[b].url_key)}}}if(typeof c.warnings.details!="undefined"){for(var b=0;b<c.warnings.details.length;b++){if(b==0){dc_display_message("cart-warnings","warning-"+c.warnings.details[b].url_key,c.warnings.details[b].message)}else{var d=c.warnings.details.length-1;if(b==1){dc_display_message("cart-warning-messages","cart-warning-more-msg",'<div class="warning-item cart-more-msg" id="cart-warning-more-msg"><span class="warning-text"><a href="#" onclick="$(\'.warning-item:hidden\').slideDown();$(\'#cart-warning-more-msg\').slideUp();return false;">Click here to view '+d+" more message(s)</a></span></div>")}dc_display_message("cart-warnings","warning-"+c.warnings.details[b].url_key,c.warnings.details[b].message,true)}if(a!="warning-"+c.warnings.details[b].url_key){dc_hide_notice(a)}}}if(typeof c.errors.details!="undefined"){for(var b=0;b<c.errors.details.length;b++){if(b==0){dc_display_message("cart-errors","error-"+c.errors.details[b].url_key,c.errors.details[b].message)}else{var d=c.errors.details.length-1;if(b==1){dc_display_message("cart-error-messages","cart-error-more-msg",'<div class="error-item cart-more-msg" id="cart-error-more-msg"><span class="error-text"><a href="#" onclick="$(\'.error-item:hidden\').slideDown();$(\'#cart-error-more-msg\').slideUp();return false;">Click here to view '+d+" more message(s)</a></span></div>")}dc_display_message("cart-errors","error-"+c.errors.details[b].url_key,c.errors.details[b].message,true)}if(a!="error-"+c.errors.details[b].url_key){dc_hide_notice(a)}}}if(typeof c.item_count!="undefined"){$("#item-count").slideUp("fast",function(){$(this).html(c.item_count_text);$(this).slideDown("fast")})}}function dc_display_message(d,e,a,c){var b="messages-container";if(d=="cart-info-messages"){b="info-messages-container"}if($("#"+e).length>0){$("#"+e).fadeOut("normal",function(){$(this).replaceWith(a);$("#"+e+":last-child > hr").hide();$("#"+e).fadeIn("normal")})}else{if(!$("#"+d).length){$("#"+b).append('<div style="display:none" id="'+d+'"></div>')}$("#"+d).fadeIn("normal",function(){$(this).append(a);$("#"+e+":last-child > hr").hide();if(!c){$("#"+e).slideDown("normal")}})}$("#"+d).children(":nth-child("+($("#"+d).children().length-1)+")").find("hr").slideDown()}function dump(a,g){var f="";if(!g){g=0}var e="";for(var b=0;b<g+1;b++){e+="    "}if(typeof(a)=="object"){for(var c in a){var d=a[c];if(typeof(d)=="object"){f+=e+"'"+c+"' ...\n";f+=dump(d,g+1)}else{f+=e+"'"+c+"' => \""+d+'"\n'}}}else{f="===>"+a+"<===("+typeof(a)+")"}return f}var OdOptionsBefore;var OdURL;function OdHandleClicks(){$("#top_rhs_option_options").bind("click",function(){$("#dialog-options").dialog({width:630,height:"auto",modal:true,autoOpen:true,draggable:false,resizable:false,show:"fade",hide:"fade",title:"",close:OdRestoreForm});$(".ui-widget-overlay").on("click",function(){$("#OptionsBtnCancel").trigger("click")})});$("#OptionsBtnCancel").on("click",function(){$("#dialog-options").dialog("close")});$("#OptionsBtnSave").on("click",function(){add_overlay("#dialog-options");var b=OdGetObjectDiff(OdOptionsBefore,OdGetOptions());if($.isEmptyObject(b)){remove_overlay("#dialog-options");$("#dialog-options").dialog("close")}else{for(var a in b){ga("send","event","options","change "+a,OdOptionsBefore[a]+" TO "+b[a])}$.ajax({type:"POST",url:"/ajax_pref.php",data:b,complete:function(){window.location.href=OdURL}})}})}function OdGetOptions(){var a=new Object();$("#dialog-options select").each(function(){a[$(this).attr("id")]=$(this).val()});$('#dialog-options input[type="checkbox"]').each(function(){a[$(this).attr("id")]=$(this).is(":checked")?1:0});return a}function OdGetObjectDiff(b,d){var c=new Object();for(var a in b){if(b[a]!==d[a]){c[a]=d[a]}}return c}function OdGetCleanUrl(b){var a=location.protocol+"//"+location.host+location.pathname;var d=location.search.substring(1);if(!empty(d)){a+="?"}var g="&";var e=d.split(g);for(var c=0;c<e.length;c++){var f=e[c].split("=");if(typeof b[f[0]]=="undefined"){a+=e[c]+g}}return a.substring(0,a.length-1)}function OdRestoreForm(){$("#dialog-options select").each(function(){$(this).val(OdOptionsBefore[$(this).attr("id")])});$('#dialog-options input[type="checkbox"]').each(function(){if(OdOptionsBefore[$(this).attr("id")]==1){this.checked=true}else{this.checked=false}})}function start_djd_merge(){var a="/api/1.2/?output_type=html&method=user.getFramePage&page=djd_merge";a+="&is_parent_secure="+(document.location.href.substr(0,5)=="https"?1:0);modal_dialog(a,"#djd_merge_container",{width:750,height:491})}addVisited=function(b){try{if(window.history.replaceState){var a=window.location.href;window.history.replaceState(null,null,b);window.history.replaceState(null,null,a)}}catch(c){}};var p4l=new Object();p4l.DD_OFFSET_TOP=10;p4l.currencySymbol="&pound;";p4l.Init=function(){$(".p4l_listing, .p4l_product, .p4l_cart").on("click",function(a){a.stopPropagation();uaAddEvent(a);p4l.Update($(this))});$("#p4l_details_listing select").mouseleave(function(a){a.stopPropagation()});$("#cb_accept_tc").on("click",function(){$(".ajax-error").slideUp()});$("#btn_p4l_apply").on("click",function(){$(".ajax-error").slideUp();if($("#cb_accept_tc").prop("checked")!=true){$("#p4l_tc_error").slideDown()}else{add_overlay("#dialog-p4l-apply");p4l.StartApplication()}});$("#btn_p4l_cancel").on("click",function(){$("#dialog-p4l-apply").dialog("close");if($.cookie(loginSoftCookie)&&$("#btn_new_customer").length>0){document.location.reload()}});$(".ui-widget-overlay").on("click",function(){$("#btn_p4l_cancel").trigger("click")});$("#p4l_add_to_cart").on("click",function(){var a=$(this).attr("href");$.post("/api/1.2/?method=user.setpaymenttype","payment_type=pay4later",function(){document.location.href=a});return false})};p4l.InitSublimit=function(){$(".p4l_product").on("click",function(a){uaAddEvent(a);$(".p4l_details_product").slideToggle()})};p4l.ShowDialog=function(){if($("#juno_dialog").dialog("isOpen")){$("#juno_dialog").dialog("close")}$("#p4l_subtotal").html($("#subtotal_val").html());$("#p4l_shipping").html($("#shipping_val").html());$("#p4l_shipping_discount").html($("#shipping_discount_val").html());$("#p4l_grand_total").html($("#grand_total_val").html());p4l.Update($(".p4l_cart"));$("#dialog-p4l-apply").dialog({width:750,height:"auto",modal:true,autoOpen:true,draggable:false,resizable:false,show:"fade",hide:"fade",title:""})};p4l.Update=function(c){if(!empty(c)){p4l.itemsValue=$(c).attr("data-items-value");var a=JSON.parse($(c).attr("data-deposit-options"));$("#p4l_dd_deposit").children().remove();$(a).each(function(e,f){$(document.createElement("option")).attr("value",f).html(f+"%").appendTo("#p4l_dd_deposit")});var b=$(c).attr("data-selected-product");if(!empty(b)){$('#p4l_dd_product option[value="'+b+'"]').attr("selected","selected")}else{$("#p4l_dd_product option:last").attr("selected","selected")}var d=$(c).attr("data-selected-deposit");if(!empty(d)){$('#p4l_dd_deposit option[value="'+d+'"]').attr("selected","selected")}else{$("#p4l_dd_deposit option:last").attr("selected","selected")}if($(c).hasClass("p4l_listing")){$("#p4l_details_listing").dialog({width:350,height:"auto",modal:false,autoOpen:false,draggable:false,resizable:false,title:"",position:{my:"right top",at:"right bottom+5",of:$(c)}});if($("#p4l_details_listing").dialog("isOpen")){$("#p4l_details_listing").dialog("close")}else{$("#p4l_details_listing").dialog("open");$(document).click(function(e){if(!$(e.target).closest($("#p4l_details_listing")).length){$("#p4l_details_listing").dialog("close")}})}}if($(c).hasClass("p4l_product")){$(".p4l_details_product").slideToggle()}$this=$(c);$("#p4l_dd_product").change(function(){$($this).attr("data-selected-product",$(this).val());p4l.Recalculate()});$("#p4l_dd_deposit").change(function(){$($this).attr("data-selected-deposit",$(this).val());p4l.Recalculate()});p4l.Recalculate();$("#p4l_add_to_cart").attr("href","/cart/add/"+$(c).attr("data-url-key"))}};p4l.Recalculate=function(){p4l.product=$("#p4l_dd_product").val();p4l.deposit=parseFloat($("#p4l_dd_deposit").val());p4l.details=new FinanceDetails(p4l.product,p4l.itemsValue,p4l.deposit);$("#p4l_m_inst").html(p4l.currencySymbol+p4l.details.m_inst);$("#p4l_goods_val").html(p4l.currencySymbol+p4l.details.goods_val);$("#p4l_d_amount").html(p4l.currencySymbol+p4l.details.d_amount);$("#p4l_l_amount").html(p4l.currencySymbol+p4l.details.l_amount);$("#p4l_l_repay").html(p4l.currencySymbol+p4l.details.l_repay);$("#p4l_l_cost").html(p4l.currencySymbol+p4l.details.l_cost);$("#p4l_total").html(p4l.currencySymbol+p4l.details.total);$("#p4l_term").html(p4l.details.term)};p4l.StartApplication=function(){var a="finance_product="+p4l.product+"&deposit="+p4l.deposit+"&delivery_service="+$("input[name=delivery_service]").val();$.ajax({type:"POST",url:"/api/1.2/?output_type=json&method=user.getP4LRedirectUrl",data:a,success:function(b){if(b.status=="NOT_LOGGED_IN"){alert(b.error);check_login(null,"strict",false,{callback:"p4l.StartApplication"})}else{if(b.status=="FAIL_REFRESH"){alert(b.error);document.location.reload()}else{if(typeof b.redirect_url!="undefined"){document.location.href=b.redirect_url}}}},error:function(b){if(typeof console!="undefined"){console.log(b)}}})};function empty(a){if((typeof a==="undefined")||(a==null)||(a==="")||(a===false)){return true}else{return false}}function mobileAndTabletCheck(){var a=false;(function(b){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))){a=true}})(navigator.userAgent||navigator.vendor||window.opera);return a}function login_callback(_data){var data=eval("("+_data+")");var _url=null;var refresh="0";if(window.name!="JunoMain"){reload_open_windows()}else{refresh="1"}if(JUNO_API.User.is_secure_url(document.location.href)){if(JUNO_API.User.is_secure_url(data.redir)){_url=data.redir}else{_url=data.redir.replace(url_secure,url_nonsecure)}}else{if(JUNO_API.User.is_secure_url(data.redir)){_url=data.redir.replace(url_secure,url_nonsecure)}else{_url=data.redir}}$.ajax({type:"POST",url:_url.split("?")[0],data:urldecode($.param(getUrlVars(_url)))+"&refresh="+refresh,dataType:"html",complete:"",success:function(data){$("#juno_dialog").html(data);stop_dialog_cookie_listener();return false},error:function(XHR,textStatus,errorThrown){return false},})}function remove_alert(a,d,c,e,b){$.ajax({type:"POST",url:"/api/1.2/?method=alerts.remove&output_type=json",data:"alert_type="+a+"&param1="+d+(c?"&param2="+c:""),success:function(f){if(typeof e=="function"){e()}},error:function(f){if(typeof b=="function"){b(f)}else{if(typeof console!="undefined"){console.log(f)}}}})}function merge_options(d,c){var b={};for(var a in d){b[a]=d[a]}for(var a in c){b[a]=c[a]}return b}function DeliveryTimer(){var m=null;var n=null;var f=null;var e=null;var b=null;var d=0;var l=null;var g=null;var k=null;this.initialize=function(){a()};function a(){$.ajax({url:"/api/1.2/widget/getdeliveryinfo?output_type=json",success:function(o){n=new Date(o[0].until*1000);f=new Date(o[0].deliver*1000);b=o[0].service;var p=new Date(o[0].base*1000);d=p.getTime()-(new Date).getTime();clearTimeout(m);delay=n.getTime()-p.getTime();if(delay>0){setTimeout(a,delay)}else{setTimeout(a,1000);o[0].deliver=0}if(o[0].deliver>0){h()}else{$(".order-timer-text, .order-timer-hrs, .order-timer-mins").html("")}}})}function j(){var o=new Date().getTime()+d;l=(n.getTime()-o)/1000;g=Math.floor(l/3600);k=Math.ceil(l%3600/60);if(k==60){g++;k=0}}function h(){j();var o=$(".order-timer-collect").attr("data-offer-collection");if(k<0){$(".order-timer-text, .order-timer-hrs, .order-timer-mins").html("");setTimeout(a,1000);return}$(".order-timer-text").html(c());if(b){$(".order-timer-text").addClass("wantit-dowrap")}if(g>0){$(".order-timer-hrs").html(g+" hrs ")}else{$(".order-timer-hrs").html("")}var p=k+" mins";if(b){p+=" with "+b}if(!o){p+="."}$(".order-timer-mins").html(p);if(o){$(".order-timer-collect").html("<br />or collect from our London store.")}m=setTimeout(h,(60-(new Date).getSeconds())*1000)}function c(){var r="Want it ";var q=new Date();q.setTime(q.getTime()+d);var s=f.getDay();var p=q.getDay();if(s-p==1){r+="tomorrow, "}var o={day:"numeric",month:"long",weekday:"long"};r+=f.toLocaleDateString("en-GB",o)+'?<span class="wantit-wrap"></span>';r+=" Order within ";return r}}function DeliveryInfoProductPage(c,d,b){var o=null;var h=null;var e=null;var j=null;var p=null;var n=null;var g=null;var m=null;a();function a(){$.ajax({url:"/api/1.2/widget/getalldeliveryinfo?output_type=json&tid="+c+"&pid="+d,success:function(q){if(!empty(q[0].nodelivery_string)){$(b).empty();var s=q[0].nodelivery_string;var t=$("<div />").addClass("ptc-delivery-option").html(s);$(b).append(t);$(".ptc-delivery-loading").fadeOut();return false}o=q;var r=[];$.each(q[0].deliveries,function(w,v){if(!empty(v.collection_date_ts)){r.push(v.collection_date_ts)}});if(r.length>0){r.sort(f);dteUntilSmallest=new Date(r[0]*1000);h=new Date(q[0].base*1000);e=h.getTime()-(new Date).getTime();clearTimeout(p);j=dteUntilSmallest.getTime()-h.getTime();var u=false;if(j>0){setTimeout(a,j)}else{setTimeout(a,1000)}k()}else{k(true)}}})}function k(q){var r=null;$(b).empty();$.each(o[0].deliveries,function(z,A){var u=empty(A.name)?"":"<h4>"+A.name+"</h4>";var x=empty(A.free_display)?'<h4 class="text_green float_r">'+A.postage_display+"</h4>":'<h4 class="text_green float_r"><del class="text_subtle">'+A.postage_display+"</del>&nbsp;&nbsp;"+A.free_display+"</h4>";var w=empty(A.service_notes)?"":"<span>"+A.service_notes+"</span><br />";var v=empty(A.delivery_string)?"":"<span>"+A.delivery_string+"</span><br />";if(q){var t=x+u+v+w}else{r=new Date(A.collection_date_ts*1000);l(r);var y="Order within ";if(m<0){setTimeout(a,1000);return}if(g>0){y+=g+" hrs "}y+=m+" mins.";var t=x+u+v+w+"<span>"+y+"</span>"}var s=$("<div />").addClass("ptc-delivery-option").html(t);$(b).append(s);$(".ptc-delivery-loading").fadeOut()});p=setTimeout(k,(60-(new Date).getSeconds())*1000)}function l(q){var r=new Date().getTime()+e;n=(q.getTime()-r)/1000;g=Math.floor(n/3600);m=Math.ceil(n%3600/60);if(m==60){g++;m=0}}function f(r,q){return r-q}}function JunoDropdownHelper(){var b=null;var a=300;$(".juno-dd").mouseleave(function(){clearTimeout(b);var c=$(this).children(".juno-dd-overlay");c.addClass("juno-ddo-show");b=setTimeout(function(){c.removeClass("juno-ddo-show")},a)});$(".juno-dd-control").mouseenter(function(){$(".juno-dd-overlay").removeClass("juno-ddo-show");var f=$(this).siblings(".juno-dd-overlay");f.css({top:"0px"});var g=$(window).height();var e=f.offset().top-$(window).scrollTop()+f.height();if(e>g){f.css({top:(g-e)+"px"})}if($("#juno-content").length>0){var c=$(document).height()-$("#juno-content").height()-$("#juno-content").offset().top;var d=$(document).height()-f.height()-f.offset().top;if(d<c){f.css({top:(d-c)+"px"})}}})}function JunoListItemViewSwitcher(){$(".btn-view-type").on("click",function(){if(!$(this).hasClass("selected")){var a=$(this).attr("data-view-type");ga("send","event",a,ua_page,"view type");$.ajax({type:"POST",url:"/ajax_pref.php",data:{list_item_view:a},complete:function(){window.location.href=OdURL}})}})}var Validate={email:function(a){return/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(a.toLowerCase())},orderId:function(a){return/^[CLR][0-9]+D?$/i.test(a)},guid:function(a){return/^[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}$/.test(a)},cardNumber:function(d){if(empty(d)||/[^0-9-\s]+/.test(d)){return false}var e=0,c=0,a=false;d=d.replace(/\D/g,"");for(var f=d.length-1;f>=0;f--){var b=d.charAt(f),c=parseInt(b,10);if(a){if((c*=2)>9){c-=9}}e+=c;a=!a}return(e%10)==0},maskedCardNumber:function(a){return/^[0-9]{4,}\*+[0-9]{3,}$/.test(a)},tnsiReceipt:function(a){return/^[A-Z0-9]{10}$/.test(a)}};function JunoTipsManager(){var b=2000;var a=13;var e=$("#tip");var f=$("#tip-pointer");$.ajax({type:"GET",url:"/api/1.2/widget/gettip/",cache:false,success:function(g){c(JSON.parse(g))}});function c(g){$.each(g,function(j,k){var o=k;var n=$(o.element).first();var l=n.length>0;var h=n.css("display")!="none";var m=n.css("visibility")!="hidden";if(l&&h&&m){$("#tip-content").html(o.body);$("#tip-btn-close").attr("data-tipid",o.id);d(o.align,n);setTimeout(function(){e.fadeIn()},b);$(window).resize(function(){d(o.align,n)});return false}})}function d(h,m){switch(h){case"bottom":f.removeClass("tip-pointer-down tip-pointer-left tip-pointer-right").addClass("tip-pointer-up");var k=(e.outerWidth()/2)-(f.outerWidth()/2);f.css({top:"-10px",bottom:"initial",left:k+"px"});var j=m.offset().top+m.outerHeight()+a;var g=m.offset().left-((e.outerWidth()/2)-(m.outerWidth()/2));break;case"top":f.removeClass("tip-pointer-up tip-pointer-left tip-pointer-right").addClass("tip-pointer-down");var k=(e.outerWidth()/2)-(f.outerWidth()/2);f.css({top:"initial",bottom:"-10px",left:k+"px"});var j=m.offset().top-e.outerHeight()-a;var g=m.offset().left-((e.outerWidth()/2)-(m.outerWidth()/2));break;case"left":f.removeClass("tip-pointer-up tip-pointer-down tip-pointer-left").addClass("tip-pointer-right");var l=(e.outerHeight()/2)-(f.outerHeight()/2);f.css({top:l+"px",right:"-10px",left:"initial"});var j=m.offset().top-((e.outerHeight()/2)-(m.outerHeight()/2));var g=m.offset().left-e.outerWidth()-a;break;case"right":f.removeClass("tip-pointer-up tip-pointer-down tip-pointer-right").addClass("tip-pointer-left");var l=(e.outerHeight()/2)-(f.outerHeight()/2);f.css({top:l+"px",right:"initial",left:"-10px"});var j=m.offset().top-((e.outerHeight()/2)-(m.outerHeight()/2));var g=m.offset().left+m.outerWidth()+a;break;default:break}e.css({top:j+"px",left:g+"px"})}$("#tip-btn-close").click(function(){e.fadeOut(function(){$(this).remove()});$.ajax({type:"GET",url:"/api/1.2/widget/seentip/?tipid="+$(this).attr("data-tipid")})})}function dialogGeneratePlayer(b){var a=$(b).attr("link")||$(b).alt;modal_dialog(a,null,{width:500,height:450});return false}uaAddEvent=function(b){if(!ua_page){return}elt=b.target||b.srcElement;var a=$(elt).closest("[ua_action]").attr("ua_action");if(a==undefined){return}var c=$(elt).closest("[ua_location]").attr("ua_location");if(c==undefined){return}ga("send","event",a,ua_page,c)};var updCompetTimeout=null;updCompetition=function(b){var c=$(b).closest("[data-sku]");var e=c.attr("data-sku");var d=$("[name='comp_price']",c).val();var a=$("[name='comp_competitor']",c).val();clearTimeout(updCompetTimeout);updCompetTimeout=setTimeout(function(){$.ajax({url:"/api/1.2/widget/updComp/",data:{sku:e,price:d,competitor:a}})},700)};okCompetition=function(b){var c=$(b).closest("[data-sku]");$.ajax({url:"/api/1.2/widget/okComp/",data:{sku:c.attr("data-sku")}});var d=c.closest("tr");var e=d.prev();var a=e.prev();a.fadeOut();e.fadeOut();d.fadeOut()};function initializeJunoShare(){$(".btn_fb").bind("click",function(a){uaAddEvent(a);var d=(website()=="junodownload")?"267039006043":"125902343097";var c=$(this).attr("data-url")||window.location;var b="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(c)+"&appid="+d;window.open(b,"Share","width=600,height=500,scrollbars=1")});$(".btn_tw").bind("click",function(a){uaAddEvent(a);var c=$(this).attr("data-url")||window.location;var b="https://twitter.com/share?url="+encodeURIComponent(c);window.open(b,"Share","width=600,height=500,scrollbars=1")});$(".btn_gp").bind("click",function(a){uaAddEvent(a);var c=$(this).attr("data-url")||window.location;var b="https://plus.google.com/share?url="+encodeURIComponent(c);window.open(b,"Share","width=600,height=600,scrollbars=1")});$(".btn_pn").bind("click",function(a){uaAddEvent(a);var d=$('meta[property="og:image"]').attr("content");var e=$(this).parent().attr("data-title")||document.title;var c=$(this).attr("data-url")||window.location;var b="https://pinterest.com/pin/create/button/?url="+encodeURIComponent(c)+"&media="+encodeURIComponent(d)+"&description="+encodeURIComponent(e);window.open(b,"Share","width=750,height=315,scrollbars=1")})}function escapeHTML(b){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return b.replace(/[&<>'"]/g,function(d){return a[d]})}function time(){return parseInt((new Date().getTime())/1000)}function hideTooltip(){$("#listing-tt").hide()}function showTooltip(c,a){var b=$("#listing-tt");$("#listing-tt-content").html(c);var d=$("#listing-tt-pointer");d.css({left:((b.outerWidth()/2)-(d.outerWidth()/2))+"px"});b.css({top:(a.position().top-b.outerHeight()-6)+"px",left:(a.position().left-((b.outerWidth()/2)-(a.outerWidth()/2)))+"px"});b.show()}var show_nmd=function(){var a=$(document.createElement("div")).addClass("dialog").attr("id","dialog-nmd").appendTo("body").hide();$(document.createElement("img")).attr("src",static_server+"/images/downloads-have-moved-dialog.jpg").appendTo(a);$(document.createElement("div")).addClass("btm_container").appendTo(a);$(document.createElement("input")).addClass("btn_theme").attr({id:"btn-nmd-goto",type:"button",value:"Go to Juno Download"}).appendTo(a.find(".btm_container"));$(document.createElement("input")).addClass("btn_theme").attr({id:"btn-nmd-continue-shopping",type:"button",value:"Continue shopping"}).appendTo(a.find(".btm_container"));a.dialog({width:500,height:500,modal:true,autoOpen:true,draggable:false,resizable:false,show:"fade",hide:"fade",title:""});$("#btn-nmd-continue-shopping").on("click",function(){$("#dialog-nmd").dialog("close")});$("#btn-nmd-goto").on("click",function(){ga("send","event","DigitalMove","Click to JD");if(window.location.href.indexOf("juno.co.uk/wishlist")>-1){window.location.href="http://www.junodownload.com/wishlist/"}else{window.location.href="http://www.junodownload.com/"}})};function initializeSearch(){$("#search-term-start #search-submit").on("click",function(){if(empty($("input#query-start").val())){window.location.replace("/search/");return false}});$("#search-in-start .dropdown-item").click(function(){$("#query-start").attr("name",$(this).attr("data-value")).focus();$(".search-in-btn").html($(this).html())});$("#search-term-start").submit(function(){var a=$("#query-start").val();$("#query-start").val($.trim(a))});$("#search-term").submit(function(){var a=$("#query").val();$("#query").val($.trim(a))})}function initializeNavigation(c){var a;var b=false;var d="/api/1.2/widget/getNavJson";c=(!empty(c))?c:false;d+=(c)?"?t=1":"";if(website()=="junorecords"){$.getJSON(d,function(e){a=e});$(".nav-menu-item").on("mousemove mouseover",function(){if(!empty(a)){$(".nav-menu-item").off("mousemove mouseover")}else{return}$(".nav-menu-item").each(function(){if(!empty(a[$(this).attr("id")])){$(a[$(this).attr("id")]).appendTo($(this))}});b=$(this).attr("id");$(".nav-l").menuAim({activate:e,rowSelector:"> .nav-slice"});function e(j){var h=$(j);var g=h.attr("data-slice-id");var f=h.parents(".nav-category");if(!h.hasClass("selected")){$(f).find(".nav-slice").removeClass("selected");h.addClass("selected");$(f).find(".slice-items").hide();$(f).find('.slice-items[data-slice-id="'+g+'"]').show();$(f).find('.slice-items[data-slice-id="'+g+'"]').animate({opacity:"0"},150,function(){$(this).animate({opacity:"1"},150)})}}}).on("mouseout",function(){b=false})}else{$.getJSON(d,function(e){$("#nav li").each(function(){if(e[$(this).attr("id")]!==undefined){$(e[$(this).attr("id")]).appendTo($(this))}$(this).mouseout(function(){drop_down_hide_delay_nav()}).mouseover(function(){drop_down_show_nav($(this).attr("id"))})});if(b){do_drop_down_show_nav(b)}})}}function initializeTouchHover(){var a;$(".touch-hover").on("mouseenter",function(){var b=this;a=window.setTimeout(function(){$(b).addClass("hover")},250)});$(".touch-hover").on("mouseleave",function(){window.clearTimeout(a);$(this).removeClass("hover")});$(".touch-hover").on("touchstart",function(c){var b=this;if($(b).hasClass("hover")){$(b)[0].click()}else{$(".touch-hover").removeClass("hover");$(b).addClass("hover");$(b).mouseenter();$(document).click(function(d){if(!$(d.target).closest($(b)).length){$(b).removeClass("hover");$(b).mouseleave()}});c.preventDefault();c.stopPropagation()}})}var quickCartCountUpdated=0;function initializeQuickCartCount(){var b=2000;a();function a(){var c=JSON.parse($.cookie("quickCart"));if(c&&quickCartCountUpdated<c.lastUpdated){$(".ht-cart-count").html(c.itemCount);quickCartCountUpdated=c.lastUpdated}window.setTimeout(function(){a()},b)}}var quickCartUpdated=0;var quickWishlistUpdated=0;function updateQuickCart(){var a=3;var c="/api/v2/cart/quick-cart/"+a;var d=JSON.parse($.cookie("quickCart"));if(!d||quickCartUpdated<d.lastUpdated){b();$.getJSON(c,function(f){b();if(f.itemCount<1){$(".ht-dd.cart .cart-empty").show()}else{$(".ht-dd.cart .cs-item-count").html(f.itemCount);$(".ht-dd.cart .cs-subtotal").html(f.subtotal);for(var g=0,e=f.items.length;g<e;g++){var h=buildQuickItem(f.items[g]);h.prependTo($(".ht-dd.cart .cs-recent-items"))}process_playlist_or_mp3_links(".ht-dd");$(".ht-dd.cart .cart-status").show()}$(".ht-dd.cart .quick-loading").hide();d=JSON.parse($.cookie("quickCart"));quickCartUpdated=d.lastUpdated})}function b(){$(".ht-dd.cart .quick-loading").show();$(".ht-dd.cart .cart-empty, .ht-dd.cart .cart-status").hide();$(".ht-dd.cart .cs-recent-items").empty()}}function updateQuickWishlist(){var a=3;var d="/api/v2/wishlist/quick-wishlist/"+a;var c=JSON.parse($.cookie("quickWishlist"));if(!c||quickWishlistUpdated<c.lastUpdated){b();$.getJSON(d,function(g){b();if(!g.loggedIn){$(".ht-dd.wishlist .wishlist-login").show()}else{if(g.itemCount<1){$(".ht-dd.wishlist .wishlist-empty").show()}else{$(".ht-dd.wishlist .ws-item-count").html(g.itemCount);for(var f=0,e=g.items.length;f<e;f++){var h=buildQuickItem(g.items[f]);h.prependTo($(".ht-dd.wishlist .ws-recent-items"))}process_playlist_or_mp3_links(".ht-dd");$(".ht-dd.wishlist .wishlist-status").show()}}$(".ht-dd.wishlist .quick-loading").hide();c=JSON.parse($.cookie("quickWishlist"));quickWishlistUpdated=c.lastUpdated})}function b(){$(".ht-dd.wishlist .quick-loading").show();$(".ht-dd.wishlist .wishlist-empty, .ht-dd.wishlist .wishlist-login, .ht-dd.wishlist .wishlist-status").hide();$(".ht-dd.wishlist .ws-recent-items").empty()}}function buildQuickItem(d){var k;var h=(empty(d.quantity));var b=$(document.createElement("div")).addClass("qi");var e=$(document.createElement("a")).attr("href",d.productUrl).appendTo(b);$(document.createElement("img")).attr({src:product_images_server+d.imageUrl}).addClass("qi-image img-fluid").appendTo(e);var l=$(document.createElement("div")).addClass("qi-text").appendTo(b);if(!d.isEquipment){var n="";var f="";for(var g=0;g<d.artist.length;g++){if(g!=0){n+=" / ";f+=" / "}n+=d.artist[g].name;f+='<a href="'+d.artist[g].url+'">'+d.artist[g].name+"</a>"}$(document.createElement("div")).attr({title:n}).addClass("qi-artist artist").html(f).appendTo(l)}var e=$(document.createElement("a")).attr("href",d.productUrl).appendTo(l);var m=(d.isEquipment)?" qi-twoliner":"";$(document.createElement("div")).attr({title:d.title}).addClass("qi-title title"+m).html(d.title).appendTo(e);var c=$(document.createElement("a")).attr("href",d.label.url).appendTo(l);$(document.createElement("div")).attr({title:d.label.name}).addClass("qi-label label").html(d.label.name).appendTo(c);var a=$(document.createElement("div")).addClass("qi-actions").appendTo(l);if(!empty(d.quantity)&&d.quantity>1){$(document.createElement("div")).addClass("text-light float-right").html("(x"+d.quantity+")").appendTo(a)}if(!empty(d.listenUrl)){$(document.createElement("a")).addClass("btn_subtle btn_tiny mr-sm ultraplayer_play").attr({title:"Listen",ua_action:"play",href:d.listenUrl}).html('<span class="glyphicon glyphicon-listen" aria-hidden="true"></span>').appendTo(a)}if(h){var j=(!empty(d.unitSalePrice))?d.unitSalePrice:d.unitPrice;k=$(document.createElement("button")).addClass("btn_cta btn_tiny").attr({title:"Add to cart",ua_action:"add to cart"}).html('<span class="mr-sm">'+j+'</span><span class="glyphicon glyphicon-cart-add" aria-hidden="true"></span>');k.click(function(){uaAddEvent(event);addToCartPopup(d.titleId,d.productId)})}else{k=(!empty(d.unitSalePrice))?$(document.createElement("span")).html('<strike class="text-muted">'+d.unitPrice+'</strike> <span class="text-warning">'+d.unitSalePrice+"</span>"):$(document.createElement("span")).html('<span class="text-warning">'+d.unitPrice+"</span>")}k.appendTo(a);return b}function isTouchSupported(){var a=true;try{document.createEvent("TouchEvent")}catch(b){a=false}return a};
var widgetObject=function(){var _widgetArray=new Array();this.max_pages=5;this.set_params=function(which,attr,val){if(!eval("this."+which)){eval("this."+which+"= new Object()");_widgetArray.push(which)}eval("this."+which+"."+attr+'="'+val+'"')};this.get_params=function(which,attr){return(eval("this."+which+"."+attr))};this.show_object_params=function(obj){var str="";for(var prop in obj){str+=prop+" : "+obj[prop]+"\n"}return(str)};this.show_widget_params=function(){var str="";for(var i in _widgetArray){for(var prop in eval("this."+_widgetArray[i])){str+=prop+" : "+eval("this."+_widgetArray[i]+"."+prop)+"\n"}str+="\n   --------------------------   \n"}return(str)};this.create_widget_nav=function(){for(var i in _widgetArray){var id=_widgetArray[i];$("#"+id+"_previous_page").on("click",null,id,nav_previous);$("#"+id+"_next_page").on("click",null,id,nav_next)}return false};this.remove_widget_nav=function(which){}};nav_next=function(b){id=b.data;if(wo.get_params(id,"page")<wo.max_pages){var a=wo.get_params(id,"page");a++;wo.set_params(id,"page",a);update_widget(id)}};nav_previous=function(b){id=b.data;if(wo.get_params(id,"page")>1){var a=wo.get_params(id,"page")-1;wo.set_params(id,"page",a);update_widget(id)}};update_widget=function(which){var min_height=(wo.get_params(which,"item_count")*65)+(wo.get_params(which,"item_count")-1);$.ajax({type:"GET",url:"/ajax_widget_items.php",dataType:"html",data:eval("wo."+which),beforeSend:function(){$("#"+which+"_widgets_container").html('<div class="progress"><div style="min-height:'+min_height+'px;"><img width="190" height="15" style="margin: 50% 0px 0px 0px;" src="'+wo.get_params(which,"images_path")+'progress.gif"/></div></div>')},success:function(){},complete:function(data){$("#"+which+"_widgets_container").html(data.responseText);process_playlist_or_mp3_links("#"+which+"_widgets_container")}});if($("a[id='"+which+"_previous_page']").length==2){$("#"+which+"_widgets_container").next("div[id='widget_product_title_vertical']").find("span[id='widget_footer_nav']").html("Page "+wo.get_params(which,"page")+" of "+wo.max_pages)}};var wo=new widgetObject();$(document).ready(function(){wo.create_widget_nav()});
(function(a){a.fn.lazyload=function(b){var c={threshold:0,failurelimit:0,event:"scroll",effect:"show",container:window};if(b){a.extend(c,b)}var d=this;if("scroll"==c.event){a(c.container).on("scroll",function(g){var e=0;d.each(function(){if(a.abovethetop(this,c)||a.leftofbegin(this,c)){}else{if(!a.belowthefold(this,c)&&!a.rightoffold(this,c)){a(this).trigger("appear")}else{if(e++>c.failurelimit){return false}}}});var f=a.grep(d,function(h){return !h.loaded});d=a(f)})}this.each(function(){var e=this;a(e).one("appear",function(){if(!this.loaded){a("<img />").on("load",function(){a(e).hide().attr("src",a(e).attr("rel"))[c.effect](c.effectspeed);e.loaded=true}).attr("src",a(e).attr("rel"))}});if("scroll"!=c.event){a(e).on(c.event,function(f){if(!e.loaded){a(e).trigger("appear")}})}});a(c.container).trigger(c.event);return this};a.belowthefold=function(c,d){if(d.container===undefined||d.container===window){var b=a(window).height()+a(window).scrollTop()}else{var b=a(d.container).offset().top+a(d.container).height()}return b<=a(c).offset().top-d.threshold};a.rightoffold=function(c,d){if(d.container===undefined||d.container===window){var b=a(window).width()+a(window).scrollLeft()}else{var b=a(d.container).offset().left+a(d.container).width()}return b<=a(c).offset().left-d.threshold};a.abovethetop=function(c,d){if(d.container===undefined||d.container===window){var b=a(window).scrollTop()}else{var b=a(d.container).offset().top}return b>=a(c).offset().top+d.threshold+a(c).height()};a.leftofbegin=function(c,d){if(d.container===undefined||d.container===window){var b=a(window).scrollLeft()}else{var b=a(d.container).offset().left}return b>=a(c).offset().left+d.threshold+a(c).width()};a.extend(a.expr[":"],{"below-the-fold":"$.belowthefold(a, {threshold : 0, container: window})","above-the-fold":"!$.belowthefold(a, {threshold : 0, container: window})","right-of-fold":"$.rightoffold(a, {threshold : 0, container: window})","left-of-fold":"!$.rightoffold(a, {threshold : 0, container: window})"})})(jQuery);
if(typeof static_server=="undefined"){static_server=""}function loadWidget(g,f){var e="output_type=json";var b="";if(g=="product"){var c="/api/1.2/widget/getinformationpage";var e=e+"&product_key="+f;var d=3}else{if(g=="jdhome"){var c="/api/1.2/widget/getjdhome";var e=e+"&limit="+(Math.round(($(".hp_center_col").height()-32)/55));var d=9999;b="_right"}else{if(g=="jdgenre"){var c="/api/1.2/widget/getjdhome";var e=e+"&limit="+(Math.round(($(".widgets_center_col").height()-32)/55));e+="&genre="+f;var d=9999;b="_right"}else{var c="/api/1.2/widget/getjrhome";var d=5}}}var a="data:image/gif;base64,R0lGODlhEAAQAPQAAPb48wAAAOjq5YWGhNja1kNEQnZ3dAAAAFVVVCIjIqanpLi5tRMTE5eYlQMDAzQ0M2RlYwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH+GkNyZWF0ZWQgd2l0aCBhamF4bG9hZC5pbmZvACH5BAAKAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAAFdyAgAgIJIeWoAkRCCMdBkKtIHIngyMKsErPBYbADpkSCwhDmQCBethRB6Vj4kFCkQPG4IlWDgrNRIwnO4UKBXDufzQvDMaoSDBgFb886MiQadgNABAokfCwzBA8LCg0Egl8jAggGAA1kBIA1BAYzlyILczULC2UhACH5BAAKAAEALAAAAAAQABAAAAV2ICACAmlAZTmOREEIyUEQjLKKxPHADhEvqxlgcGgkGI1DYSVAIAWMx+lwSKkICJ0QsHi9RgKBwnVTiRQQgwF4I4UFDQQEwi6/3YSGWRRmjhEETAJfIgMFCnAKM0KDV4EEEAQLiF18TAYNXDaSe3x6mjidN1s3IQAh+QQACgACACwAAAAAEAAQAAAFeCAgAgLZDGU5jgRECEUiCI+yioSDwDJyLKsXoHFQxBSHAoAAFBhqtMJg8DgQBgfrEsJAEAg4YhZIEiwgKtHiMBgtpg3wbUZXGO7kOb1MUKRFMysCChAoggJCIg0GC2aNe4gqQldfL4l/Ag1AXySJgn5LcoE3QXI3IQAh+QQACgADACwAAAAAEAAQAAAFdiAgAgLZNGU5joQhCEjxIssqEo8bC9BRjy9Ag7GILQ4QEoE0gBAEBcOpcBA0DoxSK/e8LRIHn+i1cK0IyKdg0VAoljYIg+GgnRrwVS/8IAkICyosBIQpBAMoKy9dImxPhS+GKkFrkX+TigtLlIyKXUF+NjagNiEAIfkEAAoABAAsAAAAABAAEAAABWwgIAICaRhlOY4EIgjH8R7LKhKHGwsMvb4AAy3WODBIBBKCsYA9TjuhDNDKEVSERezQEL0WrhXucRUQGuik7bFlngzqVW9LMl9XWvLdjFaJtDFqZ1cEZUB0dUgvL3dgP4WJZn4jkomWNpSTIyEAIfkEAAoABQAsAAAAABAAEAAABX4gIAICuSxlOY6CIgiD8RrEKgqGOwxwUrMlAoSwIzAGpJpgoSDAGifDY5kopBYDlEpAQBwevxfBtRIUGi8xwWkDNBCIwmC9Vq0aiQQDQuK+VgQPDXV9hCJjBwcFYU5pLwwHXQcMKSmNLQcIAExlbH8JBwttaX0ABAcNbWVbKyEAIfkEAAoABgAsAAAAABAAEAAABXkgIAICSRBlOY7CIghN8zbEKsKoIjdFzZaEgUBHKChMJtRwcWpAWoWnifm6ESAMhO8lQK0EEAV3rFopIBCEcGwDKAqPh4HUrY4ICHH1dSoTFgcHUiZjBhAJB2AHDykpKAwHAwdzf19KkASIPl9cDgcnDkdtNwiMJCshACH5BAAKAAcALAAAAAAQABAAAAV3ICACAkkQZTmOAiosiyAoxCq+KPxCNVsSMRgBsiClWrLTSWFoIQZHl6pleBh6suxKMIhlvzbAwkBWfFWrBQTxNLq2RG2yhSUkDs2b63AYDAoJXAcFRwADeAkJDX0AQCsEfAQMDAIPBz0rCgcxky0JRWE1AmwpKyEAIfkEAAoACAAsAAAAABAAEAAABXkgIAICKZzkqJ4nQZxLqZKv4NqNLKK2/Q4Ek4lFXChsg5ypJjs1II3gEDUSRInEGYAw6B6zM4JhrDAtEosVkLUtHA7RHaHAGJQEjsODcEg0FBAFVgkQJQ1pAwcDDw8KcFtSInwJAowCCA6RIwqZAgkPNgVpWndjdyohACH5BAAKAAkALAAAAAAQABAAAAV5ICACAimc5KieLEuUKvm2xAKLqDCfC2GaO9eL0LABWTiBYmA06W6kHgvCqEJiAIJiu3gcvgUsscHUERm+kaCxyxa+zRPk0SgJEgfIvbAdIAQLCAYlCj4DBw0IBQsMCjIqBAcPAooCBg9pKgsJLwUFOhCZKyQDA3YqIQAh+QQACgAKACwAAAAAEAAQAAAFdSAgAgIpnOSonmxbqiThCrJKEHFbo8JxDDOZYFFb+A41E4H4OhkOipXwBElYITDAckFEOBgMQ3arkMkUBdxIUGZpEb7kaQBRlASPg0FQQHAbEEMGDSVEAA1QBhAED1E0NgwFAooCDWljaQIQCE5qMHcNhCkjIQAh+QQACgALACwAAAAAEAAQAAAFeSAgAgIpnOSoLgxxvqgKLEcCC65KEAByKK8cSpA4DAiHQ/DkKhGKh4ZCtCyZGo6F6iYYPAqFgYy02xkSaLEMV34tELyRYNEsCQyHlvWkGCzsPgMCEAY7Cg04Uk48LAsDhRA8MVQPEF0GAgqYYwSRlycNcWskCkApIyEAOwAAAAAAAAAAAA==";jQuery.ajax({url:c,type:"POST",data:e,dataType:"json",success:function(h){if(g=="jdhome"||g=="jdgenre"){BuildHTML(h,"jdleft",d);BuildHTML(h,"jdright",d);process_playlist_or_mp3_links("#right_page_container_mod")}else{BuildHTML(h,g,d);process_playlist_or_mp3_links("#ajax_section")}},beforeSend:function(){$("#ajax_section").html("<p class='loader'><img id='loader' class='loader' src='"+a+"' width='16' height='16' alt='Loading... please wait' /></p>");if(b!=""){$("#ajax_section"+b).html("<p class='loader'><img id='loader' class='loader' style='position:relative;top:90px;left:90px;' src='"+a+"' width='16' height='16' alt='Loading... please wait' /></p>")}},complete:function(){$("p.loader").remove()},error:function(h){$("#ajax_section").append("<p>There was an error</p>");if(b!=""){$("#ajax_section"+b).append("<p>There was an error</p>")}}})}function BuildHTML(d,f,c){var b=0;var e=0;var a=c;if(f=="jdleft"){d={results:d.left}}if(f=="jdright"){d={results:d.right}}$.each(d,function(){var j="";if(f=="jdleft"||f=="jdright"||f=="product"){j+="<table class='brdr' cellpadding='0'><tr><td><img class='global_sprite tl' src='data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==' height='3' width='3' /></td><td class='t'></td><td><img class='global_sprite tr' src='data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==' height='3' width='3' /></td></tr><tr><td class='l'></td><td>"}e=e+1;var g=parseInt(this.items.length);if(g>0){if(f=="jdleft"||f=="jdright"){j+="<div id='right_page_container_mod' class='css_"+e+"' style='clear: both;'>"}else{if(f=="product"){j+="<div id='right_page_container_modmerch' class='css_"+e+"' style='clear: both;'>"}else{j+=(f=="product")?"<div id='right_page_container' class='css_"+e+"' style='clear: both;'>":"<div class='page_container'>"}}headingAnchor="";headingAnchorEnd="";if(f=="jdleft"){headingAnchor='<a href="/'+this.genre_url+'/charts/bestsellers/this-week/releases/?music_product_type=single">';headingAnchorEnd="</a>"}if(f=="jdright"){headingAnchor='<a href="/'+this.genre_url+'/charts/bestsellers/this-week/releases/?music_product_type=album">';headingAnchorEnd="</a>"}if(f=="product"){j+="<div class='prod_heading'><div class='heading_text'>"+headingAnchor+this.label.toUpperCase()+headingAnchorEnd+"</div></div>"}else{if(f=="jdleft"){j+="<div class='wprod_heading'><div class='heading_text hx_jdh' style='text-align:center;'>"+headingAnchor+this.label+headingAnchorEnd+"</div></div>"}else{if(f=="jdright"){j+="<div class='wprod_heading'><div class='heading_text hx_jdh' style='text-align:center;'>"+headingAnchor+this.label+headingAnchorEnd+"</div></div>"}else{switch(this.id){case"singles":lnk="/all/charts/bestsellers/this-week/?music_product_type=single";break;case"albums":lnk="/all/charts/bestsellers/this-week/?music_product_type=album";break;case"vinyl":lnk="/all/charts/bestsellers/this-week/vinyl/";break;case"cd":lnk="/all/charts/bestsellers/this-week/cd/";break}j+='<div class=\'irs_products_heading\'><a class="irs_products_heading_text" href="'+lnk+'">'+this.label+"</a><a class='irs_products_heading_image' href=\""+lnk+'">';if(this.media=="cd"){j+="<img class='global_sprite' src='data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==' class='global_sprite' style='position:relative; background-position: -528px -29px; width: 46px; height: 21px;' />"}else{j+="<img class='global_sprite' src='data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==' class='global_sprite' style='position:relative; background-position: -468px -29px; width: 46px; height: 21px;' />"}j+="</a></div>"}}}if((g>a||f!="product")&&f!="jdleft"&&f!="jdright"){j+="<div class='up'><a id='button_up_"+e+"' class='btn_spinner up_a disabled' href='JavaScript:void(0);'><span class='glyphicon glyphicon-arrow-up' aria-hidden='true'></span></a></div>"}j+="<div id='product_widget_"+e+"' class='product_widget_"+e+"'>";j+=(f=="jdleft"||f=="jdright"||f=="product")?'<ul ua_location="'+(f=="product"?this.type:f)+'" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; position: relative; list-style-type: none; z-index: 1; top: 0px;">':'<ul ua_location="'+(f=="product"?this.type:f)+'">';var h="";switch(this.type){case"bestsellingproducts":h=",ss:37";break;case"alsobought":h=",ss:30";break;case"similarartist":h=",ss:31";break;case"similarlabel":h=",ss:32";break;case"similarexclusive":h=",ss:33";break;case"similarbrand":h=",ss:34";break;case"similarproducttype":h=",ss:35";break}$.each(this.items,function(){var k=(this.prod_id.length>1)?this.prod_id:"0"+this.prod_id;b=b+1;j+='<li style="height:55px;">';j+="<div class='product_container' style='border-top: 1px dotted rgb(216, 216, 216);'><div class='product_image'>";j+="<a ua_action='ln_product' class='productimage ua_event' href='"+this.link+"'>";if(b>a){j+="<img class='lazy_img' id='img_"+this.title_id+"' width='50' height='50' alt='"+this.title+"' src='data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='  rel='"+this.image_url+"'>"}else{j+="<img id='img_"+this.title_id+"' width='50' height='50' alt='"+this.title+"' src='"+this.image_url+"'>"}if(this.is_exclusive){j+="<div class='wdg_exc'><img src='"+static_server+"/images/digital/btn_ex_green_s.png' width=48 height=11></div>"}j+="</a></div><div class='product_info'>"+(this.mp3_l?"<div class='product_artists'>"+this.artist_l+"</div>":"<div class='product_artists'><a class='ua_event' ua_action='ln_label' href='/labels/"+this.label_l+"'>"+this.label.toUpperCase()+"</a></div>")+"<div class='product_title'>";j+="<a class='ua_event' ua_action='ln_product' href='"+this.link+"'>"+this.title+"</a>";j+=(f!="jdleft"&&f!="jdright")?"</div>"+(this.mp3_l?"<div class='product_label'><a class='ua_event' ua_action='ln_label' href='/labels/"+this.label_l+"'>"+this.label+"</a></div>":"")+"</div><div class='product_preview_buy'><div class='preview'>"+(this.mp3_l?"<a ua_action='play' class='ultraplayer_play btn_subtle btn_tiny' href='"+this.mp3_l+"' title='Listen'><span class='glyphicon glyphicon-listen' aria-hidden='true'></span></a>":"")+"</div>":"</div><div class='product_label'><a class='ua_event' ua_action='ln_label' href='/labels/"+this.label_l+"'>"+this.label+"</a></div></div><div class='product_preview_buy'><div class='preview'><a ua_action='play' class='ultraplayer_play btn_subtle btn_tiny' href='/playlists/builder/"+this.title_id+"-"+k+".m3u' title='Listen'><span class='glyphicon glyphicon-listen' aria-hidden='true'></span></a></div>";if(f=="product"){j+="<div class='preview_cue'><a ua_action='cue' class='ultraplayer_cue btn_subtle btn_tiny' href='"+this.mp3_l+"' title='Cue track'><span class='glyphicon glyphicon-cue' aria-hidden='true'></span></a></div>"}else{if(f=="jdleft"||f=="jdright"){j+="<div class='preview_cue'><a ua_action='cue' class='ultraplayer_cue btn_subtle btn_tiny' href='/playlists/builder/"+this.title_id+"-"+k+".m3u' title='Cue track'><span class='glyphicon glyphicon-cue' aria-hidden='true'></span></a></div>"}}j+="<div class='buy'><a ua_action='add to cart' onclick=\"javascript:uaAddEvent(event);addToCartPopup("+this.title_id+", "+k+", null, null, {media_id:4"+(this.arc_formats?",arc_formats:'"+this.arc_formats+"'":"")+(this.class_id>=3?",format_check:false":"")+h+"}); return false;\" href='javascript:void(0);' class='btn_subtle btn_tiny' title='Add to cart'><span class='glyphicon glyphicon-cart-add text_cta' aria-hidden='true'></span></a></div></div></div></li>"});j+="</ul></div>";if((g>a||f!="product")&&f!="jdleft"&&f!="jdright"){var i="";if(f!="product"&&g<=a){i=" disabled"}j+="<div class='down'><a id='button_down_"+e+"' class='btn_spinner down_a"+i+"' href='JavaScript:void(0);'><span class='glyphicon glyphicon-arrow-down' aria-hidden='true'></span></a></div>"}j+="</div>";if(f=="jdleft"||f=="jdright"||f=="product"){j+="</td><td class='r'></td></tr><tr><td><img class='global_sprite bl' src='data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==' height='3' width='3' /></td><td class='b'></td><td><img class='global_sprite br' src='data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==' height='3' width='3' /></td></tr></table>"}if(f=="jdright"){$("#ajax_section_right").html(j)}else{if(f=="jdleft"){$("#ajax_section").html(j)}else{$("#ajax_section").append(j)}}if(f!="jdleft"&&f!="jdright"){applyJCarouselLite(e,f,c)}if(g<=a){$(".product_widget_"+e).css({height:"auto"})}}b=0})}function applyJCarouselLite(count,which,nbDisplay){eval("var currentposition_"+count+" = 3;");eval("var noofdisplay_"+count+" = 3;");eval("var totalproducts_"+count+" = "+$(".product_widget_"+count+" li").size()+";");eval("var no_of_display_"+count+" = 0;");eval("var button_"+count+" = '';");var scrollVal=nbDisplay;var visibleVal=nbDisplay;$(".product_widget_"+count).jCarouselLite({btnNext:"#button_down_"+count,btnPrev:"#button_up_"+count,scroll:scrollVal,visible:visibleVal,speed:1000,vertical:true,circular:false});$("#button_down_"+count).click(function(){eval("button_"+count+" = 'down'; ")});$("#button_up_"+count).click(function(){eval("button_"+count+" = 'up'; ")})}$(document).ready(function(){$("a.thickbox_mod").click(function(){var c=this.title||this.name||null;var b=this.href||this.alt;var d="product-images-small"||false;tb_show(c,b,d);this.blur();return false});_current="djip_0";$(".djip_smallimgs").click(function(){if(this.id==_current){return false}$("#"+_current).removeClass("black_border");_current=this.id;$("#"+_current).removeClass("blue_border").addClass("black_border");$("#djip_big_thumbA").attr("href",this.href);$("#djip_big_thumb").attr("src",$("#"+this.id+">img").attr("rel"));return false});$(".djip_smallimgs").mouseover(function(){if(this.id==_current){return false}$("#djip_big_thumb").attr("src",$("#"+this.id+">img").attr("rel"));$("#"+this.id).addClass("blue_border")});$(".djip_smallimgs").mouseout(function(){$("#djip_big_thumb").attr("src",$("#"+_current+">img").attr("rel"));$("#"+this.id).removeClass("blue_border")})});
function check_focus(a){element=document.forms.email_friends["forward_email[]"][a];if(element.value=="                     @"){element.value=""}}function check_blur(a){element=document.forms.email_friends["forward_email[]"][a];if(element.value==""){element.value="                     @"}}function check_friend_emails(){elements=document.forms.email_friends["forward_email[]"];for(i=0;i<elements.length;i++){element=document.forms.email_friends["forward_email[]"][i].value;if(element!="                     @"&&!is_valid_email(element)){alert("An email address you have entered is not a valid format");return false}}document.forms.email_friends.submit()}function is_valid_email(a){return(a.indexOf(".")>2)&&(a.indexOf("@")>0)}function hide_manual_email(){document.getElementById("email_chart").style.display="none"}function show_instant_msg(){document.getElementById("msg_chart").style.display="block"}function hide_instant_msg(){document.getElementById("msg_chart").style.display="none"}function show_manual_email(){document.getElementById("email_chart").style.display="block"}function hide_publicise(){document.getElementById("email_chart").style.display="none";document.getElementById("publicise").style.display="none"}function hide_chart_links(){document.getElementById("chart_links").style.display="none"}function show_chart_links(){document.getElementById("chart_links").style.display="block"};
$(document).ready(function(){$(".alphabet_link").click(function(){var a=$(this).html();if(a=="#"){$("#charts_wrapper").children().show();$.cookie("clicked_alphabet","#",{expires:1,path:"/"})}else{$("#charts_wrapper").children().hide();$("#top_charts_users").show();$(".chart_letter_"+a).show();$.cookie("clicked_alphabet",a,{expires:1,path:"/"})}});if($.cookie("clicked_alphabet")==null){$("#charts_wrapper").children().show()}else{if($.cookie("clicked_alphabet")!="#"){$("#charts_wrapper").children().hide();$("#top_charts_users").show();$(".chart_letter_"+$.cookie("clicked_alphabet")).show()}else{$("#charts_wrapper").children().show()}}});
function set_cookie(c,e,a,h,d,g){var b=new Date();b.setTime(b.getTime());if(a){a=a*1000*60*60*24}var f=new Date(b.getTime()+(a));document.cookie=c+"="+escape(e)+((a)?";expires="+f.toGMTString():"")+((h)?";path="+h:"")+((d)?";domain="+d:"")+((g)?";secure":"")}function get_cookie(a){var f=document.cookie.split(";");var b="";var d="";var e="";var c=false;for(i=0;i<f.length;i++){b=f[i].split("=");d=b[0].replace(/^\s+|\s+$/g,"");if(d==a){c=true;if(b.length>1){e=unescape(b[1].replace(/^\s+|\s+$/g,""))}return e;break}b=null;d=""}if(!c){return null}}function delete_cookie(a,c,b){if(get_cookie(a)){document.cookie=a+"="+((c)?";path="+c:"")+((b)?";domain="+b:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}}function Cookies(){}Cookies.set_cookie=set_cookie;Cookies.get_cookie=get_cookie;Cookies.delete_cookie=delete_cookie;
function Cart(g){var d;var c=false;this.subtotal=0;this.grand_total=0;this.card_surcharge=0;this.paypal_surcharge=0;this.surcharge_type=null;this.paypal_fixed=0;this.paypal_percent=0;this.account_credit_fixed=false;this.account_credit_percent=false;this.cart_credit_fixed=0;this.cart_credit_percent=0;this.cart_credit=0;this.currency_symbol="\u00a3";this.currency_rate=1;this.payment_type=1;this.digital_only=null;this.has_digital=null;this.use_discount=true;this.show_subtotal=false;for(var f in g){if(this.hasOwnProperty(f)){this[f]=g[f]}}var e=this;if(e.currency_rate!=1){var b=["subtotal","grand_total","card_surcharge","paypal_surcharge","paypal_fixed","account_credit_fixed","cart_credit_fixed","cart_credit_percent","cart_credit"];for(var a in b){e[b[a]]=round(e[b[a]]*e.currency_rate,2)}}d=$("input[name=payment_type]:checked").val();$(".cart-table input, .cart-table img").on("click",function(h){$("#messages-container").slideUp("normal",function(){$(this).remove()})});$(".cart-table select").on("change",function(h){$("#messages-container").slideUp("normal",function(){$(this).remove()})});$("#paypal-info-link, #paypal-surcharge-link").on("click",function(){modalAlert("PayPal surcharge","To cover PayPal charges, there is a small surcharge applied to the purchase total.");return false});this.recalculateCredit=function(j){if(e.account_credit_percent&&e.use_discount){e.cart_credit_percent=round(j*e.account_credit_percent/100,2);j=round(j-e.cart_credit_percent,2)}var i="-"+e.currency_symbol+number_format(e.cart_credit_percent,2);if($("#credit_percent_val").text()!=i){$("#credit_percent_val").slideUp("normal",function(){$("#credit_percent_val").text(i);$("#credit_percent_val").slideDown("normal")})}if(e.account_credit_fixed&&e.use_discount){if(j<=e.account_credit_fixed){e.cart_credit_fixed=j;j=0}else{e.cart_credit_fixed=e.account_credit_fixed;j=round(j-e.cart_credit_fixed,2)}}e.cart_credit=round(e.cart_credit_percent+e.cart_credit_fixed,2);var h="-"+e.currency_symbol+number_format(e.cart_credit_fixed,2);if($("#credit_fixed_val").text()!=h){$("#credit_fixed_val").slideUp("normal",function(){$("#credit_fixed_val").text(h);$("#credit_fixed_val").slideDown("normal")})}return j};this.recalculateSurcharges=function(i){e.surcharge_type=0;if(i>0){if($("input[name=payment_type]:checked").val()==1&&e.digital_only==1&&i<3){if(e.card_surcharge>0){$(".card_surcharge").slideDown("normal")}i=round(i+e.card_surcharge,2);e.surcharge_type=1}else{$(".card_surcharge").slideUp("normal")}if($("input[name=payment_type]:checked").val()==2&&(e.paypal_fixed>0||e.paypal_percent>0)){e.paypal_surcharge=round(((i+e.paypal_fixed)/(1-(e.paypal_percent/100)))-i,2);var h=e.currency_symbol+number_format(e.paypal_surcharge,2);if($("#paypal_surcharge_val").text()!=h){$("#paypal_surcharge_val").slideUp("normal",function(){$("#paypal_surcharge_val").text(h);$("#note-paypal-surcharge").text(h);$("#paypal_surcharge_val").slideDown("normal")})}if(e.paypal_surcharge>0){$(".paypal_surcharge").slideDown("normal");i=round(i+e.paypal_surcharge,2);e.surcharge_type=2}}else{$(".paypal_surcharge").slideUp("normal")}$("input[name=payment_type]").each(function(){this.disabled=false});$(".payment-options-div").slideDown("slow")}else{$("input[name=payment_type]").each(function(){this.disabled=true});$(".payment-options-div").slideUp("slow");$(".card_surcharge").slideUp("normal");$(".paypal_surcharge").slideUp("normal")}return i}}function CartJR(){var g=this;var l;var k;var j;var d;$("#delivery-services-menu").menu({position:{my:"right top",at:"right bottom+1"},select:function(m,n){if(!$(m.currentTarget).hasClass("dd-option-container")){return false}$("#delivery-services-menu .dd-option.selected").removeClass("selected");$(m.currentTarget).find(".dd-option").addClass("selected");$("#delivery-services-menu .dd-selected").html($(m.currentTarget).find(".dd-option").html());if($(m.currentTarget).find(".delivery_servicedelivery_string").html()){$("#delivery_string").html($(m.currentTarget).find(".delivery_servicedelivery_string").html())}else{$("#delivery_string").html("")}$("#delivery-services-menu .dd-selected-value").val($(m.currentTarget).find(".dd-option-value").val());$.post("/api/1.2/?method=user.setdeliveryservice&output_type=json","delivery_service="+$("#delivery-services-menu .dd-selected-value").val());i();b()}}).show();var e=new Date(window.delivery_timerbase*1000);if(e!=undefined){d=e.getTime()-(new Date).getTime();i()}$("input[name=payment_type]").click(function(){h()});$("input[name=payment_type]").on("mousedown",function(){l=$("input[name=payment_type]:checked").val()});$("#delivery-services-menu").on("mouseleave",".dd-options",function(){k=setTimeout(function(){$("#delivery-services-menu").menu("collapseAll")},200)});$("#delivery-services-menu").on("mouseenter",".dd-options",function(){clearTimeout(k)});$("body").on("click",".delivery-services-help",function(){modal_dialog("/cart/delivery-services/?noheader=1","#delivery-dialog-container",{width:750,height:500});return false});$("#btn_go_to_checkout").on("click",function(){if(!c()){return false}if(!a()){return false}if(check_login(this,"strict")){g.submitForm(this.name)}return false});$("form#checkout").on("submit",function(){if(!c()){return false}return true});$("#btn_new_customer").on("click",function(){if($("input[name=payment_type]:checked").val()==3){if(check_login(this,"strict",false,{page:"register",callback:"p4l.ShowDialog"})){p4l.ShowDialog()}}else{g.submitForm(this.name)}return false});this.submitForm=function(m){if($("input[name=payment_type]:checked").val()==3){p4l.ShowDialog()}else{hidden='<input type="hidden" name="'+m+'" value="1">';$("#checkout").append(hidden);$("#checkout").submit()}};function h(){if(!a()){return false}var m=$("input[name=payment_type]:checked").val();if(m==3&&g.cart_credit>0){if(!confirm("By switching to Deko finance, your current credits/discounts will be disabled.\n\nDo you want to proceed?\n\n(Clicking OK will reload the page)")){return false}}$.post("/api/1.2/?method=user.setpaymenttype&output_type=json","payment_type="+m,function(n){if(m==3||n.old_payment_type==3){if(m==3){alert("Please check your delivery method. All non-trackable options will be disabled")}document.location.reload()}else{if(l==3&&g.cart_credit>0){alert("The cart page will be reloaded to enable your cart credit.");document.location.reload()}else{b()}}})}function b(){$(".info-hidden").slideUp();var p=0;var o=0;var n=round(g.subtotal,2);var q=n;$(".error").slideUp("slow");if($(".delivery-service").length>0){p=+$(".delivery-service .dd-option.selected .delivery-service-insurance").val();var s=g.currency_symbol+number_format(p,2);if($("#insurance_val").text()!=s){$("#insurance_val").slideUp("normal",function(){$("#insurance_val").text(s);$("#insurance_val").slideDown("normal")});if(p){$(".insurance").slideDown("normal")}}q=round(q+p,2)}if(!p){$(".insurance").slideUp("normal")}if($(".delivery-service").length>0){o=+$(".delivery-service .dd-option.selected .delivery-service-postage").val();shipping_discount=+$(".delivery-service .dd-option.selected .delivery-service-postage-discount").val();q=round(q+o,2);var r=g.currency_symbol+number_format(o-shipping_discount,2);if($("#shipping_val").text()!=r){$("#shipping_val").slideUp("normal",function(){$("#shipping_val").text(r);$("#shipping_val").slideDown("normal")})}var m=g.currency_symbol+number_format(shipping_discount,2);if($("#shipping_discount_val").text()!=m){$("#shipping_discount_val").slideUp("normal",function(){$("#shipping_discount_val").text(m);$("#shipping_discount_val").slideDown("normal")})}$(".shipping").slideDown("normal");if(shipping_discount<0){$(".shipping_discount").slideDown("normal")}else{$(".shipping_discount").slideUp("normal")}}q=g.recalculateCredit(q);q=g.recalculateSurcharges(q);g.setGrandTotal(q);if($("input[name=payment_type]:checked").val()==3&&$(".p4l_cart").length>0){$(".p4l_cart").attr("data-items-value",q);$.ajax({url:"/api/1.2/",data:"method=user.GetPay4LaterDataAsync&items_value="+q+"&output_type=json",type:"POST",success:function(t){$(".p4l_cart").attr("data-deposit-options",t.deposit_options)}})}}function f(){$("#delivery_timer").html("&nbsp;")}function i(){clearTimeout(j);var o=$(".delivery_services_right input[name='delivery_service']").val();var m=new Date(window["delivery_timer"+o]*1000);if(window["delivery_timer"+o]==undefined||m==undefined||d==undefined||o==undefined){f();return}var p=new Date().getTime()+d;timeLeftTotalSeconds=(m.getTime()-p)/1000;if(timeLeftTotalSeconds<1){f();return}timeLeftHours=Math.floor(timeLeftTotalSeconds/3600);timeLeftMinutes=Math.ceil(timeLeftTotalSeconds%3600/60);var n="Order within";if(timeLeftHours>0){n+=" "+timeLeftHours+" hour"}if(timeLeftHours>1){n+="s"}n+=" "+timeLeftMinutes+" min";if(timeLeftMinutes>1){n+="s"}$("#delivery_timer").html(n+".");j=setTimeout(i,(60-(new Date).getSeconds())*1000)}function a(){if($("input[name=payment_type]:checked").val()==3&&g.has_digital>0){alert("To apply for Deko finance, you need to remove all digital items from your cart. You can still purchase them by using a different payment method.");return false}return true}function c(){if($("input[name=confirm_prodj]").length>0&&!$("input[name=confirm_prodj]").prop("checked")){modalAlert(LANG.prodj_popup_title,LANG.prodj_popup_text);return false}return true}this.setGrandTotal=function(n){var m=g.currency_symbol+number_format(n,2);if($("#grand_total_val").text()!=m){$("#grand_total_val").slideUp("normal",function(){$(this).text(m);$(this).slideDown("normal")})}}}function CartJD(){var _this=this;_this.format_low="mp3_192";_this.format_high="aiff";_this.animBgColour="#739d43";$("#bulk-actions-dd").menu({position:{my:"right top",at:"right bottom+1"},select:function(event,ui){if(!$(event.currentTarget).hasClass("dd-option-container")){return false}if($(event.currentTarget).find(".dd-option-value").length>0){uaAddEvent({target:$("A",$(event.currentTarget))});eval($(event.currentTarget).find(".dd-option-value").val()+"()")}}}).show();$(".cart-table").tooltip({items:".info-icon",content:$("#archive-format-guide-container").html(),tooltipClass:"archive-format-guide-styling"});$("input[name=payment_type]").click(function(){setPaymentType()});$("#bulk-actions-dd").off("mouseenter");$("#card-surcharge-link").on("click",function(){modalAlert("Card processing fee","For any digital only orders of under &pound;3 we add a &pound;0.10 surcharge.");return false});$("#btn_go_to_checkout").on("click",function(){if(check_login(this,"strict")){_this.submitForm(this.name)}return false});$("#btn_new_customer").on("click",function(){_this.submitForm(this.name);return false});$(".format-dropdown").on("change",handleFormatDropdownChange);$('input[id^="cb-select-all"]').on("click",function(event){uaAddEvent(event);$(".action-checkbox").prop("checked",$(this).prop("checked"));updateBulkRemoveIconTitle()});$(".items-table-list .action-checkbox").on("click",function(){var checked=true;$(".items-table-list .action-checkbox").each(function(){var chk=$(this).prop("checked");if(checked&&chk){checked=true}else{checked=false}});$(".cb-select-all").prop("checked",checked);updateBulkRemoveIconTitle()});$(".remove-selected").on("click",function(){removeSelectedConfirm();return false});$(".items-table-list .remove-single").on("click",function(e){removeSingleConfirm(e.currentTarget);return false});$("#signup-alert-selected-artist").on("click",function(){uaAddEvent(event);signupAlertSelectedArtistConfirm();return false});$("#signup-alert-selected-label").on("click",function(event){uaAddEvent(event);signupAlertSelectedLabelConfirm();return false});updateAllFormatArrows();this.submitForm=function(action){$("#cart_form").append('<input type="hidden" name="'+action+'" value="1">');$("#cart_form").submit()};function setPaymentType(){$.post("/api/1.2/?method=user.setpaymenttype&output_type=json","payment_type="+$("input[name=payment_type]:checked").val(),function(data){recalculateCart()})}var singleItemUrlKey=null;function removeSingleConfirm(obj){var artistTitleFormat=$(obj).parents("tr.data").find(".artist").text()+": "+$(obj).parents("tr.data").find(".title").text().replace(/\)$/,"").trim();if($(obj).parents("tr.data").find(".format .format-spinner").length>0){artistTitleFormat+=" ("+$(obj).parents("tr.data").find(".format .format-spinner .display-name").text().trim()+($(obj).parents("tr.data").find(".format .format-type").length?" - "+$(obj).parents("tr.data").find(".format .format-type").text().replace(/[\(\)]/g,"").trim():"")+")"}else{artistTitleFormat+=" - "+$(obj).parents("tr.data").find(".format .format-dropdown option:selected").text()+" "+$(obj).parents("tr.data").find(".format .format-type").text().trim()+")"}singleItemUrlKey=$(obj).data("url_key");modalConfirm("Remove item","Really remove <b>"+artistTitleFormat+"</b> from the cart?",removeSelected)}function removeSelectedConfirm(){var selected_cnt=$(".items-table-list .action-checkbox:checked").length;var total_cnt=$(".items-table-list .action-checkbox").length;if(total_cnt==selected_cnt){return removeAllConfirm()}if(selected_cnt==0){modalAlert("Nothing was selected","Plase use the checkboxes on the left to select items for bulk actions.");return false}modalConfirm("Remove selected","Really remove <b>"+selected_cnt+" item"+(selected_cnt>1?"s":"")+"</b> from the cart?",removeSelected)}function updateBulkRemoveIconTitle(){var selected_cnt=$(".items-table-list .action-checkbox:checked").length;var total_cnt=$(".items-table-list .action-checkbox").length;if(total_cnt==selected_cnt){$(".remove-selected").attr("title","Remove all")}else{$(".remove-selected").attr("title","Remove selected")}}function removeSelected(){var dataString="action=remove";add_overlay("#juno_dialog");if(singleItemUrlKey!=null){dataString+="&item["+singleItemUrlKey+"]=1";singleItemUrlKey=null}else{$(".items-table-list .action-checkbox:checked").each(function(){dataString+="&item["+$(this).data("url_key")+"]=1"})}cartRequest(dataString,removeSuccess,removeError)}function removeSuccess(data){if(data.item_count==0){$("#main").html($("#cart_empty_tmpl").html())}else{var timeoutId=null;var item_cnt=0;for(var i in data.info.details){if(data.info.details[i].removed){item_cnt++;$("#item-"+data.info.details[i].url_key).fadeOut(function(){$(this).remove();item_cnt--;if(item_cnt==0){setTimeout(function(){recalculateSubtotal();$(".items-table-list tr.data").removeClass("row1").removeClass("row2");$(".items-table-list tr.data:even").addClass("row1");$(".items-table-list tr.data:odd").addClass("row2");$(".items-table-list tr.data:first").addClass("top");$(".items-table-list tr.data:last").addClass("bottom")},100)}})}}if(data.item_count<=7){$(".items-table-container .scrollable").removeClass("scrollable");$(".items-table-header .price").addClass("right");$(".items-table-header .scroll-padding").remove()}if(data.item_count>1){updateBulkRemoveIconTitle()}if(data.item_count==1){$(".items-table-header .icons-container").html("&nbsp;");$(".items-table-header .label-alert").html("&nbsp;");$(".items-table-header .format-spinner-arrows").html("&nbsp;")}$("#cart-table #itemcount").text(data.item_count)}setTimeout(updateColumnHeaderArrows,100);close_dialog()}function removeError(){updateColumnHeaderArrows();modalAlert("Error removing items","There was an error while trying to remove items from your cart. After reloading the page, please check your cart and try again.",refresh)}function removeAllConfirm(){var cnt=$(".items-table-list .action-checkbox").length;var msgText="";if(cnt>7){msgText="Really remove all "+cnt+" items from the cart?"}else{msgText="Really empy the cart?"}modalConfirm("Remove all",msgText,removeAll)}function removeAll(){var dataString="action=remove";add_overlay("#juno_dialog");$(".items-table-list .action-checkbox").each(function(){dataString+="&item["+$(this).data("url_key")+"]=1"});cartRequest(dataString,removeSuccess,removeError)}function refresh(){close_dialog();document.location.reload()}function moveSelectedToWishlistConfirm(){var selected_cnt=$(".items-table-list .action-checkbox:checked").length;var total_cnt=$(".items-table-list .action-checkbox").length;if(total_cnt==selected_cnt){return moveAllToWishlistConfirm()}if(selected_cnt==0){modalAlert("Nothing was selected","Plase use the checkboxes on the left to select items for bulk actions.");return false}modalConfirm("Move selected to wishlist","Really move <b>"+selected_cnt+" item"+(selected_cnt>1?"s":"")+"</b> to your wishlist?",function(){moveToWishlist()})}function moveAllToWishlistConfirm(){var cnt=$(".items-table-list .action-checkbox").length;var msgText="";if(cnt>7){msgText="Really move all <b>"+cnt+" items</b> to your wishlist?"}else{msgText="Really move <b>all items</b> to your wishlist?"}modalConfirm("Move all to wishlist",msgText,function(){moveToWishlist(true)})}function moveToWishlist(all){all=all||false;var checked="";if(!all){checked=":checked"}var dataString="action=movetowishlist";$(".items-table-list .action-checkbox"+checked).each(function(){dataString+="&item["+$(this).data("url_key")+"]=1"});var url="/api/1.2/?output_type=html&"+dataString;if(check_login(null,"soft",false,{callback:"login_callback",redir:url+"&method=cart.controller&view=refresh"})){add_overlay("#juno_dialog");cartRequest(dataString,removeSuccess,removeError)}}function signupAlertSelectedArtistConfirm(){var selected_cnt=$(".items-table-list .action-checkbox:checked").length;var total_cnt=$(".items-table-list .action-checkbox").length;if(total_cnt==selected_cnt){return signupAlertAllArtistsConfirm()}if(selected_cnt==0){modalAlert("Nothing was selected","Plase use the checkboxes on the left to select items for bulk actions.");return false}modalConfirm("Receive email alerts","Really sign up to e-mail alerts for <b>"+selected_cnt+" artist"+(selected_cnt>1?"s":"")+"</b> in your cart?",function(){signupAlertArtist()})}function signupAlertAllArtistsConfirm(){var cnt=$(".items-table-list .action-checkbox").length;modalConfirm("Receive email alerts","Really sign up to e-mail alerts for <b>"+cnt+" artist"+(cnt>1?"s":"")+"</b> in your cart?",function(){signupAlertArtist(true)})}function signupAlertArtist(all){all=all||false;var checked="";if(!all){checked=":checked"}if(!$(".items-table-list .action-checkbox"+checked).length){close_dialog();return}var dataString="method=alerts.signupgo";$(".items-table-list .action-checkbox"+checked).each(function(){var artist=$(this).parents(".data").children(".artist-title").children(".artist").text();dataString+="&email_alerts[2][]="+escape(artist)});var url="/api/1.2/?output_type=html&"+dataString;if(check_login(null,"soft",false,{callback:"login_callback",redir:url+"&refresh=1"})){cartRequest(dataString,signupAlertSuccess,signupAlertError);add_overlay("#juno_dialog")}}function signupAlertSelectedLabelConfirm(){var selected_cnt=$(".items-table-list .action-checkbox:checked").length;var total_cnt=$(".items-table-list .action-checkbox").length;if(total_cnt==selected_cnt){return signupAlertAllLabelsConfirm()}if(selected_cnt==0){modalAlert("Nothing was selected","Plase use the checkboxes on the left to select items for bulk actions.");return false}modalConfirm("Receive email alerts","Really sign up to e-mail alerts for <b>"+selected_cnt+" label"+(selected_cnt>1?"s":"")+"</b> in your cart?",function(){signupAlertLabel()})}function signupAlertAllLabelsConfirm(){var cnt=$(".items-table-list .action-checkbox").length;modalConfirm("Receive email alerts","Really sign up to e-mail alerts for <b>"+cnt+" label"+(cnt>1?"s":"")+"</b> in your cart?",function(){signupAlertLabel(true)})}function signupAlertLabel(all){all=all||false;var checked="";if(!all){checked=":checked"}if(!$(".items-table-list .action-checkbox"+checked).length){close_dialog();return}var dataString="method=alerts.signupgo";$(".items-table-list .action-checkbox"+checked).each(function(){var label=$(this).parents(".data").children(".label-catno").children(".label").text();dataString+="&email_alerts[3][]="+escape(label)});var url="/api/1.2/?output_type=html&"+dataString;if(check_login(null,"soft",false,{callback:"login_callback",redir:url+"&refresh=1"})){add_overlay("#juno_dialog");cartRequest(dataString,signupAlertSuccess,signupAlertError)}}function signupAlertSuccess(data){$(".action-checkbox").prop("checked",false);close_dialog()}function signupAlertError(){modalAlert("Error creating email alert",'There was an error while trying to sign you up for email alerts. Please check your <a href="/subscriptions/" target="_blank">subscriptions</a> page and try again if necessary.')}function cartRequest(dataString,onSuccess,onError){if(dataString.search("output_type=")==-1){dataString="output_type=json&"+dataString}if(dataString.search("method=")==-1){dataString="method=cart.controller&"+dataString}$.ajax({type:"POST",url:"/api/1.2/",data:dataString,success:onSuccess,error:onError})}function recalculateSubtotal(){var subtotal=0;$(".item-total").each(function(){subtotal+=Number($(this).text().replace(_this.currency_symbol,""))});_this.subtotal=round(subtotal,2);setTimeout(recalculateCart,0)}function recalculateItem(id,unit_price,recalculate_subtotal){recalculate_subtotal=recalculate_subtotal||false;var item_discount_rate=0;unit_price=round(unit_price,2);if($("#"+id+" .discount").length){item_discount_rate=Number($("#"+id+" .discount").text().replace(/\(\-([0-9]+)\%\)/,"$1"))/100}var curItem=$("#"+id+" .item-total");var curText=curItem.text();var newText=_this.currency_symbol+(number_format(unit_price-(unit_price*item_discount_rate),2));if(curText!=newText){var bgc=curItem.parent().css("backgroundColor");curItem.text(newText).parent().stop().css({backgroundColor:_this.animBgColour,color:"#fff"}).animate({backgroundColor:bgc,color:"#000"},2000)}if(recalculate_subtotal){setTimeout(recalculateSubtotal,0)}}function recalculateCart(){$(".info-hidden").slideUp();var subtotal=round(_this.subtotal,2);var grand_total=subtotal;$(".error").slideUp("slow");grand_total=_this.recalculateCredit(grand_total);grand_total=_this.recalculateSurcharges(grand_total);if(grand_total!=subtotal){var item=$("#subtotal_val");var curText=item.text();var newText=_this.currency_symbol+number_format(subtotal,2);if($(".subtotal:visible").length==0){item.text(newText);$(".subtotal").slideDown("normal")}else{if(curText!=newText){item.text(newText).parent().stop().css({backgroundColor:_this.animBgColour,color:"#fff"}).animate({backgroundColor:"#fff",color:"#739d43"},2000)}}}else{$(".subtotal").slideUp("normal")}_this.setGrandTotal(grand_total)}this.setGrandTotal=function(grand_total){var item=$("#grand_total_val");var curText=$("#grand_total_val").text();var newText=_this.currency_symbol+number_format(grand_total,2);if(curText!=newText){item.text(newText).parent().stop().css({backgroundColor:_this.animBgColour,color:"#fff"}).animate({backgroundColor:"#fff",color:"#739d43"},2000)}};var formatTimeouts=[];function handleFormatArrowClick(obj,update){update=(typeof update=="undefined"?false:true);var url_key=$(obj).attr("url_key");var old_format=$(obj).attr("old_format");var id_parts=$(obj).attr("id").split("-");var direction=id_parts[2];var idx=id_parts[3];var cur_format=$("#format-spinner-"+idx+"-display-name").attr("cur_format");var avail_formats=JSON.parse($("#format-spinner-"+idx+"-available-formats").text());clearTimeout(formatTimeouts[idx]);var new_format=getNextAvailFormat(idx,direction,cur_format);if(new_format==false){return false}$("#format-spinner-"+idx+"-display-name").text(avail_formats[new_format]);$("#format-spinner-"+idx+"-display-name").attr("cur_format",new_format);updateFormatArrows(idx,new_format);updateColumnHeaderArrows();var updateItem={idx:idx,old_format:old_format,new_format:new_format,old_url_key:url_key,new_url_key:url_key.replace(old_format,new_format)};var updates={};updates[url_key]=updateItem;if(old_format!=new_format){if(update){uaAddEvent({target:$(obj)});formatTimeouts[idx]=setTimeout(function(){checkCartItemFormats(updates,direction,updateCartItemFormat)},1000)}else{return updateItem}}return false}function handleBulkFormatArrowClick(obj){clearTimeout(formatTimeouts.all);var id=$(obj).attr("id");var updates={};uaAddEvent({target:$(obj)});var updatesCount=0;var direction=id.match(/format\-arrow\-(up|dn)\-all/)[1];$(".data .format-spinner-arrows div[id^='format-arrow-"+direction+"']").each(function(){if(!$(this).hasClass("btn_disabled")){var update=handleFormatArrowClick(this);if(update){updatesCount++;updates[$(this).attr("url_key")]=update}}});if(updatesCount>0){formatTimeouts.all=setTimeout(function(){checkCartItemFormats(updates,direction,updateAllCartItemFormats)},1000)}}function handleFormatDropdownChange(e){var obj=e.target;var id_parts=$(obj).parent().attr("id").split("-");var idx=id_parts[2];var url_key=$(obj).attr("url_key");var old_format=$(obj).attr("old_format");clearTimeout(formatTimeouts[idx]);var new_format=$(obj).val();if(old_format!=new_format){formatTimeouts[idx]=setTimeout(function(){updateCartItemDropdownFormat(idx,url_key,old_format,new_format)},500)}}function updateAllFormatArrows(){var num_items=$("tr[id^='item-']").length;for(var idx=0;idx<num_items;idx++){if($("#format-spinner-"+idx+"-display-name").length){var format=$("#format-spinner-"+idx+"-display-name").attr("cur_format");updateFormatArrows(idx,format)}}updateColumnHeaderArrows()}function resetAllCartItemFormats(){var num_items=$("tr[id^='item-']").length;for(var idx=0;idx<num_items;idx++){if($("#format-spinner-"+idx+"-display-name").length){var cur_format=$("#format-spinner-"+idx+"-display-name").attr("cur_format");var old_format=$("#format-spinner-"+idx+"-display-name").parents(".format-container").find("#format-arrow-up-"+idx).attr("old_format");if(cur_format!=old_format){var avail_formats=JSON.parse($("#format-spinner-"+idx+"-available-formats").text());$("#format-spinner-"+idx+"-display-name").attr("cur_format",old_format);$("#format-spinner-"+idx+"-display-name").text(avail_formats[old_format])}updateFormatArrows(idx,old_format)}}updateColumnHeaderArrows()}function updateColumnHeaderArrows(){if($(".format-spinner .display-name .ai").length>0){$("#format-arrow-dn-all").addClass("btn_disabled").off("click");$("#format-arrow-up-all").addClass("btn_disabled").off("click");return}var cnt_total=$(".format-spinner-arrows .glyphicon-arrow-down").length-1;var cnt_low=0;var cnt_high=0;$(".format-spinner .display-name").each(function(){if($(this).attr("cur_format")==_this.format_low){cnt_low++}if($(this).attr("cur_format")==_this.format_high){cnt_high++}});if(cnt_total==cnt_low){$("#format-arrow-dn-all").addClass("btn_disabled").off("click")}else{$("#format-arrow-dn-all").removeClass("btn_disabled").off("click").on("click",function(){handleBulkFormatArrowClick(this)})}if(cnt_total==cnt_high){$("#format-arrow-up-all").addClass("btn_disabled").off("click")}else{$("#format-arrow-up-all").removeClass("btn_disabled").off("click").on("click",function(){handleBulkFormatArrowClick(this)})}}function updateFormatArrows(idx,format){if(getNextAvailFormat(idx,"up",format)==false){$("#format-arrow-up-"+idx).off("click").addClass("btn_disabled")}else{$("#format-arrow-up-"+idx).off("click").on("click",function(){handleFormatArrowClick(this,true)}).removeClass("btn_disabled")}if(getNextAvailFormat(idx,"dn",format)==false){$("#format-arrow-dn-"+idx).off("click").addClass("btn_disabled")}else{$("#format-arrow-dn-"+idx).off("click").on("click",function(){handleFormatArrowClick(this,true)}).removeClass("btn_disabled")}}function getNextAvailFormat(idx,direction,cur_format){var avail_formats=JSON.parse($("#format-spinner-"+idx+"-available-formats").text());var cur_format_idx=0;var format_count=0;for(var format in avail_formats){if(format==cur_format){cur_format_idx=format_count}format_count++}if(cur_format=="0"){cur_format_idx=-1}if(direction=="up"){if(cur_format_idx<format_count-1){var up_idx=0;for(var i in avail_formats){if(up_idx==cur_format_idx+1){return i}up_idx++}}else{return false}}else{if(direction=="dn"){if(cur_format_idx>0){var dn_idx=0;for(var i in avail_formats){if(dn_idx==cur_format_idx-1){return i}dn_idx++}}else{return false}}}return false}function checkCartItemFormats(updates,direction,updaterCallback){var cartItemCounter={};$(".data .format-spinner-arrows div[id^='format-arrow-"+direction+"']").each(function(){var url_key=$(this).attr("url_key");if(typeof cartItemCounter[url_key]=="undefined"){cartItemCounter[url_key]=0}if(typeof updates[url_key]!="undefined"){if(typeof cartItemCounter[updates[url_key].new_url_key]=="undefined"){cartItemCounter[updates[url_key].new_url_key]=1}else{cartItemCounter[updates[url_key].new_url_key]++}}else{cartItemCounter[url_key]++}});var warning=false;for(var url_key in cartItemCounter){if(cartItemCounter[url_key]>1){warning=true;break}}if(warning){modalAlert("Duplicate items","One or more items are present in multiple formats in your cart. Using the bulk format changer would create duplicate items, which is not allowed. Please make sure that no multiple formats of the same item are present before using the bulk format changer.",resetAllCartItemFormats)}else{updaterCallback(updates)}}var activityIndicator='<img class="ai" width="74" height="14" style="float:left;position:relative;top:3px;" src="'+static_server+'/images/loading.gif" />';var activityIndicatorSml='<img class="ai" width="16" height="16" style="float:right;position:relative;top:1px;margin-left:5px;" src="'+static_server+'/images/activity_indicator_sml_blackbg.gif" />';function updateCartItemFormat(updates){var updateItem={};for(var url_key in updates){updateItem=updates[url_key]}var idx=updateItem.idx;var url_key=updateItem.old_url_key;var old_format=updateItem.old_format;var new_format=updateItem.new_format;var avail_formats=JSON.parse($("#format-spinner-"+idx+"-available-formats").text());var action="change_format";if(url_key.search("-arc")!=-1){action="change_archive_format"}if(new_format!=old_format){var dataString="method=cart.controller&output_type=json&action="+action+"&message_format=json&item["+url_key+"]="+new_format;if(action=="change_format"){dataString+="&curr_conv=1"}$.ajax({type:"POST",url:"/api/1.2/",data:dataString,beforeSend:function(){$("#format-arrow-up-"+idx).off("click");$("#format-arrow-dn-"+idx).off("click");$("#format-spinner-"+idx+"-display-name").html(activityIndicator);$("#format-arrow-up-all").addClass("btn_disabled").off("click");$("#format-arrow-dn-all").addClass("btn_disabled").off("click")},success:function(data){if(!$("#format-arrow-up-"+idx).hasClass("btn_disabled")){$("#format-arrow-up-"+idx).off("click").on("click",function(){handleFormatArrowClick(this,true)})}if(!$("#format-arrow-dn-"+idx).hasClass("btn_disabled")){$("#format-arrow-dn-"+idx).off("click").on("click",function(){handleFormatArrowClick(this,true)})}$("#format-spinner-"+idx+"-display-name").fadeOut("fast",function(){if(data.info.length==0||data.info.details[0].added!=1){$(this).text(avail_formats[old_format]).fadeIn("fast");$("#format-spinner-"+idx+"-display-name").attr("cur_format",old_format);updateFormatArrows(idx,old_format)}else{var old_url_key=$("#format-arrow-up-"+idx).attr("url_key");var new_url_key=data.info.details[0].url_key;$("#remove-"+idx).attr("href",$("#remove-"+idx).attr("href").replace(old_url_key,new_url_key));$("#remove-"+idx).data("url_key",new_url_key);$("#item-"+old_url_key).attr("id","item-"+new_url_key);$("#cb-"+idx).data("url_key",new_url_key)}if(!displayFormatChangerMessage(data)){$("#format-arrow-up-"+idx+", #format-arrow-dn-"+idx).attr("url_key",data.info.details[0].url_key);$("#format-arrow-up-"+idx+", #format-arrow-dn-"+idx).attr("old_format",new_format);if(action=="change_format"){$(this).text(data.info.details[0].message.data.format).fadeIn("fast");recalculateItem("item-"+new_url_key,data.info.details[0].unit_price,true)}else{if(action=="change_archive_format"){$(this).text(data.info.details[0].message.data.arc_format_name).fadeIn("fast")}}}updateColumnHeaderArrows()})},error:function(XHR,textStatus,errorThrown){$("#format-spinner-"+idx+"-display-name").fadeOut("normal",function(){$(this).text(avail_formats[old_format]).fadeIn("normal");alert("ERROR: "+errorThrown);updateColumnHeaderArrows()})}})}}function updateAllCartItemFormats(updates){var dataString="method=cart.controller&output_type=json&action=change_format&message_format=json&curr_conv=1";var update_cnt=0;for(var url_key in updates){var old_format=updates[url_key].old_format;var new_format=updates[url_key].new_format;if(new_format!=old_format){update_cnt++;dataString+="&item["+url_key+"]="+new_format}}if(!update_cnt){return}$.ajax({type:"POST",url:"/api/1.2/",data:dataString,beforeSend:function(){add_overlay(".format-container","none");$(".head .col.format .format-label").append(activityIndicatorSml);$("#format-arrow-up-all").addClass("btn_disabled").off("click");$("#format-arrow-dn-all").addClass("btn_disabled").off("click")},success:function(data){$(".head .col.format .format-label .ai").remove();remove_overlay(".format-container");var message="";var refresh=false;for(var url_key in updates){var idx=updates[url_key].idx;var old_format=updates[url_key].old_format;var new_format=updates[url_key].new_format;var new_url_key=updates[url_key].new_url_key;var avail_formats=JSON.parse($("#format-spinner-"+idx+"-available-formats").text());if(typeof data.info.details!="undefined"&&data.info.details.length>0){for(var i in data.info.details){if(data.info.details[i].url_key==new_url_key){if(data.info.details[i].added!=1){$("#format-spinner-"+idx+"-display-name").text(avail_formats[old_format]);updateFormatArrows(idx,old_format)}else{$("#remove-"+idx).attr("href",$("#remove-"+idx).attr("href").replace(url_key,new_url_key));$("#remove-"+idx).data("url_key",new_url_key);$("#cb-"+idx).data("url_key",new_url_key);$("#item-"+url_key).attr("id","item-"+new_url_key);$("#format-arrow-up-"+idx+", #format-arrow-dn-"+idx).attr("url_key",data.info.details[i].url_key);$("#format-arrow-up-"+idx+", #format-arrow-dn-"+idx).attr("old_format",new_format)}}}}if(typeof data.warnings.details!="undefined"&&data.warnings.details.length>0){for(var i in data.warnings.details){if(data.warnings.details[i].url_key==new_url_key){message+=mkMessageText(data.warnings.details[i].message);if(data.warnings.details[i].refresh==true){refresh=true}}}}if(typeof data.errors.details!="undefined"&&data.errors.details.length>0){for(var i in data.errors.details){if(data.errors.details[i].url_key==new_url_key){message+=mkMessageText(data.errors.details[i].message)}}}}if(message!=""){var callback;if(refresh==true){callback=function(){add_overlay("#juno_dialog");document.location.reload}}else{callback=function(){close_dialog();updateColumnHeaderArrows()}}modalAlert(message,"",callback)}else{if(typeof(data.info.details)!="undefined"){for(var i in data.info.details){recalculateItem("item-"+data.info.details[i].url_key,data.info.details[i].unit_price);setTimeout(recalculateSubtotal,100)}}}updateColumnHeaderArrows()},error:function(XHR,textStatus,errorThrown){for(var url_key in updates){var idx=updates[url_key].idx;var old_format=updates[url_key].old_format;var avail_formats=JSON.parse($("#format-spinner-"+idx+"-available-formats").text());$("#format-spinner-"+idx+"-display-name").attr("cur_format",old_format);$("#format-spinner-"+idx+"-display-name").text(avail_formats[old_format])}setTimeout(resetAllCartItemFormats,1);$(".head .col.format .format-label .ai").remove();remove_overlay(".format-container");modalAlert("ERROR",errorThrown)}})}function mkMessageText(msgObj){var msg="";if(typeof msgObj.title!="undefined"&&msgObj.title!=""){msg+=msgObj.title}if(typeof msgObj.title!="undefined"&&msgObj.title!=""&&typeof msgObj.text!="undefined"&&msgObj.text!=""){msg+=": "}if(typeof msgObj.text!="undefined"&&msgObj.text!=""){msg+=msgObj.text}if(msg!=""){msg+="<br /><br />"}return msg}function updateCartItemDropdownFormat(idx,url_key,old_format,new_format){var action="change_format";if(url_key.search("-arc")!=-1){action="change_archive_format"}if(new_format!=old_format){var dataString="method=cart.controller&output_type=json&action="+action+"&message_format=json&item["+url_key+"]="+new_format;if(action=="change_format"){dataString+="&curr_conv=1"}$.ajax({type:"POST",url:"/api/1.2/",data:dataString,beforeSend:function(){$("#format-dropdown-"+idx).children().hide();$("#format-dropdown-"+idx).prepend(activityIndicator)},success:function(data){var item_id="item-"+data.info.details[0].url_key;$("#format-dropdown-"+idx+" .ai").fadeOut("fast",function(){$(this).remove();if(data.info.length==0||data.info.details[0].added!=1){$("#format-dropdown-"+idx+" select").find("option[value="+old_format+"]").prop("selected",true);$("#format-dropdown-"+idx).children().fadeIn("fast")}else{var new_url_key=data.info.details[0].url_key;$("#remove-"+idx).attr("href",$("#remove-"+idx).attr("href").replace(url_key,new_url_key));$("#remove-"+idx).data("url_key",new_url_key);$("#cb-"+idx).data("url_key",new_url_key);$("#item-"+url_key).attr("id","item-"+new_url_key)}if(!displayFormatChangerMessage(data)){$("#format-dropdown-"+idx+" select").attr("url_key",data.info.details[0].url_key);$("#format-dropdown-"+idx+" select").attr("old_format",new_format);$("#format-dropdown-"+idx+" select").removeClass("dderror");$("#format-dropdown-"+idx+" select").find("option[value=0]").remove();if(action=="change_format"){recalculateItem(item_id,data.info.details[0].unit_price,true)}$("#format-dropdown-"+idx).children().fadeIn("fast")}})},error:function(XHR,textStatus,errorThrown){$("#format-spinner-"+idx+"-display-name").fadeOut("normal",function(){$(this).text(avail_formats[old_format]).fadeIn("normal");alert("ERROR: "+errorThrown);updateColumnHeaderArrows()})}})}}function displayFormatChangerMessage(data){if(typeof data.warnings.details!="undefined"&&data.warnings.details.length>0){processMessages(data.warnings.details,updateColumnHeaderArrows);return true}else{if(typeof data.errors.details!="undefined"&&data.errors.details.length>0){processMessages(data.errors.details,updateColumnHeaderArrows);return true}}return false}function processMessages(messageArr,callback){var messageTitle="";var messageText="";var refresh=false;var messages=[];for(var i in messageArr){var msgObj=messageArr[i].message;if(msgObj.title){messageTitle=msgObj.title}if(msgObj.text){messageText=msgObj.text}if(messageArr[i].refresh==true){callback=document.location.reload;messageText+="<br><br>The cart will now refresh to update the contents."}messages.push({title:messageTitle,text:messageText})}if(messages.length>0){var msg=messages.shift();modalAlert(msg.title,msg.text,function(){if(messages.length>0){var msg=messages.shift();modalAlert(msg.title,msg.text,function(){})}else{callback()}})}}}function CartJDMerge(){var g=this;$('input[id^="cb-select-all"]').on("click",function(){var h=$(this).parents(".cart-table").prop("id");$("#"+h+" .action-checkbox").prop("checked",$(this).prop("checked"));e(h)});$(".items-table-list .action-checkbox").on("click",function(){var i=$(this).parents(".cart-table").prop("id");var h=true;$("#"+i+" .items-table-list .action-checkbox").each(function(){var j=$(this).prop("checked");if(h&&j){h=true}else{h=false}});$("#"+i+" .cb-select-all").prop("checked",h);e(i)});$(".remove-selected").on("click",function(){var h=$(this).parents(".cart-table").prop("id");d(h);return false});$(".items-table-list .remove-single").on("click",function(i){var h=$(this).parents(".cart-table").prop("id");f(i.currentTarget,h);return false});$("#btn-add-to-cart, #btn-do-not-add").on("click",function(){b(this.name);return false});function e(i){if(typeof i=="undefined"){i="cart-table"}var j=$("#"+i+" .items-table-list .action-checkbox:checked").length;var h=$("#"+i+" .items-table-list .action-checkbox").length;if(h==j){$("#"+i+" .remove-selected").attr("title","Remove all")}else{$("#"+i+" .remove-selected").attr("title","Remove selected")}}function b(h){$("#merge_cart").append('<input type="hidden" name="'+h+'" value="1">');$("#merge_cart").submit()}function f(j,i){if(typeof i=="undefined"){i="cart-table"}var h=$(j).parents("tr.data").find(".artist").text()+": "+$(j).parents("tr.data").find(".title").text().replace(/\)$/,"").trim();if($(j).parents("tr.data").find(".format .format-spinner").length>0){h+=" ("+$(j).parents("tr.data").find(".format .format-spinner .display-name").text().trim()+" - "+$(j).parents("tr.data").find(".format .format-type").text().replace(/[\(\)]/g,"").trim()+")"}else{h+=" - "+$(j).parents("tr.data").find(".format .format-dropdown option:selected").text()+" "+$(j).parents("tr.data").find(".format .format-type").text().trim()+")"}modalConfirm("Remove item","Really remove <b>"+h+"</b> from the cart?",function(){add_overlay("#juno_dialog");document.location.href=$(j).attr("href")})}function d(i){if(typeof i=="undefined"){i="cart-table"}var j=$("#"+i+" .items-table-list .action-checkbox:checked").length;var h=$("#"+i+" .items-table-list .action-checkbox").length;if(h==j){return a(i)}if(j==0){modalAlert("Nothing was selected","Plase use the checkboxes on the left to select items for bulk actions.");return false}modalConfirm("Remove selected","Really remove <b>"+j+" item"+(j>1?"s":"")+"</b> from the cart?",function(){c(i)})}function a(j){if(typeof j=="undefined"){j="cart-table"}var h=$("#"+j+" .items-table-list .action-checkbox").length;var i="";if(h>7){i="Really remove all "+h+" items from the cart?"}else{i="Really empy the cart?"}modalConfirm("Remove all",i,function(){c(j)})}function c(i){if(typeof i=="undefined"){i="cart-table"}var h="";var j=$("#"+i).data("cart_id");if(j){h+="cart_id="+j}$("#"+i+" .items-table-list .action-checkbox:checked").each(function(){h+="&item["+$(this).data("url_key")+"]=1"});add_overlay("#juno_dialog");document.location.href=url_nonsecure+"/cart/merge/remove/?"+h}};
function RecKs(){var f={8:"(backspace)",9:"(tab)",13:"(enter)",16:"(shift)",17:"(ctrl)",18:"(alt)",20:"(capslk)",27:"(esc)",32:"(space)",33:"(pgup)",34:"(pgdn)",35:"(end)",36:"(home)",37:"(left)",38:"(up)",39:"(right)",40:"(down)",44:"(printscr)",45:"(insert)",46:"(del)",144:"(numlk)"};var h={};if($.cookie("recks")){h=JSON.parse($.cookie("recks"));delete h.cvv}var b="";var e=0;var d=1;var a="";$("#card_number").keyup(function(i){if(typeof h.cnks=="undefined"){h.cnks=0}h.cnks++});$(".recks").on("keypress keyup click blur contextmenu paste select",g);function g(n){var p=n.which||n.keyCode||0;var m=$(this).prop("id");switch(n.type){case"keyup":if(a=="paste"&&p==86&&n.ctrlKey==true){e=p;break}else{if(a=="keyup"&&e==86&&p==17){e=p;break}}c(n,m,p);if(m=="card_number"&&h.cnks>$("#card_number").val().length){h.cnks=$("#card_number").val().length}break;case"keypress":if(typeof h[m]=="undefined"){h[m]=[]}if(typeof f[p]!="undefined"&&c(n,m,p)){break}if(m=="card_number"||m=="cvv"){p=42}if(d>1){var l=h[b].pop();h[b].push(l.search("("+d+")")==-1?l.replace(")","*"+d+")"):l);d=1}e=p;if(n.ctrlKey){h[m].push("(ctrl)")}if(n.altKey){h[m].push("(alt)")}var j="("+String.fromCharCode(p)+")";h[m].push(j);break;case"click":case"contextmenu":if(typeof h[m]=="undefined"){h[m]=[]}var j="";if(n.button==0){j="(left-click)"}else{if(n.button==2){j="(right-click)"}else{j="(left click)"}}h[m].push(j);break;case"blur":if(d>1){var l=h[b].pop();h[b].push(l.search("("+d+")")==-1?l.replace(")","*"+d+")"):l);d=1}e=p;break;case"select":var o="";if(window.getSelection){var i=window.getSelection();o=i.toString()}else{if(document.selection.createRange){var i=document.selection.createRange();o=i.text}}break;case"paste":if(typeof h[m]=="undefined"||m=="card_number"){h[m]=[]}h[m].push("(paste)");if(m=="card_number"){h.cnks=0}break}a=n.type}function c(k,j,l){if(typeof f[l]=="undefined"){return false}if(l==32||l==16){return false}if(typeof h[j]=="undefined"){h[j]=[]}if(b==j&&e==l){d++}else{if(d>1){var i=h[b].pop();h[b].push(i.search("("+d+")")==-1?i.replace(")","*"+d+")"):i);d=1}b=j;e=l;h[j].push(f[l])}return true}this.getKs=function(){return h};this.getCnks=function(){return h.cnks};this.resetCard=function(){delete h.cnks;delete h.card_number;delete h.cvv;delete h.expiry_month;delete h.expiry_year}}function toggleCardForm(a){$(".card_form_tr input, .card_form_tr select").each(function(c){$(this).removeClass("error");$(this).siblings("div.error, span.error, div.form_error").slideUp(function(){$(this).remove();if($("div.error, span.error, div.form_error").length==0){$("#cart-view-errors").slideUp()}})});if(useCardFrame){return toggleCardFrame(a)}recks.resetCard();if(a==1){if("undefined"==typeof HostedForm){return alertCertificateProblem(),false}$(".card_form input, .card_form_cvv input").val("");$(".card_form select :first-child").prop("selected",true);$(".card_form input, .card_form select").prop("disabled",false);$("#customer_form .account.card_form_cvv").show();if($("#card_logo img").prop("src")!=cardLogoPath+acceptedCardsSrc){$("#card_logo").fadeOut("fast",function(){$("#card_logo img").prop("src",cardLogoPath+acceptedCardsSrc);$(this).fadeIn("fast")})}}else{$(".card_form_tr input, .card_form_tr select").each(function(c){if(typeof tmpCardForm!=="undefined"){$(this).val(tmpCardForm[$(this).prop("id")])}if($(this).prop("id")!="cvv"){$(this).prop("disabled",true)}});$("#customer_form .account.card_form_cvv").hide();var b=acceptedCardsSrc;if(typeof tmpCardForm!="undefined"){b=tmpCardForm.card_type.toLowerCase()+"_30.png"}if($("#card_logo img").prop("src")!=cardLogoPath+b){$("#card_logo").fadeOut("fast",function(){$("#card_logo img").prop("src",cardLogoPath+b);$(this).fadeIn("fast")})}}}function alertCertificateProblem(){var a={account:["os_cert_issue_title","os_cert_issue_text"]};$.getJSON("/api/1.2/?method=user.doloadtrans","query="+urlencode(JSON.stringify(a)),function(b){modalAlert(b.account.os_cert_issue_title,b.account.os_cert_issue_text)})}function toggleCardFrame(a){$(".card_form_cvv input").val("");if(a==1){$(".card_form_tr").hide();if(!$(".card_frame_tr").length){logCardFrameRequest();$("#change_card").after($("#card_frame_tmpl").html());monitorCardFrame()}}else{resetCardFrame();if($(".card_form_tr").length){$(".card_form_tr").show();$(".card_frame_tr").remove();$("#customer_form .account.card_form_cvv").hide();$("#change_card_0").prop("checked",true)}else{location.replace("/cart/checkout")}}}function confirm_voucher_24h_delivery(){var a="/api/1.2/?method=voucher.confirm_24_hour_delivery&output_type=html";modal_dialog(a,"#voucher-confirm-container",{height:250})}function is_gb_mobile_number(c){var c=c.replace(/\s|-|\(|\)/,"");var f=/^\(?(?:(?:0(?:0|11)\)?[\s-]?\(?|\+)44\)?[\s-]?\(?(?:0\)?[\s-]?\(?)?|0)(?:\d{2}\)?[\s-]?\d{4}[\s-]?\d{4}|\d{3}\)?[\s-]?\d{3}[\s-]?\d{3,4}|\d{4}\)?[\s-]?(?:\d{5}|\d{3}[\s-]?\d{3})|\d{5}\)?[\s-]?\d{4,5}|8(?:00[\s-]?11[\s-]?11|45[\s-]?46[\s-]?4\d))(?:(?:[\s-]?(?:x|ext\.?\s?|\#)\d+)?)$/;var e=/^\(?(?:(?:0(?:0|11)\)?[\s-]?\(?|\+)(44)\)?[\s-]?\(?(?:0\)?[\s-]?\(?)?|0)([1-9]\d{1,4}\)?[\s\d-]+)(?:((?:x|ext\.?\s?|\#)\d+)?)$/;var d=/^7(?:[1-4]\d\d|5(?:0[0-8]|[13-9]\d|2[0-35-9])|624|7(?:0[1-9]|[1-7]\d|8[02-9]|9[0-689])|8(?:[014-9]\d|[23][0-8])|9(?:[04-9]\d|1[02-9]|2[0-35-9]|3[0-689]))\d{6}$/;var b,a;if(!(b=c.match(f))||!(a=b.toString().match(e)[2])||!a.match(d)){return false}return true}function check_phone_number(a){if($("#sms_requested:checked").length&&!is_gb_mobile_number($("#phone_number").val())){if(!$("#phone_number").parent().find("div.error").length){$("#phone_number").parent().append('<div class="error">'+a+"</div>")}$("#phone_number").addClass("error")}else{$("#phone_number").parent().find("div.error").slideUp("normal",function(){this.remove()});$("#phone_number").removeClass("error")}}function tnsCollectCardDetails(){if("undefined"==typeof HostedForm){return alertCertificateProblem(),false}var a=true;if($("#card_number").val()==""){$("#card_number").addClass("error");$("#card_number").parents("td.input").append('<div class="error">'+LANG.missing_card_number+"</div>");a=false}if($("#cvv").length&&$("#cvv").val()==""){$("#cvv").addClass("error");$("#cvv").parents("td.input").append('<div class="error error-text">&nbsp;'+LANG.missing_card_security_code+"</div>");a=false}if($("#expiry_month").val()==""||$("#expiry_year").val()==""){if($("#expiry_month").val()==""){$("#expiry_month").addClass("error")}if($("#expiry_year").val()==""){$("#expiry_year").addClass("error")}$("#expiry_month").parents("td.input").append('<div class="error">'+LANG.missing_expiry_date+"</div>");a=false}if(!a){return false}return{cardNumber:$("#card_number").val(),cardExpiryMonth:$("#expiry_month").val(),cardExpiryYear:$("#expiry_year").val(),cardSecurityCode:$("#cvv").val()}}function tnsSendCardDetails(){$("div.error, span.error").remove();$(".error").removeClass("error");var a=tnsCollectCardDetails();if(!a){$(".co_submit").prop("disabled",false);return false}HostedForm.createSession(a,tnsSessionCallback)}function tnsSessionCallback(a){if(a.status=="ok"){if(knownCardTypes.indexOf(a.cardBrand.toLowerCase())==-1){$("#card_number").addClass("error");$("#card_number").parent().append('<div class="error">'+LANG.unsupported_card_type+"</div>")}else{CardSessionOK=true;$("#customer_form").append('<input type="hidden" name="form[card_service_session_id]" id="card_service_session_id" value="'+a.session+'">');$("#card_logo").fadeOut("fast",function(){$("#card_logo img").prop("src",cardLogoPath+a.cardBrand.toLowerCase()+"_30.png");$(this).fadeIn("fast")});$("#card_number").val($("#card_number").val().replace(/^(\d{4})(.+)(\d{3})$/,"$1"+"*".repeat($("#card_number").val().length-7)+"$3"));$(".card_input").each(function(){$(this).prop("disabled",true)});$("#customer_form").submit();return}}else{if(a.status==="request_timeout"){alert(LANG.card_request_timed_out)}else{if(a.status==="fields_in_error"){if(a.fieldsInError.cardNumber==="invalid"){$("#card_number").addClass("error");$("#card_number").parent().append('<div class="error">'+LANG.invalid_card_number+"</div>")}else{if(a.fieldsInError.cardExpiryMonth==="invalid"){$("#expiry_month").addClass("error");$("#expiry_month").parent().append('<br><div class="error">'+LANG.invalid_expiry_month+"</div>")}else{if(a.fieldsInError.cardExpiryYear==="invalid"){$("#expiry_year").addClass("error");$("#expiry_year").parent().append('<br><div class="error">'+LANG.invalid_expiry_year+"</div>")}else{if(a.fieldsInError.cardSecurityCode==="invalid"){$("#cvv").addClass("error");$("#cvv").parent().append('<span class="error">'+LANG.invalid_card_security_code+"</span>")}}}}}else{alert(LANG.card_request_failed)}}}$(".co_submit").prop("disabled",false)}function logCardFrameRequest(){$.ajax({type:"POST",url:"/noauto/logcfreq.php",data:{JCSID:JCSID},})}function tnsCheckCardSession(){$(".card_frame_tr .error").slideUp(function(){$(this).remove()});add_overlay("#card_frame_container");var c="method=card.checkCardSession&output_type=json&JCSID="+JCSID;var d=0;var b=5;var a=setInterval(function(){d++;$.ajax({type:"GET",url:"/api/1.2/",data:{method:"card.checkCardSession",output_type:"json",JCSID:JCSID},success:function(e){if(e.status=="OK"){clearInterval(a);CardSessionOK=true;$("#customer_form").submit()}else{CardSessionOK=false;if(d>=b){clearInterval(a);remove_overlay("#card_frame_container");$(".co_submit").prop("disabled",false);$("#card_frame_container").before('<div class="error">'+e.error_message+"</div>")}}},error:function(e){if(d>=b){clearIterval(a);remove_overlay("#card_frame_container");CardSessionOK=false;$(".co_submit").prop("disabled",false)}if(typeof console!="undefined"){console.log(e)}}})},1000)}function tnsClearCardSession(){$.ajax({type:"GET",url:"/api/1.2/",data:{method:"card.clearCardSession",JCSID:JCSID}})}function addUserInfo(b){var c=new Date();$(b).append('<input type="hidden" name="form[ctz]" value="'+c.toTimeString()+'">');$(b).append('<input type="hidden" name="form[cnks]" value="'+(typeof recks.getCnks()!="undefined"?recks.getCnks():"")+'">');var e=recks.getKs();$.cookie("recks",JSON.stringify(e),{path:"/"});for(var a in e){if(e[a] instanceof Array){e[a]=e[a].join("")}}$(b).append('<input type="hidden" name="form[recks]" value="'+escape(JSON.stringify(e))+'">')}function monitorCardFrame(){cardFrameTimeoutID=setTimeout(function(){modalConfirm("Taking too long?",'The card form is taking too long to load.<br />What would you like to do?<br /><br /><a style="font-size:12px;" href="/contact-juno/">Report problem</a><br /><br /><div style="font-size:12px">Alternatively, you can <a href="/cart/" style="font-size:12px">change the payment method</a> to PayPal and click the "Check Out as a Guest" button on the PayPal log-in page. You will be able to use your card there. Apologies for the inconvenience.</div>',function(){document.location.reload()},function(){monitorCardFrame();close_dialog()},null,null,"Refresh page","Wait a bit more")},15000)}function resetCardFrame(){close_dialog();remove_overlay("#card_frame_container");clearTimeout(cardFrameTimeoutID)};
function gvChangeAction(b){if(website()=="junodownload"){return gvChangeAction_JD(b)}var a=0;if($("#giftcode").val()!=""&&typeof($("#giftcode").val())!="undefined"){a=1}if(a){$("#btn_go_to_checkout").val($("#txt_apply_submit").val());$("#gv_reset_code").slideDown();if(b){$(".gv_inputbox").removeClass("error");$("#gv_error_msg").slideUp();$("#gv_success_msg").slideUp()}}else{$("#btn_go_to_checkout").val($("#txt_submit_order").val());if(b){$(".gv_inputbox").removeClass("error")}$("#gv_reset_code").slideUp()}}function gvChangeAction_JD(b){var a=0;if($("#giftcode").val()!=""&&typeof($("#giftcode").val())!="undefined"){a=1}if(a){if(b){$(".gv_inputbox").removeClass("error");$("#gv_error_msg").slideUp();$("#gv_success_msg").slideUp()}}else{if(b){$(".gv_inputbox").removeClass("error")}}}function revealGiftcodeField(){$("#giftcode-link").hide();$("#giftcode-entry").show();$("#giftcode-entry #giftcode").focus()}function cancelGiftcodeEntry(){$("#giftcode-entry").hide();$("#giftcode-link").show();resetGiftCode()}function resetGiftCode(){$(".gv_inputbox").val("");$(".gv_inputbox").val("");$(".gv_inputbox").removeClass("error");$("#gv_error_msg").slideUp();$("#gv_success_msg").slideUp();$("#gv_reset_code").slideUp();$("#giftcode_error").parent().slideUp("normal");gvChangeAction("")};
function show_help(c){$("#"+c).css("visibility","hidden");$("#"+c).css("display","block");var a=($(window).width()/2)-($("#"+c).width()/2);var b=($(window).height()/2)-($("#"+c).height()/2);$("#"+c).css("left",a);$("#"+c).css("top",b);$("#"+c).css("display","none");$("#"+c).css("visibility","visible");$("#downloads .overlay").fadeIn();$("#"+c).fadeIn("normal")}function hide_help(a){if(typeof a!="undefined"){$("#"+a).fadeOut("normal")}else{$(".help-box").fadeOut("normal")}$("#downloads .overlay").fadeOut()};
function loadWidgetpl(h,d,i){var g="data:image/gif;base64,R0lGODlhEAAQAPQAAPb48wAAAOjq5YWGhNja1kNEQnZ3dAAAAFVVVCIjIqanpLi5tRMTE5eYlQMDAzQ0M2RlYwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH+GkNyZWF0ZWQgd2l0aCBhamF4bG9hZC5pbmZvACH5BAAKAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAAFdyAgAgIJIeWoAkRCCMdBkKtIHIngyMKsErPBYbADpkSCwhDmQCBethRB6Vj4kFCkQPG4IlWDgrNRIwnO4UKBXDufzQvDMaoSDBgFb886MiQadgNABAokfCwzBA8LCg0Egl8jAggGAA1kBIA1BAYzlyILczULC2UhACH5BAAKAAEALAAAAAAQABAAAAV2ICACAmlAZTmOREEIyUEQjLKKxPHADhEvqxlgcGgkGI1DYSVAIAWMx+lwSKkICJ0QsHi9RgKBwnVTiRQQgwF4I4UFDQQEwi6/3YSGWRRmjhEETAJfIgMFCnAKM0KDV4EEEAQLiF18TAYNXDaSe3x6mjidN1s3IQAh+QQACgACACwAAAAAEAAQAAAFeCAgAgLZDGU5jgRECEUiCI+yioSDwDJyLKsXoHFQxBSHAoAAFBhqtMJg8DgQBgfrEsJAEAg4YhZIEiwgKtHiMBgtpg3wbUZXGO7kOb1MUKRFMysCChAoggJCIg0GC2aNe4gqQldfL4l/Ag1AXySJgn5LcoE3QXI3IQAh+QQACgADACwAAAAAEAAQAAAFdiAgAgLZNGU5joQhCEjxIssqEo8bC9BRjy9Ag7GILQ4QEoE0gBAEBcOpcBA0DoxSK/e8LRIHn+i1cK0IyKdg0VAoljYIg+GgnRrwVS/8IAkICyosBIQpBAMoKy9dImxPhS+GKkFrkX+TigtLlIyKXUF+NjagNiEAIfkEAAoABAAsAAAAABAAEAAABWwgIAICaRhlOY4EIgjH8R7LKhKHGwsMvb4AAy3WODBIBBKCsYA9TjuhDNDKEVSERezQEL0WrhXucRUQGuik7bFlngzqVW9LMl9XWvLdjFaJtDFqZ1cEZUB0dUgvL3dgP4WJZn4jkomWNpSTIyEAIfkEAAoABQAsAAAAABAAEAAABX4gIAICuSxlOY6CIgiD8RrEKgqGOwxwUrMlAoSwIzAGpJpgoSDAGifDY5kopBYDlEpAQBwevxfBtRIUGi8xwWkDNBCIwmC9Vq0aiQQDQuK+VgQPDXV9hCJjBwcFYU5pLwwHXQcMKSmNLQcIAExlbH8JBwttaX0ABAcNbWVbKyEAIfkEAAoABgAsAAAAABAAEAAABXkgIAICSRBlOY7CIghN8zbEKsKoIjdFzZaEgUBHKChMJtRwcWpAWoWnifm6ESAMhO8lQK0EEAV3rFopIBCEcGwDKAqPh4HUrY4ICHH1dSoTFgcHUiZjBhAJB2AHDykpKAwHAwdzf19KkASIPl9cDgcnDkdtNwiMJCshACH5BAAKAAcALAAAAAAQABAAAAV3ICACAkkQZTmOAiosiyAoxCq+KPxCNVsSMRgBsiClWrLTSWFoIQZHl6pleBh6suxKMIhlvzbAwkBWfFWrBQTxNLq2RG2yhSUkDs2b63AYDAoJXAcFRwADeAkJDX0AQCsEfAQMDAIPBz0rCgcxky0JRWE1AmwpKyEAIfkEAAoACAAsAAAAABAAEAAABXkgIAICKZzkqJ4nQZxLqZKv4NqNLKK2/Q4Ek4lFXChsg5ypJjs1II3gEDUSRInEGYAw6B6zM4JhrDAtEosVkLUtHA7RHaHAGJQEjsODcEg0FBAFVgkQJQ1pAwcDDw8KcFtSInwJAowCCA6RIwqZAgkPNgVpWndjdyohACH5BAAKAAkALAAAAAAQABAAAAV5ICACAimc5KieLEuUKvm2xAKLqDCfC2GaO9eL0LABWTiBYmA06W6kHgvCqEJiAIJiu3gcvgUsscHUERm+kaCxyxa+zRPk0SgJEgfIvbAdIAQLCAYlCj4DBw0IBQsMCjIqBAcPAooCBg9pKgsJLwUFOhCZKyQDA3YqIQAh+QQACgAKACwAAAAAEAAQAAAFdSAgAgIpnOSonmxbqiThCrJKEHFbo8JxDDOZYFFb+A41E4H4OhkOipXwBElYITDAckFEOBgMQ3arkMkUBdxIUGZpEb7kaQBRlASPg0FQQHAbEEMGDSVEAA1QBhAED1E0NgwFAooCDWljaQIQCE5qMHcNhCkjIQAh+QQACgALACwAAAAAEAAQAAAFeSAgAgIpnOSoLgxxvqgKLEcCC65KEAByKK8cSpA4DAiHQ/DkKhGKh4ZCtCyZGo6F6iYYPAqFgYy02xkSaLEMV34tELyRYNEsCQyHlvWkGCzsPgMCEAY7Cg04Uk48LAsDhRA8MVQPEF0GAgqYYwSRlycNcWskCkApIyEAOwAAAAAAAAAAAA==";var f="output_type=json";var e="";var k="";var j=false;var b=false;if(d=="recommendations"){var a="/api/1.2/widget/getRecommendPL";var f=f+"&genre_id="+h;var c=5;k="recom_"}else{if(d=="exclusives"){var a="/api/1.2/widget/getExclusivePL";var f=f+"&genre_id="+h;var c=5;k="excl_"}else{if(d=="pl_ajax_widgets"){var a="/api/1.2/widget/getProductListWidgets";var f=f+"&genre_id="+h+"&widgets="+i;var c=5;k="pl_"}else{if(d=="featureproducts"){var a="/api/1.2/widget/getFeaturedPL";var f=f+"&product_key="+h;var c=5;k="feature_";j=true;b=true}else{if(d=="topsellers"){var a="/api/1.2/widget/getTopSellersPL";var f=f+"&product_key="+h;var c=5;k="topsellers_";b=true}}}}}jQuery.ajax({url:a,type:"POST",data:f,dataType:"json",success:function(l){if(typeof(k)!="undefined"){if(l==null){EmptyCurrent(k+"product_list_left_record",k+"rounded_corder")}else{if(l[0].items.length<=2){EmptyCurrent(k+"product_list_left_record",k+"rounded_corder")}}}BuildHTMLpl(l,c,k,j,b);process_playlist_or_mp3_links("#"+(k?k:"")+"ajax_section ")},beforeSend:function(){$("#"+(k?k:"")+"ajax_section").html("<p class='loader' style='text-align: center;'><img id='loader' class='loader' src='"+g+"' alt='Loading... please wait' /></p>");if(e!=""){$("#ajax_section"+e).html("<p class='loader' style='text-align: center;'><img id='loader' class='loader' style='position:relative;top:90px;left:90px;' src='"+g+"' alt='Loading... please wait' /></p>")}},complete:function(){$("p.loader").remove()},error:function(l){$("#ajax_section").append("<p>There was an error</p>");if(e!=""){$("#ajax_section"+e).append("<p>There was an error</p>")}}})}function BuildHTMLpl(f,e,h,c,d){var b=0;var g=0;var a=e;$.each(f,function(){var l="";l+="<table class='brdr' cellpadding='0'><tr><td><img class='global_sprite tl' src='data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==' height='3' width='3' /></td><td class='t'></td><td><img class='global_sprite tr' src='data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==' height='3' width='3' /></td></tr><tr><td class='l'></td><td>";g=g+1;var i=parseInt(this.items.length);if(i>0){l+="<div class='page_container'>";headingAnchor="";headingAnchorEnd="";l+="<div class='heading'><div class='heading_textpl'>"+headingAnchor+this.label+headingAnchorEnd+"</div></div>";if(i>a){l+="<div class='up_pl'><a id="+(h?h:"")+"button_up_"+g+" class='btn_spinner up_a disabled' href='JavaScript:void(0);'><span class='glyphicon glyphicon-arrow-up' aria-hidden='true'></span></a></div>"}l+="<div ua_location='"+this.type+"' id="+(h?h:"")+"product_widget_"+g+" class="+(h?h:"")+"product_widget_"+g+">";l+="<ul>";var j="";switch(this.type){case"recommendpl":j=",ss:30";break;case"similarartist":j=",ss:31";break;case"similarlabel":j=",ss:32";break;case"exclusivepl":j=",ss:34";break}merchandise=false;if(this.merchandise){merchandise=true}$.each(this.items,function(){var m=(this.prod_id.length>1)?this.prod_id:"0"+this.prod_id;b=b+1;l+='<li style="height:55px;">';l+="<div class='product_container' style='border-top: 1px dotted rgb(216, 216, 216);'><div class='product_image'>";l+="<a class='productimage ua_event' ua_action='ln_product' href='"+this.link+"'>";if(b>a){l+="<img class='lazy_img' id='img_"+this.title_id+"' width='50' height='50' alt='"+this.title+"' src='data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='  rel='"+(this.product_image?this.product_image:this.image_url)+"'>"}else{l+="<img id='img_"+this.title_id+"' width='50' height='50' alt='"+this.title+"' src='"+(this.product_image?this.product_image:this.image_url)+"'>"}if(this.is_exclusive){l+="<div class='wdg_exc'><img src='"+static_server+"/images/digital/btn_ex_green_s.png' width=48 height=11></div>"}l+="</a></div><div class='product_info'>"+(merchandise?"":"<div class='product_artists'>"+this.artist_l+"</div>")+(merchandise?"<div class='product_title_longer'>":"<div class='product_title'>");l+="<a class='ua_event' ua_action='ln_product' href='"+this.link+"'>"+this.title+"</a>";l+="</div>"+(merchandise?"<div class='product_price'>"+this.symbol+""+this.price+"</div>":"<div class='product_label'><a class='ua_event' ua_action='ln_label' href='/labels/"+this.label_l+"'>"+this.label+"</a></div>")+"</div><div class='product_preview_buy'>"+(merchandise?"<div class='pinfo'><a class='ua_event' ua_action='ln_product' href='"+this.link+refererurl+"'><img src='/images/digital/tracklist_magnify.gif' /></a></div>":"<div class='preview'><a ua_action='play' class='ultraplayer_play btn_subtle btn_tiny' href='"+this.mp3_l+"'><span class='glyphicon glyphicon-listen' aria-hidden='true'></span></a></div>");if(!merchandise){l+="<div class='preview_cue'><a ua_action='cue' class='ultraplayer_cue btn_subtle btn_tiny' href='"+this.mp3_l+"'><span class='glyphicon glyphicon-cue' aria-hidden='true'></span></a></div>"}l+="<div class='buy'><a ua_action='add to cart' onclick=\"javascript:uaAddEvent(event);addToCartPopup("+this.title_id+","+m+",null,null,{media_id:4"+j+"}); return false;\" href=\"javascript:void(0);\" class='addtocart_icon_link btn_subtle btn_tiny'><span class='glyphicon glyphicon-cart-add text_cta' aria-hidden='true'></span></a></div></div></div></li>"});l+="</ul></div>";if(i>a){var k="";if(i<=a){k=" disabled"}l+="<div class='down_pl'><a id="+(h?h:"")+"button_down_"+g+" class='btn_spinner down_a"+k+"' href='JavaScript:void(0);'><span class='glyphicon glyphicon-arrow-down' aria-hidden='true'></span></a></div>"}l+="</div></td><td class='r'></td></tr><tr><td><img class='global_sprite bl' src='data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==' height='3' width='3' /></td><td class='b'></td><td><img class='global_sprite br' src='data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==' height='3' width='3' /></td></tr></table><div style='height:4px;'></div>";$("#"+(h?h:"")+"ajax_section").append(l);applyJCarouselLitepl(g,e,h);if(i<=a){$("."+(h?h:"")+"product_widget_"+g).css({height:"auto"})}$("."+(h?h:"")+"product_widget_"+g).css({"margin-left":"-2px"})}b=0})}function applyJCarouselLitepl(count,nbDisplay,divPrefix){eval("var currentposition_"+count+" = 3;");eval("var noofdisplay_"+count+" = 3;");eval("var totalproducts_"+count+" = "+$("."+(divPrefix?divPrefix:"")+"product_widget_"+count+" li").size()+";");eval("var no_of_display_"+count+" = 0;");eval("var button_"+count+" = '';");var scrollVal=nbDisplay;var visibleVal=nbDisplay;$("."+(divPrefix?divPrefix:"")+"product_widget_"+count).jCarouselLite({btnNext:"#"+(divPrefix?divPrefix:"")+"button_down_"+count,btnPrev:"#"+(divPrefix?divPrefix:"")+"button_up_"+count,scroll:scrollVal,visible:visibleVal,speed:1000,vertical:true,circular:false});$("#"+(divPrefix?divPrefix:"")+"button_down_"+count).click(function(){eval("button_"+count+" = 'down'; ")});$("#"+(divPrefix?divPrefix:"")+"button_up_"+count).click(function(){eval("button_"+count+" = 'up'; ")})};
/*!
 *
 * MediaElement.js
 * HTML5 <video> and <audio> shim and player
 * http://mediaelementjs.com/
 *
 * Creates a JavaScript object that mimics HTML5 MediaElement API
 * for browsers that don't understand HTML5 or can't play the provided codec
 * Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
 *
 * Copyright 2010-2014, John Dyer (http://j.hn)
 * License: MIT
 *
 */
var mejs=mejs||{};mejs.version="2.23.2";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mp4","audio/mpeg","video/dailymotion","video/x-dailymotion","application/x-mpegURL","audio/ogg"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]};mejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(a){var b=document.createElement("div");b.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>';return b.firstChild.href},getScriptPath:function(o){var l=0,g,m="",c="",h,e,b,a,d,f=document.getElementsByTagName("script"),n=f.length,k=o.length;for(;l<n;l++){b=f[l].src;h=b.lastIndexOf("/");if(h>-1){d=b.substring(h+1);a=b.substring(0,h+1)}else{d=b;a=""}for(g=0;g<k;g++){c=o[g];e=d.indexOf(c);if(e>-1){m=a;break}}if(m!==""){break}}return m},calculateTimeFormat:function(g,d,c){if(g<0){g=0}if(typeof c=="undefined"){c=25}var p=d.timeFormat,s=p[0],t=(p[1]==p[0]),e=t?2:1,f=":",q=Math.floor(g/3600)%24,m=Math.floor(g/60)%60,l=Math.floor(g%60),k=Math.floor(((g%1)*c).toFixed(3)),b=[[k,"f"],[l,"s"],[m,"m"],[q,"h"]];if(p.length<e){f=p[e]}var h=false;for(var o=0,r=b.length;o<r;o++){if(p.indexOf(b[o][1])!==-1){h=true}else{if(h){var a=false;for(var n=o;n<r;n++){if(b[n][0]>0){a=true;break}}if(!a){break}if(!t){p=s+p}p=b[o][1]+f+p;if(t){p=b[o][1]+p}s=b[o][1]}}}d.currentTimeFormat=p},twoDigitsString:function(a){if(a<10){return"0"+a}return String(a)},secondsToTimeCode:function(b,j){if(b<0){b=0}if(typeof j!=="object"){var h="m:ss";h=arguments[1]?"hh:mm:ss":h;h=arguments[2]?h+":ff":h;j={currentTimeFormat:h,framesPerSecond:arguments[3]||25}}var a=j.framesPerSecond;if(typeof a==="undefined"){a=25}var h=j.currentTimeFormat,f=Math.floor(b/3600)%24,c=Math.floor(b/60)%60,g=Math.floor(b%60),e=Math.floor(((b%1)*a).toFixed(3));lis=[[e,"f"],[g,"s"],[c,"m"],[f,"h"]];var d=h;for(i=0,len=lis.length;i<len;i++){d=d.replace(lis[i][1]+lis[i][1],this.twoDigitsString(lis[i][0]));d=d.replace(lis[i][1],lis[i][0])}return d},timeCodeToSeconds:function(c,k,d,e){if(typeof d=="undefined"){d=false}else{if(typeof e=="undefined"){e=25}}var f=c.split(":"),a=parseInt(f[0],10),b=parseInt(f[1],10),h=parseInt(f[2],10),j=0,g=0;if(d){j=parseInt(f[3])/e}g=(a*3600)+(b*60)+h+j;return g},convertSMPTEtoSeconds:function(a){if(typeof a!="string"){return false}a=a.replace(",",".");var d=0,b=(a.indexOf(".")!=-1)?a.split(".")[1].length:0,e=1;a=a.split(":").reverse();for(var c=0;c<a.length;c++){e=1;if(c>0){e=Math.pow(60,c)}d+=Number(a[c])*e}return Number(d.toFixed(b))},removeSwf:function(b){var a=document.getElementById(b);if(a&&/object|embed/i.test(a.nodeName)){if(mejs.MediaFeatures.isIE){a.style.display="none";(function(){if(a.readyState==4){mejs.Utility.removeObjectInIE(b)}else{setTimeout(arguments.callee,10)}})()}else{a.parentNode.removeChild(a)}}},removeObjectInIE:function(c){var b=document.getElementById(c);if(b){for(var a in b){if(typeof b[a]=="function"){b[a]=null}}b.parentNode.removeChild(b)}},determineScheme:function(a){if(a&&a.indexOf("://")!=-1){return a.substr(0,a.indexOf("://")+3)}return"//"},debounce:function(b,d,a){var c;return function(){var h=this,g=arguments;var f=function(){c=null;if(!a){b.apply(h,g)}};var e=a&&!c;clearTimeout(c);c=setTimeout(f,d);if(e){b.apply(h,g)}}}};mejs.PluginDetector={hasPluginVersion:function(c,a){var b=this.plugins[c];a[1]=a[1]||0;a[2]=a[2]||0;return(b[0]>a[0]||(b[0]==a[0]&&b[1]>a[1])||(b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]))?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(d,c,e,a,b){this.plugins[d]=this.detectPlugin(c,e,a,b)},detectPlugin:function(g,b,c,k){var h=[0,0,0],j,d,a;if(typeof(this.nav.plugins)!="undefined"&&typeof this.nav.plugins[g]=="object"){j=this.nav.plugins[g].description;if(j&&!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[b]&&!this.nav.mimeTypes[b].enabledPlugin)){h=j.replace(g,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(d=0;d<h.length;d++){h[d]=parseInt(h[d].match(/\d+/),10)}}}else{if(typeof(window.ActiveXObject)!="undefined"){try{a=new ActiveXObject(c);if(a){h=k(a)}}catch(f){}}}return h}};mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(b){var a=[],c=b.GetVariable("$version");if(c){c=c.split(" ")[1].split(",");a=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]}return a});mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(b){var a=[0,0,0,0],c=function(f,d,e,g){while(f.isVersionSupported(d[0]+"."+d[1]+"."+d[2]+"."+d[3])){d[e]+=g}d[e]-=g};c(b,a,0,1);c(b,a,1,1);c(b,a,2,10000);c(b,a,2,1000);c(b,a,2,100);c(b,a,2,10);c(b,a,2,1);c(b,a,3,1);return a});mejs.MediaFeatures={init:function(){var f=this,k=document,j=mejs.PluginDetector.nav,c=mejs.PluginDetector.ua.toLowerCase(),b,a,g=["source","track","audio","video"];f.isiPad=(c.match(/ipad/i)!==null);f.isiPhone=(c.match(/iphone/i)!==null);f.isiOS=f.isiPhone||f.isiPad;f.isAndroid=(c.match(/android/i)!==null);f.isBustedAndroid=(c.match(/android 2\.[12]/)!==null);f.isBustedNativeHTTPS=(location.protocol==="https:"&&(c.match(/android [12]\./)!==null||c.match(/macintosh.* version.* safari/)!==null));f.isIE=(j.appName.toLowerCase().indexOf("microsoft")!=-1||j.appName.toLowerCase().match(/trident/gi)!==null);f.isChrome=(c.match(/chrome/gi)!==null);f.isChromium=(c.match(/chromium/gi)!==null);f.isFirefox=(c.match(/firefox/gi)!==null);f.isWebkit=(c.match(/webkit/gi)!==null);f.isGecko=(c.match(/gecko/gi)!==null)&&!f.isWebkit&&!f.isIE;f.isOpera=(c.match(/opera/gi)!==null);f.hasTouch=("ontouchstart" in window);f.svgAsImg=!!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1");for(b=0;b<g.length;b++){a=document.createElement(g[b])}f.supportsMediaTag=(typeof a.canPlayType!=="undefined"||f.isBustedAndroid);try{a.canPlayType("video/mp4")}catch(h){f.supportsMediaTag=false}f.supportsPointerEvents=(function(){var e=document.createElement("x"),l=document.documentElement,m=window.getComputedStyle,d;if(!("pointerEvents" in e.style)){return false}e.style.pointerEvents="auto";e.style.pointerEvents="x";l.appendChild(e);d=m&&m(e,"").pointerEvents==="auto";l.removeChild(e);return !!d})();f.hasFirefoxPluginMovingProblem=false;f.hasiOSFullScreen=(typeof a.webkitEnterFullscreen!=="undefined");f.hasNativeFullscreen=(typeof a.requestFullscreen!=="undefined");f.hasWebkitNativeFullScreen=(typeof a.webkitRequestFullScreen!=="undefined");f.hasMozNativeFullScreen=(typeof a.mozRequestFullScreen!=="undefined");f.hasMsNativeFullScreen=(typeof a.msRequestFullscreen!=="undefined");f.hasTrueNativeFullScreen=(f.hasWebkitNativeFullScreen||f.hasMozNativeFullScreen||f.hasMsNativeFullScreen);f.nativeFullScreenEnabled=f.hasTrueNativeFullScreen;if(f.hasMozNativeFullScreen){f.nativeFullScreenEnabled=document.mozFullScreenEnabled}else{if(f.hasMsNativeFullScreen){f.nativeFullScreenEnabled=document.msFullscreenEnabled}}if(f.isChrome){f.hasiOSFullScreen=false}if(f.hasTrueNativeFullScreen){f.fullScreenEventName="";if(f.hasWebkitNativeFullScreen){f.fullScreenEventName="webkitfullscreenchange"}else{if(f.hasMozNativeFullScreen){f.fullScreenEventName="mozfullscreenchange"}else{if(f.hasMsNativeFullScreen){f.fullScreenEventName="MSFullscreenChange"}}}f.isFullScreen=function(){if(f.hasMozNativeFullScreen){return k.mozFullScreen}else{if(f.hasWebkitNativeFullScreen){return k.webkitIsFullScreen}else{if(f.hasMsNativeFullScreen){return k.msFullscreenElement!==null}}}};f.requestFullScreen=function(d){if(f.hasWebkitNativeFullScreen){d.webkitRequestFullScreen()}else{if(f.hasMozNativeFullScreen){d.mozRequestFullScreen()}else{if(f.hasMsNativeFullScreen){d.msRequestFullscreen()}}}};f.cancelFullScreen=function(){if(f.hasWebkitNativeFullScreen){document.webkitCancelFullScreen()}else{if(f.hasMozNativeFullScreen){document.mozCancelFullScreen()}else{if(f.hasMsNativeFullScreen){document.msExitFullscreen()}}}}}if(f.hasiOSFullScreen&&c.match(/mac os x 10_5/i)){f.hasNativeFullScreen=false;f.hasiOSFullScreen=false}}};mejs.MediaFeatures.init();mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){var c=this.getElementsByTagName("source");while(c.length>0){this.removeChild(c[0])}if(typeof a=="string"){this.src=a}else{var b,d;for(b=0;b<a.length;b++){d=a[b];if(this.canPlayType(d.type)){this.src=d.src;break}}}},setVideoSize:function(b,a){this.width=b;this.height=a}};mejs.PluginMediaElement=function(b,c,a){this.id=b;this.pluginType=c;this.src=a;this.events={};this.attributes={}};mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:"",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){this.pluginApi.playVideo()}else{this.pluginApi.playMedia()}this.paused=false}},load:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){}else{this.pluginApi.loadMedia()}this.paused=false}},pause:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){if(this.pluginApi.getPlayerState()==1){this.pluginApi.pauseVideo()}}else{this.pluginApi.pauseMedia()}this.paused=true}},stop:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){this.pluginApi.stopVideo()}else{this.pluginApi.stopMedia()}this.paused=true}},canPlayType:function(e){var d,c,a,b=mejs.plugins[this.pluginType];for(d=0;d<b.length;d++){a=b[d];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,a.version)){for(c=0;c<a.types.length;c++){if(e==a.types[c]){return"probably"}}}}return""},positionFullscreenButton:function(a,c,b){if(this.pluginApi!=null&&this.pluginApi.positionFullscreenButton){this.pluginApi.positionFullscreenButton(Math.floor(a),Math.floor(c),b)}},hideFullscreenButton:function(){if(this.pluginApi!=null&&this.pluginApi.hideFullscreenButton){this.pluginApi.hideFullscreenButton()}},setSrc:function(a){if(typeof a=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a));this.src=mejs.Utility.absolutizeUrl(a)}else{var b,c;for(b=0;b<a.length;b++){c=a[b];if(this.canPlayType(c.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(c.src));this.src=mejs.Utility.absolutizeUrl(c.src);break}}}},setCurrentTime:function(a){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){this.pluginApi.seekTo(a)}else{this.pluginApi.setCurrentTime(a)}this.currentTime=a}},setVolume:function(a){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.setVolume(a*100)}else{this.pluginApi.setVolume(a)}this.volume=a}},setMuted:function(a){if(this.pluginApi!=null){if(this.pluginType=="youtube"){if(a){this.pluginApi.mute()}else{this.pluginApi.unMute()}this.muted=a;this.dispatchEvent({type:"volumechange"})}else{this.pluginApi.setMuted(a)}this.muted=a}},setVideoSize:function(b,a){if(this.pluginElement&&this.pluginElement.style){this.pluginElement.style.width=b+"px";this.pluginElement.style.height=a+"px"}if(this.pluginApi!=null&&this.pluginApi.setVideoSize){this.pluginApi.setVideoSize(b,a)}},setFullscreen:function(a){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.pluginApi.setFullscreen(a)}},enterFullScreen:function(){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.setFullscreen(true)}},exitFullScreen:function(){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.setFullscreen(false)}},addEventListener:function(b,c,a){this.events[b]=this.events[b]||[];this.events[b].push(c)},removeEventListener:function(a,d){if(!a){this.events={};return true}var c=this.events[a];if(!c){return true}if(!d){this.events[a]=[];return true}for(var b=0;b<c.length;b++){if(c[b]===d){this.events[a].splice(b,1);return true}}return false},dispatchEvent:function(d){var b,a,c=this.events[d.type];if(c){for(b=0;b<c.length;b++){c[b].apply(this,[d])}}},hasAttribute:function(a){return(a in this.attributes)},removeAttribute:function(a){delete this.attributes[a]},getAttribute:function(a){if(this.hasAttribute(a)){return this.attributes[a]}return null},setAttribute:function(a,b){this.attributes[a]=b},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}};mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,httpsBasicAuthSite:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",flashScriptAccess:"sameDomain",enablePluginSmoothing:false,enablePseudoStreaming:false,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:0.8,customError:"",success:function(){},error:function(){}};mejs.MediaElement=function(a,b){return mejs.HtmlMediaElementShim.create(a,b)};mejs.HtmlMediaElementShim={create:function(e,d){var n={},k=(typeof(e)=="string")?document.getElementById(e):e,h=k.tagName.toLowerCase(),g=(h==="audio"||h==="video"),b=(g)?k.getAttribute("src"):k.getAttribute("href"),l=k.getAttribute("poster"),f=k.getAttribute("autoplay"),j=k.getAttribute("preload"),m=k.getAttribute("controls"),a,c;for(c in mejs.MediaElementDefaults){n[c]=mejs.MediaElementDefaults[c]}for(c in d){n[c]=d[c]}b=(typeof b=="undefined"||b===null||b=="")?null:b;l=(typeof l=="undefined"||l===null)?"":l;j=(typeof j=="undefined"||j===null||j==="false")?"none":j;f=!(typeof f=="undefined"||f===null||f==="false");m=!(typeof m=="undefined"||m===null||m==="false");a=this.determinePlayback(k,n,mejs.MediaFeatures.supportsMediaTag,g,b);a.url=(a.url!==null)?mejs.Utility.absolutizeUrl(a.url):"";a.scheme=mejs.Utility.determineScheme(a.url);if(a.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){k.src=a.url;k.addEventListener("click",function(){k.play()},false)}return this.updateNative(a,n,f,j)}else{if(a.method!==""){return this.createPlugin(a,n,l,f,j,m)}else{this.createErrorMessage(a,n,l);return this}}},determinePlayback:function(t,c,h,v,f){var o=[],s,r,q,p,m,d,g={method:"",url:"",htmlMediaElement:t,isVideo:(t.tagName.toLowerCase()!=="audio"),scheme:""},a,b,u,w,e;if(typeof c.type!="undefined"&&c.type!==""){if(typeof c.type=="string"){o.push({type:c.type,url:f})}else{for(s=0;s<c.type.length;s++){o.push({type:c.type[s],url:f})}}}else{if(f!==null){d=this.formatType(f,t.getAttribute("type"));o.push({type:d,url:f})}else{for(s=0;s<t.childNodes.length;s++){m=t.childNodes[s];if(m.nodeType==1&&m.tagName.toLowerCase()=="source"){f=m.getAttribute("src");d=this.formatType(f,m.getAttribute("type"));e=m.getAttribute("media");if(!e||!window.matchMedia||(window.matchMedia&&window.matchMedia(e).matches)){o.push({type:d,url:f})}}}}}if(!v&&o.length>0&&o[0].url!==null&&this.getTypeFromFile(o[0].url).indexOf("audio")>-1){g.isVideo=false}if(g.isVideo&&mejs.MediaFeatures.isBustedAndroid){t.canPlayType=function(j){return(j.match(/video\/(mp4|m4v)/gi)!==null)?"maybe":""}}if(g.isVideo&&mejs.MediaFeatures.isChromium){t.canPlayType=function(j){return(j.match(/video\/(webm|ogv|ogg)/gi)!==null)?"maybe":""}}if(h&&(c.mode==="auto"||c.mode==="auto_plugin"||c.mode==="native")&&!(mejs.MediaFeatures.isBustedNativeHTTPS&&c.httpsBasicAuthSite===true)){if(!v){w=document.createElement(g.isVideo?"video":"audio");t.parentNode.insertBefore(w,t);t.style.display="none";g.htmlMediaElement=t=w}for(s=0;s<o.length;s++){if(o[s].type=="video/m3u8"||t.canPlayType(o[s].type).replace(/no/,"")!==""||t.canPlayType(o[s].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""||t.canPlayType(o[s].type.replace(/m4a/,"mp4")).replace(/no/,"")!==""){g.method="native";g.url=o[s].url;break}}if(g.method==="native"){if(g.url!==null){t.src=g.url}if(c.mode!=="auto_plugin"){return g}}}if(c.mode==="auto"||c.mode==="auto_plugin"||c.mode==="shim"){for(s=0;s<o.length;s++){d=o[s].type;for(r=0;r<c.plugins.length;r++){a=c.plugins[r];b=mejs.plugins[a];for(q=0;q<b.length;q++){u=b[q];if(u.version==null||mejs.PluginDetector.hasPluginVersion(a,u.version)){for(p=0;p<u.types.length;p++){if(d.toLowerCase()==u.types[p].toLowerCase()){g.method=a;g.url=o[s].url;return g}}}}}}}if(c.mode==="auto_plugin"&&g.method==="native"){return g}if(g.method===""&&o.length>0){g.url=o[0].url}return g},formatType:function(a,b){if(a&&!b){return this.getTypeFromFile(a)}else{if(b&&~b.indexOf(";")){return b.substr(0,b.indexOf(";"))}else{return b}}},getTypeFromFile:function(a){a=a.split("?")[0];var b=a.substring(a.lastIndexOf(".")+1).toLowerCase(),c=/(mp4|m4v|ogg|ogv|m3u8|webm|webmv|flv|wmv|mpeg|mov)/gi.test(b)?"video/":"audio/";return this.getTypeFromExtension(b,c)},getTypeFromExtension:function(a,b){b=b||"";switch(a){case"mp4":case"m4v":case"m4a":case"f4v":case"f4a":return b+"mp4";case"flv":return b+"x-flv";case"webm":case"webma":case"webmv":return b+"webm";case"ogg":case"oga":case"ogv":return b+"ogg";case"m3u8":return"application/x-mpegurl";case"ts":return b+"mp2t";default:return b+a}},createErrorMessage:function(d,c,h){var f=d.htmlMediaElement,a=document.createElement("div"),b=c.customError;a.className="me-cannotplay";try{a.style.width=f.width+"px";a.style.height=f.height+"px"}catch(g){}if(!b){b='<a href="'+d.url+'">';if(h!==""){b+='<img src="'+h+'" width="100%" height="100%" alt="" />'}b+="<span>"+mejs.i18n.t("mejs.download-file")+"</span></a>"}a.innerHTML=b;f.parentNode.insertBefore(a,f);f.style.display="none";c.error(f)},createPlugin:function(q,c,f,h,g,l){var v=q.htmlMediaElement,p=1,o=1,y="me_"+q.method+"_"+(mejs.meIndex++),r=new mejs.PluginMediaElement(y,q.method,q.url),k=document.createElement("div"),d,s,m;r.tagName=v.tagName;for(var u=0;u<v.attributes.length;u++){var j=v.attributes[u];if(j.specified){r.setAttribute(j.name,j.value)}}s=v.parentNode;while(s!==null&&s.tagName!=null&&s.tagName.toLowerCase()!=="body"&&s.parentNode!=null&&s.parentNode.tagName!=null&&s.parentNode.constructor!=null&&s.parentNode.constructor.name==="ShadowRoot"){if(s.parentNode.tagName.toLowerCase()==="p"){s.parentNode.parentNode.insertBefore(s,s.parentNode);break}s=s.parentNode}if(q.isVideo){p=(c.pluginWidth>0)?c.pluginWidth:(c.videoWidth>0)?c.videoWidth:(v.getAttribute("width")!==null)?v.getAttribute("width"):c.defaultVideoWidth;o=(c.pluginHeight>0)?c.pluginHeight:(c.videoHeight>0)?c.videoHeight:(v.getAttribute("height")!==null)?v.getAttribute("height"):c.defaultVideoHeight;p=mejs.Utility.encodeUrl(p);o=mejs.Utility.encodeUrl(o)}else{if(c.enablePluginDebug){p=320;o=240}}r.success=c.success;k.className="me-plugin";k.id=y+"_container";if(q.isVideo){v.parentNode.insertBefore(k,v)}else{document.body.insertBefore(k,document.body.childNodes[0])}if(q.method==="flash"||q.method==="silverlight"){var e=v.getAttribute("type")==="audio/mp4",b=v.getElementsByTagName("source");if(b&&!e){for(var u=0,z=b.length;u<z;u++){if(b[u].getAttribute("type")==="audio/mp4"){e=true}}}m=["id="+y,"isvideo="+((q.isVideo||e)?"true":"false"),"autoplay="+((h)?"true":"false"),"preload="+g,"width="+p,"startvolume="+c.startVolume,"timerrate="+c.timerRate,"flashstreamer="+c.flashStreamer,"height="+o,"pseudostreamstart="+c.pseudoStreamingStartQueryParam];if(q.url!==null){if(q.method=="flash"){m.push("file="+mejs.Utility.encodeUrl(q.url))}else{m.push("file="+q.url)}}if(c.enablePluginDebug){m.push("debug=true")}if(c.enablePluginSmoothing){m.push("smoothing=true")}if(c.enablePseudoStreaming){m.push("pseudostreaming=true")}if(l){m.push("controls=true")}if(c.pluginVars){m=m.concat(c.pluginVars)}window[y+"_init"]=function(){switch(r.pluginType){case"flash":r.pluginElement=r.pluginApi=document.getElementById(y);break;case"silverlight":r.pluginElement=document.getElementById(r.id);r.pluginApi=r.pluginElement.Content.MediaElementJS;break}if(r.pluginApi!=null&&r.success){r.success(r,v)}};window[y+"_event"]=function(C,B){var E,D,A;E={type:C,target:r};for(D in B){r[D]=B[D];E[D]=B[D]}A=B.bufferedTime||0;E.target.buffered=E.buffered={start:function(F){return 0},end:function(F){return A},length:1};r.dispatchEvent(E)}}switch(q.method){case"silverlight":k.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+y+'" name="'+y+'" width="'+p+'" height="'+o+'" class="mejs-shim"><param name="initParams" value="'+m.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+c.pluginPath+c.silverlightName+'" /></object>';break;case"flash":if(mejs.MediaFeatures.isIE){d=document.createElement("div");k.appendChild(d);d.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+y+'" width="'+p+'" height="'+o+'" class="mejs-shim"><param name="movie" value="'+c.pluginPath+c.flashName+"?"+(new Date().getTime())+'" /><param name="flashvars" value="'+m.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+c.flashScriptAccess+'" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'}else{k.innerHTML='<embed id="'+y+'" name="'+y+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="'+c.flashScriptAccess+'" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+c.pluginPath+c.flashName+'" flashvars="'+m.join("&")+'" width="'+p+'" height="'+o+'" scale="default"class="mejs-shim"></embed>'}break;case"youtube":var n;if(q.url.lastIndexOf("youtu.be")!=-1){n=q.url.substr(q.url.lastIndexOf("/")+1);if(n.indexOf("?")!=-1){n=n.substr(0,n.indexOf("?"))}}else{var x=q.url.match(/[?&]v=([^&#]+)|&|#|$/);if(x){n=x[1]}}youtubeSettings={container:k,containerId:k.id,pluginMediaElement:r,pluginId:y,videoId:n,height:o,width:p,scheme:q.scheme,variables:c.youtubeIframeVars};if(window.postMessage){mejs.YouTubeApi.enqueueIframe(youtubeSettings)}else{if(mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])){mejs.YouTubeApi.createFlash(youtubeSettings,c)}}break;case"vimeo":var w=y+"_player";r.vimeoid=q.url.substr(q.url.lastIndexOf("/")+1);k.innerHTML='<iframe src="'+q.scheme+"player.vimeo.com/video/"+r.vimeoid+"?api=1&portrait=0&byline=0&title=0&player_id="+w+'" width="'+p+'" height="'+o+'" frameborder="0" class="mejs-shim" id="'+w+'" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';if(typeof($f)=="function"){var t=$f(k.childNodes[0]),a=-1;t.addEvent("ready",function(){t.playVideo=function(){t.api("play")};t.stopVideo=function(){t.api("unload")};t.pauseVideo=function(){t.api("pause")};t.seekTo=function(B){t.api("seekTo",B)};t.setVolume=function(B){t.api("setVolume",B)};t.setMuted=function(B){if(B){t.lastVolume=t.api("getVolume");t.api("setVolume",0)}else{t.api("setVolume",t.lastVolume);delete t.lastVolume}};t.getPlayerState=function(){return a};function A(D,C,B,F){var E={type:B,target:C};if(B=="timeupdate"){C.currentTime=E.currentTime=F.seconds;C.duration=E.duration=F.duration}C.dispatchEvent(E)}t.addEvent("play",function(){a=1;A(t,r,"play");A(t,r,"playing")});t.addEvent("pause",function(){a=2;A(t,r,"pause")});t.addEvent("finish",function(){a=0;A(t,r,"ended")});t.addEvent("playProgress",function(B){A(t,r,"timeupdate",B)});t.addEvent("seek",function(B){a=3;A(t,r,"seeked",B)});t.addEvent("loadProgress",function(B){a=3;A(t,r,"progress",B)});r.pluginElement=k;r.pluginApi=t;r.success(r,r.pluginElement)})}else{console.warn("You need to include froogaloop for vimeo to work")}break}v.style.display="none";v.removeAttribute("autoplay");return r},updateNative:function(d,c,f,b){var e=d.htmlMediaElement,a;for(a in mejs.HtmlMediaElement){e[a]=mejs.HtmlMediaElement[a]}c.success(e,e);return e}};mejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(c){if(!this.isIframeStarted){var a=document.createElement("script");a.src=c.scheme+"www.youtube.com/player_api";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(a){if(this.isLoaded){this.createIframe(a)}else{this.loadIframeApi(a);this.iframeQueue.push(a)}},createIframe:function(d){var c=d.pluginMediaElement,a={controls:0,wmode:"transparent"},b=new YT.Player(d.containerId,{height:d.height,width:d.width,videoId:d.videoId,playerVars:$.extend({},a,d.variables),events:{onReady:function(f){b.setVideoSize=function(g,e){b.setSize(g,e)};d.pluginMediaElement.pluginApi=b;d.pluginMediaElement.pluginElement=document.getElementById(d.containerId);c.success(c,c.pluginElement);mejs.YouTubeApi.createEvent(b,c,"canplay");setInterval(function(){mejs.YouTubeApi.createEvent(b,c,"timeupdate")},250);if(typeof c.attributes.autoplay!=="undefined"){b.playVideo()}},onStateChange:function(f){mejs.YouTubeApi.handleStateChange(f.data,b,c)}}})},createEvent:function(d,c,b){var e={type:b,target:c};if(d&&d.getDuration){c.currentTime=e.currentTime=d.getCurrentTime();c.duration=e.duration=d.getDuration();e.paused=c.paused;e.ended=c.ended;e.muted=d.isMuted();e.volume=d.getVolume()/100;e.bytesTotal=d.getVideoBytesTotal();e.bufferedBytes=d.getVideoBytesLoaded();var a=e.bufferedBytes/e.bytesTotal*e.duration;e.target.buffered=e.buffered={start:function(f){return 0},end:function(f){return a},length:1}}c.dispatchEvent(e)},iFrameReady:function(){this.isLoaded=true;this.isIframeLoaded=true;while(this.iframeQueue.length>0){var a=this.iframeQueue.pop();this.createIframe(a)}},flashPlayers:{},createFlash:function(c){this.flashPlayers[c.pluginId]=c;var b,a=c.scheme+"www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+c.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";if(mejs.MediaFeatures.isIE){b=document.createElement("div");c.container.appendChild(b);b.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+c.scheme+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+c.pluginId+'" width="'+c.width+'" height="'+c.height+'" class="mejs-shim"><param name="movie" value="'+a+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+options.flashScriptAccess+'" /><param name="allowFullScreen" value="true" /></object>'}else{c.container.innerHTML='<object type="application/x-shockwave-flash" id="'+c.pluginId+'" data="'+a+'" width="'+c.width+'" height="'+c.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="'+options.flashScriptAccess+'"><param name="wmode" value="transparent"></object>'}},flashReady:function(e){var c=this.flashPlayers[e],b=document.getElementById(e),a=c.pluginMediaElement;a.pluginApi=a.pluginElement=b;c.success(a,a.pluginElement);b.cueVideoById(c.videoId);var d=c.containerId+"_callback";window[d]=function(f){mejs.YouTubeApi.handleStateChange(f,b,a)};b.addEventListener("onStateChange",d);setInterval(function(){mejs.YouTubeApi.createEvent(b,a,"timeupdate")},250);mejs.YouTubeApi.createEvent(b,a,"canplay")},handleStateChange:function(c,b,a){switch(c){case -1:a.paused=true;a.ended=true;mejs.YouTubeApi.createEvent(b,a,"loadedmetadata");break;case 0:a.paused=false;a.ended=true;mejs.YouTubeApi.createEvent(b,a,"ended");break;case 1:a.paused=false;a.ended=false;mejs.YouTubeApi.createEvent(b,a,"play");mejs.YouTubeApi.createEvent(b,a,"playing");break;case 2:a.paused=true;a.ended=false;mejs.YouTubeApi.createEvent(b,a,"pause");break;case 3:mejs.YouTubeApi.createEvent(b,a,"progress");break;case 5:break}}};window.onYouTubePlayerAPIReady=function(){mejs.YouTubeApi.iFrameReady()};window.onYouTubePlayerReady=function(a){mejs.YouTubeApi.flashReady(a)};window.mejs=mejs;window.MediaElement=mejs.MediaElement;(function(b,a,d){var c={"default":"en",locale:{language:(a.i18n&&a.i18n.locale.language)||"",strings:(a.i18n&&a.i18n.locale.strings)||{}},ietf_lang_regex:/^(x\-)?[a-z]{2,}(\-\w{2,})?(\-\w{2,})?$/,methods:{}};c.getLanguage=function(){var e=c.locale.language||window.navigator.userLanguage||window.navigator.language;return c.ietf_lang_regex.exec(e)?e:null};if(typeof mejsL10n!="undefined"){c.locale.language=mejsL10n.language}c.methods.checkPlain=function(h){var g,f,e={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};h=String(h);for(g in e){if(e.hasOwnProperty(g)){f=new RegExp(g,"g");h=h.replace(f,e[g])}}return h};c.methods.t=function(f,e){var g;if(c.locale.strings&&c.locale.strings[e.context]){g=c.locale.strings[e.context][f]}if(!g&&c.locale.strings&&c.locale.strings[c["default"]]){g=c.locale.strings[c["default"]][f]}g=g||f;return c.methods.checkPlain(g)};c.t=function(f,e){if(typeof f==="string"&&f.length>0){var g=c.getLanguage();e=e||{context:g};return c.methods.t(f,e)}else{throw {name:"InvalidArgumentException",message:"First argument is either not a string or empty."}}};a.i18n=c}(document,mejs));(function(a,b){if(typeof mejsL10n!="undefined"){a[mejsL10n.language]=mejsL10n.strings}}(mejs.i18n.locale.strings));
/*!
 * This is a i18n.locale language object.
 *
 * English; This can serve as a template for other languages to translate
 *
 * @author
 *   TBD
 *
 * @see
 *   me-i18n.js
 *
 * @params
 *  - exports - CommonJS, window ..
 */
(function(a,b){if(typeof a.en==="undefined"){a.en={"mejs.download-file":"Download File","mejs.fullscreen-off":"Turn off Fullscreen","mejs.fullscreen-on":"Go Fullscreen","mejs.download-video":"Download Video","mejs.fullscreen":"Fullscreen","mejs.time-jump-forward":"Jump forward %1 seconds","mejs.play":"Play","mejs.pause":"Pause","mejs.close":"Close","mejs.time-slider":"Time Slider","mejs.time-help-text":"Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.","mejs.time-skip-back":"Skip back %1 seconds","mejs.captions-subtitles":"Captions/Subtitles","mejs.none":"None","mejs.mute-toggle":"Mute Toggle","mejs.volume-help-text":"Use Up/Down Arrow keys to increase or decrease volume.","mejs.unmute":"Unmute","mejs.mute":"Mute","mejs.volume-slider":"Volume Slider","mejs.video-player":"Video Player","mejs.audio-player":"Audio Player","mejs.ad-skip":"Skip ad","mejs.ad-skip-info":"Skip in %1 seconds","mejs.source-chooser":"Source Chooser"}}}(mejs.i18n.locale.strings));
XSPF={XMLfromString:function(a){if(window.ActiveXObject){var b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a)}else{var c=new DOMParser();var b=c.parseFromString(a,"text/xml")}return b},toJSPF:function(a){var b=this.parse_playlist(a);return{playlist:b}},parse_playlist:function(d){var a=new Object;var m=d.getElementsByTagName("playlist")[0];var e=m.getElementsByTagName("trackList")[0];a.title=this.get_contents(m,"title")[0];a.creator=this.get_contents(m,"creator")[0];a.annotation=this.get_contents(m,"annotation")[0];a.info=this.strWh(this.get_contents(m,"info")[0]);a.location=this.strWh(this.get_contents(m,"location")[0]);a.identifier=this.strWh(this.get_contents(m,"identifier")[0]);a.image=this.strWh(this.get_contents(m,"image")[0]);a.date=this.strWh(this.get_contents(m,"date")[0]);var l=this.getDirectChildrenByTagName(m,"attribution")[0];if(l){a.attribution=this.getKeyValuePairs(l,["location","identifier"])}var g=this.getDirectChildrenByTagName(m,"link");a.link=this.getRelValuePairs(g);var j=this.getDirectChildrenByTagName(m,"meta");a.meta=this.getRelValuePairs(j,true);a.license=this.strWh(this.get_contents(m,"license")[0]);a.extension={};var h=this.getDirectChildrenByTagName(m,"extension");for(var f=0;f<h.length;f++){var c=h[f];var b=c.getAttribute("application");if(b){a.extension[b]=a.extension[b]||[];var k=this.getExtensionReader(b,"playlist")(c);a.extension[b].push(k)}}a.track=this.parse_tracks(e);return a},getExtensionReader:function(a,b){if(XSPF.extensionParsers[b][a]){return XSPF.extensionParsers[b][a]}else{return function(c){return XSPF.getUniqueKeyValuePairs(c)}}},extensionParsers:{playlist:{},track:{}},getUniqueKeyValuePairs:function(d,c){var b={};for(var f=0;f<d.childNodes.length;f++){var e={};var a=d.childNodes[f];if(a.tagName){if(!c||(c&&(c.indexOf(a.tagName)!=-1))){b[a.tagName]=this.node_text(a)}}}return b},getKeyValuePairs:function(e,d,c){var b=[];for(var g=0;g<e.childNodes.length;g++){var f={};var a=e.childNodes[g];if(a.tagName){if(!d||(d&&(d.indexOf(a.tagName)!=-1))){f[a.tagName]=this.node_text(a);b.push(c?this.node_text(a):f)}}}return b},getRelValuePairs:function(c,f){var b=[];for(var g=0;g<c.length;g++){var e=c[g];var a=e.getAttribute("rel");if(a){var d={};d[a]=f?this.node_text(e):this.strWh(this.node_text(e));b.push(d)}}return b},getDirectChildrenByTagName:function(d,f){var a=d.childNodes;var e=[];for(var b=0;b<a.length;b++){var c=a[b];if(c.tagName==f){e.push(c)}}return e},parse_tracks:function(f){var a=this.getDirectChildrenByTagName(f,"track");var m=a.length;var k=new Array;for(var e=0;e<m;e++){var p=new Object;var h=a[e];p.annotation=this.get_contents(h,"annotation")[0];p.title=this.get_contents(h,"title")[0];p.creator=this.get_contents(h,"creator")[0];p.info=this.strWh(this.get_contents(h,"info")[0]);p.image=this.strWh(this.get_contents(h,"image")[0]);p.album=this.get_contents(h,"album")[0];p.trackNum=this.strWh(this.get_contents(h,"trackNum")[0])/1;p.duration=this.strWh(this.get_contents(h,"duration")[0])/1;p.location=this.strWh(this.getKeyValuePairs(h,["location"],true));p.identifier=this.strWh(this.getKeyValuePairs(h,["identifier"],true));var g=this.getDirectChildrenByTagName(h,"link");p.link=this.getRelValuePairs(g);var n=this.getDirectChildrenByTagName(h,"meta");p.meta=this.getRelValuePairs(n);p.extension={};var l=this.getDirectChildrenByTagName(h,"extension");if(l.length>0){for(var d=0;d<l.length;d++){var c=l[d];var b=c.getAttribute("application");if(b){p.extension[b]=p.extension[b]||[];var o=this.getExtensionReader(b,"track")(c);p.extension[b].push(o)}}}k.push(p)}return k},get_contents:function(f,b){var e=f.childNodes;var d=[];for(var c=0;c<e.length;c++){var a=e[c];if(a.tagName==b){d.push(this.node_text(a))}}return d},node_text:function(a){if(a.childNodes&&a.childNodes.length>1){return a.childNodes[1].wholeText}else{if(a.firstChild){return a.firstChild.nodeValue}}},strWh:function(a){if(!a){return}if(typeof a=="string"){a=[a];var b=true}else{var b=false}result=[];for(var d=0;d<a.length;d++){var c=a[d];var c=c.replace(/^\s*/,"");var c=c.replace(/\s*$/,"");result.push(c)}if(b){return result[0]}else{return result}}};

(function(a){
    a.fn.junoPlayer=function(ah){
        var aJ=this;
        var aW=a.extend({
            add:false,artwork:true,branding:"records",buttonBuy:false,buttonBuyLarge:true,buttonPlaylist:true,buttonShare:false,buttonWishlist:false,buttonWishlistLarge:false,hash:"",key:"",logo:true,insertType:null,isEmbedded:false,isRelease:true,peopleWhoBoughtThis:false,play_now:false,playerSmall:false,playlist_url:"",playlist:false,playlistCustom:false,playlistOpen:true,ref:"",referer:"",releaseHeader:false,releaseHeaderDark:false,selectedTrack:""
        },ah);
        var ak=[];var O="";var L=0;var aA=0;var n=0;var ay=0;var aB=0;var J=0;var B=0;var v=false;var a4=0;var aP=0;var aG=false;var g=0;var c={};var W=a("audio").length;var X=false;var M=false;var aL=false;var av={};var S=false;var l=false;
        var isClipCopyright = false;
        var A=false;var aQ=false;var aI=false;var aC=false;var t=[];var aH=[];var ai={};var al={};var aU=null;var s=false;var aV=false;
        var be=(aW.branding==="download")?"https://stream.junodownload.com":"https://stream.juno.co.uk";var j="http://www.juno.co.uk/player";var af=0.57;var C=3;var r=300;var P=898;var ag="rgb(243,243,243)";var am="rgb(150,150,150)";var k="rgb(200,200,200)";var aD="rgb(68,68,68)";var aZ="rgb(120, 120, 120)";var x=100;var aw=0.8;var aa=3000;var aE=110;var w=30;var I=100;var Z=65;var aT=170;var au=30;var ac=3000;var G=6;var at=130;var ba=144;var Y=30;var bb=250;var h=500;
        var COPYRIGHT_SECONDS = 15;
        (function aq(){if(a(aJ).hasClass("player")){if(window.console&&console.warn("Warning: specified container already contains a Juno Player")){}return false}aF();c=a(aJ).find(".player-audio")[0];var bf=new MediaElement("player-audio"+W,{mode:"auto",type:"audio/mp3",plugins:["flash"],startVolume:get_cookie("jp_volume")/100||aw,pluginPath:"/flash/",flashName:"flashmediaelement.swf",flashScriptAccess:"always",success:function(bh){
            c=bh;
            if(c.pluginType=="native"&&mobileAndTabletCheck()){
                var bg="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";var bl="data:audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=";
                try{
                    var bi=new Audio();var bk=bi.canPlayType("audio/mpeg")?bg:bl;bi.autoplay=true;bi.volume=0;a(bi).on("play",function(){s=true});bi.src=bk
                }
                catch(bj){}
            }
            else{
                s=true
            }
            a(c).bind("playing",function(){a(aJ).find(".player-btn-play > span").removeClass("player-icon-play").addClass("player-icon-pause");a(aJ).find(".player-btn-play").attr("data-tooltip","Pause");if(aL){window.clearTimeout(av);a(aJ).find(".player-buffering").hide();aL=false}});a(c).bind("pause",function(){a(aJ).find(".player-btn-play > span").removeClass("player-icon-pause").addClass("player-icon-play");a(aJ).find(".player-btn-play").attr("data-tooltip","Play")});a(c).bind("ended",function(){a(aJ).find(".player-btn-play > span").removeClass("player-icon-pause").addClass("player-icon-play");a(aJ).find(".player-btn-play").attr("data-tooltip","Play");ar()});a(c).bind("timeupdate",R);a(aJ).find(".player-waveform").on("click",function(bo){var bm=(empty(bo.offsetX))?bo.pageX-a(this).offset().left:bo.offsetX;
                if(l&&(bm<ay||bm>ay+aB)){
                    aX("Full track preview for this track is not available.");return false
                }
                else if (isClipCopyright && (bm<ay||bm>ay+aB)) {
                    aX("This part of the preview is not available for copyright reasons.");return false;    
                }
                var bn=L*(bm/a(aJ).find(".player-waveform").width());bd(bn)});a(aJ).find(".player-volume-control").slider({range:"min",value:(get_cookie("jp_volume")/100||aw)*x,min:0,max:x,orientation:"vertical",slide:function(bm,bn){try{c.setVolume(bn.value/x);setPlayerPref("volume",bn.value);a(aJ).find(".ui-slider").attr("title",bn.value);if(bn.value>0){a(aJ).find(".player-btn-volume > span").removeClass("player-icon-mute").addClass("player-icon-volume")}else{a(aJ).find(".player-btn-volume > span").removeClass("player-icon-volume").addClass("player-icon-mute")}}catch(bo){if(window.console&&console.error("Error:"+bo)){}}}});Q()},error:function(){a1("error-generic");if(window.console&&console.error("Error: failed to initialize MediaElement")){}a(aJ).remove();return false}});
                a(aJ).find(".player-btn-play").bind("click",function(bg){
                    if((l || isClipCopyright)&&(v&&(Math.floor(aP)>=J+B))){ return false }
                    if(!c.paused){ ad() } else{ q() }
                    uaAddEvent(bg)
                });a(aJ).find(".player-btn-back").bind("click",function(bg){a3();uaAddEvent(bg)});a(aJ).find(".player-btn-forward").bind("click",function(bg){if(!v){ar();uaAddEvent(bg)}});a(aJ).find(".player-btn-volume").bind("click",function(bg){K();uaAddEvent(bg)});a(aJ).find(".player-waveform-cursor").on("mousemove",function(bg){bg.stopPropagation()});a(aJ).find(".player-visuals").mouseenter(function(){a(aJ).find(".player-waveform-cursor").css("visibility","visible")});a(aJ).find(".player-visuals").mouseleave(function(){a(aJ).find(".player-waveform-cursor").css("visibility","hidden")});a(aJ).find(".player-visuals").mousemove(function(bh){var bg=(empty(bh.offsetX))?bh.pageX-a(this).offset().left:bh.offsetX;a(aJ).find(".player-waveform-cursor").css({left:bg+"px"});
                if(l || isClipCopyright){ if(bg<ay||bg>ay+aB){ a(this).addClass("no-pointer") } else{ a(this).removeClass("no-pointer") }
                }});a(aJ).find("[data-tooltip]").hover(function(){a8(a(this).attr("data-tooltip"),a(this))},ab);a(aJ).find(".player-btn-share").click(function(bg){aR();uaAddEvent(bg);return false});a(aJ).find(".player-share-close").click(function(bg){aj()});a(window).resize(function(){R();ae(n,aA);if(aW.playlist){e()}});if(aW.play_now){a(aJ).attr("data-pn",true)}if(aW.playlist){a(aJ).find(".player-btn-playlist").bind("click",function(bg){aK();uaAddEvent(bg)});a(aJ).attr("data-pl",true);a(aJ).on("click",".player-playlist-item",function(){try{a2(parseInt(a(this).attr("data-index")))}catch(bg){if(window.console&&console.error("Error:"+bg)){}}});a(aJ).on("click",".player-btn-pl-rm",function(bg){bg.stopPropagation();E(a(this));uaAddEvent(bg)});a(aJ).on("click",".player-btn-pl-wl",function(bh){bh.stopPropagation();if(!a(this).hasClass("btn_disabled")){var bg=a(this).parent().attr("data-key");V(bg,a(this));uaAddEvent(bh)}});a(aJ).on("click",".player-btn-pl-buy",function(bh){bh.stopPropagation();if(!a(this).hasClass("btn_disabled")){var bg=a(this).parent().attr("data-key");y(bg,a(this));uaAddEvent(bh)}});a(aJ).on("mouseenter",".player-btn-pl-rm, .player-btn-pl-wl, .player-btn-pl-buy, .btn-listen, .btn-cue, .btn-buy",function(){a8(a(this).attr("data-tooltip"),a(this))});a(aJ).on("mouseleave",".player-btn-pl-rm, .player-btn-pl-wl, .player-btn-pl-buy, .btn-listen, .btn-cue, .btn-buy",function(){ab()});a(aJ).find(".player-btn-pl-clear").click(function(bg){a1("playlist-clear");uaAddEvent(bg)});a(aJ).find(".player-btn-pl-buy-whole").click(function(){a1("playlist-atc",a(this))})}if(aW.peopleWhoBoughtThis){a(aJ).find(".player-pwbt-lock").click(function(bg){a(this).children(".glyphicon").toggleClass("glyphicon-lock glyphicon-lock-open");if(aV){window.clearTimeout(ai);ai=window.setTimeout(H,500,O);aV=false}else{aV=true}uaAddEvent(bg)})}e()})();function aF(){a(aJ).addClass("player").attr("ua_location","player");switch(aW.branding){case"download":a(aJ).addClass("player-download");break;default:a(aJ).addClass("player-records");break}if(aW.playerSmall){a(aJ).addClass("player-sm")}if(aW.playlistOpen){a(aJ).addClass("player-pl-open")}a(document.createElement("audio")).addClass("player-audio").attr("id","player-audio"+W).attr("preload","metadata").appendTo(aJ);if(aW.releaseHeader){var bx=a(document.createElement("div")).addClass("player-release-header").appendTo(aJ);if(aW.releaseHeaderDark){bx.addClass("player-rh-dark")}if(aW.logo){var bA=a(document.createElement("div")).addClass("player-logo").appendTo(bx);if(aW.releaseHeaderDark){bA.addClass("player-logo-dark")}}a(document.createElement("div")).addClass("player-rh-artist").appendTo(bx);a(document.createElement("div")).addClass("player-rh-title").appendTo(bx)}if(aW.artwork&&!aW.playerSmall){var bq=a(document.createElement("div")).addClass("player-artwork").appendTo(aJ);var bG=a(document.createElement("a")).attr({target:"_blank"}).appendTo(bq);a(document.createElement("img")).appendTo(bG);m(aE)}var bn=a(document.createElement("div")).addClass("player-header").appendTo(aJ);if(aW.logo&&!aW.releaseHeader){a(document.createElement("div")).addClass("player-logo").appendTo(bn)}var bi=a(document.createElement("div")).addClass("player-track-info").appendTo(bn);a(document.createElement("span")).addClass("player-ti-current").appendTo(bi);a(document.createElement("span")).addClass("player-ti-sep").html('<span class="text_theme">/</span>').appendTo(bi);a(document.createElement("span")).addClass("player-ti-total").appendTo(bi);a(document.createElement("span")).addClass("player-ti-text").appendTo(bi);var bu=a(document.createElement("div")).addClass("player-visuals").appendTo(aJ);a(document.createElement("div")).addClass("player-waveform-clip-only").appendTo(bu);var br=a(document.createElement("div")).addClass("player-waveform-playable").appendTo(bu);a(document.createElement("div")).addClass("player-waveform-progress").appendTo(br);a(document.createElement("canvas")).addClass("player-waveform").appendTo(bu);a(document.createElement("div")).addClass("player-waveform-cursor").appendTo(bu);a(document.createElement("div")).addClass("player-buffering").html("Buffering...").appendTo(bu);var bw=a(document.createElement("div")).addClass("player-controls").appendTo(aJ);var by=a(document.createElement("div")).addClass("btn_subtle btn_sml player-btn-back").attr({"data-tooltip":"Previous",ua_action:"click previous"}).appendTo(bw);a(document.createElement("span")).addClass("player-icon player-icon-back").appendTo(by);var bD=a(document.createElement("div")).addClass("btn_subtle btn_sml player-btn-play").attr({"data-tooltip":"Play",ua_action:"click play"}).appendTo(bw);a(document.createElement("span")).addClass("player-icon player-icon-play").appendTo(bD);var bH=a(document.createElement("div")).addClass("btn_subtle btn_sml player-btn-forward").attr({"data-tooltip":"Next",ua_action:"click next"}).appendTo(bw);a(document.createElement("span")).addClass("player-icon player-icon-forward").appendTo(bH);var bj=a(document.createElement("div")).addClass("btn_subtle btn_sml player-btn-volume").attr({"data-tooltip":"Change volume",ua_action:"click volume"}).appendTo(bw);a(document.createElement("span")).addClass("player-icon player-icon-volume").appendTo(bj);if(aW.playlist&&aW.buttonPlaylist){var bM=a(document.createElement("div")).addClass("btn_subtle btn_sml player-btn-playlist").attr({"data-tooltip":"Show playlist",ua_action:"click show playlist"}).appendTo(bw);a(document.createElement("span")).addClass("player-icon player-icon-playlist").appendTo(bM);if(aW.playlistOpen){bM.addClass("btn_subtle_toggled").attr({"data-tooltip":"Hide playlist",ua_action:"click hide playlist"})}m(w)}a(aJ).find("span.player-icon").addClass("disabled");if(aW.buttonShare){var bv=a(document.createElement("div")).addClass("btn_subtle btn_sml player-btn-share").attr({"data-tooltip":"Get player",ua_action:"click get player"}).appendTo(bw);a(document.createElement("span")).addClass("player-icon player-icon-share").appendTo(bv);m(w)}if(aW.buttonWishlist){if(aW.buttonWishlistLarge){a(document.createElement("div")).addClass("btn_subtle btn_sml player-btn-wishlist player-btn-wishlist-large").attr({"data-tooltip":"Add to Wishlist",ua_action:"add to wishlist"}).html("Add to Wishlist").appendTo(bw);m(I)}else{var bN=a(document.createElement("div")).addClass("btn_subtle btn_sml player-btn-wishlist").attr({"data-tooltip":"Add to Wishlist",ua_action:"add to wishlist"}).appendTo(bw);a(document.createElement("span")).addClass("player-icon player-icon-wishlist").appendTo(bN);m(w)}}if(aW.buttonBuy){if(aW.isEmbedded){a(document.createElement("a")).addClass("btn_subtle btn_sml player-btn-view-cart").attr({href:"/cart/",target:"_blank"}).html("View cart").appendTo(bw);m(Z)}if(aW.buttonBuyLarge){var bl=a(document.createElement("div")).addClass("btn_cta btn_sml player-btn-buy player-btn-buy-large").hide().attr({"data-tooltip":"Add to Cart",ua_action:"add to cart"}).html("<span>Add to Cart</span>").appendTo(bw);a(document.createElement("span")).addClass("player-icon player-icon-buy-black").appendTo(bl);a(document.createElement("span")).addClass("player-price").appendTo(bl);m(aT);var bs=a(document.createElement("div")).addClass("btn_cta btn_sml player-btn-alert player-btn-alert-large").hide().html("e-mail me when released").attr({"data-tooltip":"e-mail me when released",ua_action:"alert newrelease"}).html("<span>e-mail me when released</span>").appendTo(bw);a(document.createElement("span")).addClass("player-icon player-icon-alert-black").appendTo(bs);var bL=a(document.createElement("div")).addClass("btn_cta btn_sml player-btn-bis-alert player-btn-bis-alert-large").hide().html("e-mail me when available").attr({"data-tooltip":"e-mail me when available",ua_action:"alert backinstock"}).appendTo(bw);a(document.createElement("span")).addClass("player-icon player-icon-alert-black").appendTo(bL)}else{var bh=a(document.createElement("div")).addClass("btn_cta btn_sml player-btn-buy").hide().attr({"data-tooltip":"Add to Cart",ua_action:"add to cart"}).appendTo(bw);a(document.createElement("span")).addClass("player-icon player-icon-buy-black").appendTo(bh);a(document.createElement("span")).addClass("player-price").appendTo(bh);m(Z);var bI=a(document.createElement("div")).addClass("btn_cta btn_sml player-btn-alert").hide().attr({"data-tooltip":"e-mail me when released",ua_action:"alert newrelease"}).appendTo(bw);a(document.createElement("span")).addClass("player-icon player-icon-alert-black").appendTo(bI);var bF=a(document.createElement("div")).addClass("btn_cta btn_sml player-btn-bis-alert").hide().attr({"data-tooltip":"e-mail me when available",ua_action:"alert backinstock"}).appendTo(bw);a(document.createElement("span")).addClass("player-icon player-icon-alert-black").appendTo(bF)}}var bE=a(document.createElement("div")).addClass("player-time").appendTo(bw);a(document.createElement("span")).addClass("player-time-elapsed").html("0:00").appendTo(bE);a(document.createElement("span")).addClass("text_theme").html(" / ").appendTo(bE);a(document.createElement("span")).addClass("player-time-length").html("0:00").appendTo(bE);var bk=a(document.createElement("div")).addClass("player-volume-overlay").appendTo(bj);a(document.createElement("div")).addClass("player-volume-control").appendTo(bk);a(document.createElement("div")).addClass("player-clear").appendTo(bw);if(aW.playlist){var bm=a(document.createElement("div")).addClass("player-playlist-container").appendTo(aJ);var bf=a(document.createElement("div")).addClass("player-playlist-scroller").appendTo(bm);a(document.createElement("ul")).addClass("player-playlist").appendTo(bf);var bg=a(document.createElement("div")).addClass("pl-highlighter").prependTo(bf);a(document.createElement("div")).addClass("pl-hl-theme").appendTo(bg);if(aW.branding=="download"){var bz=a(document.createElement("div")).addClass("player-playlist-actions").appendTo(bm);var bB=a(document.createElement("div")).addClass("pla-buttons").appendTo(bz);a(document.createElement("div")).addClass("btn_subtle btn_tiny player-btn-pl-clear").attr({"data-tooltip":"Clear playlist",ua_action:"click clear playlist"}).html("Clear playlist").appendTo(bB);var bK=a(document.createElement("div")).addClass("btn_cta btn_tiny player-btn-pl-buy-whole").attr({"data-tooltip":"Add whole playlist to cart",ua_action:"click add whole playlist to cart"}).html("Add whole playlist to cart").appendTo(bB);a(document.createElement("span")).addClass("player-icon player-icon-buy-black").appendTo(bK)}if(aW.playlistOpen){bm.show()}}var bC=a(document.createElement("div")).addClass("player-notification").appendTo(aJ);a(document.createElement("span")).addClass("player-notification-title").appendTo(bC);if(aW.buttonShare){var bJ=a(document.createElement("div")).addClass("player-share").appendTo(aJ);a(document.createElement("span")).addClass("player-share-close player-icon player-icon-x").appendTo(bJ);a(document.createElement("div")).addClass("player-share-ttl text_theme").html("Share this player").appendTo(bJ);a(document.createElement("div")).html("Copy and paste the HTML below to your website/blog:").appendTo(bJ);a(document.createElement("textarea")).addClass("player-share-code").val("Player embed code loading...").appendTo(bJ)}if(aW.playlist&&aW.branding=="download"){var bo=a(document.createElement("div")).addClass("player-dialog").appendTo(aJ);a(document.createElement("div")).addClass("player-dialog-ttl text_theme").appendTo(bo);a(document.createElement("div")).addClass("player-dialog-body").appendTo(bo);a(document.createElement("button")).addClass("btn_theme btn_sml player-dialog-yes").html("Yes").hide().appendTo(bo);a(document.createElement("button")).addClass("btn_subtle btn_sml player-dialog-no").html("No").hide().appendTo(bo);a(document.createElement("button")).addClass("btn_subtle btn_sml player-dialog-close").html("Close").hide().appendTo(bo)}if(aW.peopleWhoBoughtThis){a(document.createElement("div")).addClass("player-pwbt").appendTo(aJ);var bt=a(document.createElement("div")).addClass("player-pwbt-lock").attr({ua_action:"lock/unlock pwbt"}).hide().appendTo(aJ);a(document.createElement("span")).addClass("glyphicon glyphicon-lock-open").attr({"aria-hidden":"true"}).appendTo(bt)}var bp=a(document.createElement("div")).addClass("player-tt").appendTo(aJ);a(document.createElement("span")).addClass("player-tt-content").appendTo(bp);a(document.createElement("div")).addClass("player-tt-pointer").appendTo(bp);if(aW.playlist){a(document.createElement("span")).addClass("glyphicon glyphicon-resizable").attr({"aria-hidden":"true"}).appendTo(aJ)}a(document.createElement("div")).addClass("player-empty").html("Your playlist is empty").appendTo(aJ);a(document.createElement("div")).addClass("player-loading").appendTo(aJ)}function m(bh){var bf=parseInt(a(aJ).css("min-width"));var bg=bf+bh;a(aJ).css({"min-width":bg+"px"})}function Q(){if(aW.playlistCustom){a.ajax({url:"/api/1.2/playlist/docreate?name=juno_default&session_id=&time="+Date.now(),type:"GET",success:function(){a9("/api/1.2/playlist/getcustomplaylistdetails?id=juno_default&time="+Date.now(),function(bf){ak=bf;X=true;if(aW.add){ao(aW.hash,aW.key,aW.isRelease,aW.insertType,aW.play_now,aW.selectedTrack,aW.playlist_url)}else{if(!empty(ak)&&ak.length>0){aS();if(aW.playlist){i()}u();if(aW.play_now&&s){q()}}else{D()}a(aJ).find(".player-loading").fadeOut()}})},error:function(){a1("error-generic")}})}else{a9(ap(aW.hash,aW.key,aW.playlist_url,aW.isRelease),function(bf){ak=bf;X=true;if(!empty(ak)&&ak.length>0){aS();if(aW.playlist){i()}u();if(aW.play_now&&s){q()}a(aJ).find(".player-loading").fadeOut()}})}}function a9(bf,bg){a.ajax({url:bf,type:"GET",dataType:"xml"}).done(function(bh){bg(XSPF.toJSPF(bh).playlist.track)}).fail(function(){a1("error-generic")})}function aS(){var bm;var bj;var bl;var bk;var bh=[];ak=ak.filter(function(bn){return(bn.isStem!==true)});for(var bi=0,bf=ak.length;bi<bf;bi++){bh.push(ak[bi]);bm=ak[bi].extension[j][0];if(!empty(bm.stems)){bj=bm.stems.split("##");for(var bg=0;bg<bj.length;bg++){if(!empty(bj[bg])){bl=bj[bg].split("^^");bk={extension:{"http://www.juno.co.uk/player":[{artists:bm.artists,key:bm.key+"-"+bl[0],label:bm.label,length:bm.length,preview_length:bl[3],preview_start:bl[2],release_artists:bm.release_artists}]},image:ak[bi].image,isStem:true,location:ak[bi].location,title:ak[bi].title+" (STEM) "+bl[1]};bh.push(bk)}}}}ak=bh}function ap(bf,bh,bj,bi){var bg="";if(!empty(bj)&&empty(bh)){bf=bj}if(!T(bh)&&!T(bf)){bg="/api/1.2/playlist/getplaylistdetails/";if(!empty(bh)){bg+="?product_key="+bh}else{if(!T(bf)){bg+="?hash="+bf}}}else{bg=bf}bi=(!bi)?0:1;bg+="&is_release="+bi+"&time="+Date.now();return bg}function aN(){var bg="";var bf="";a.each(ak,function(bi,bh){var bj=bh.extension[j][0];if(bj.key!=bf&&bh.isStem!==true){if(bj.isRelease==1){bg+=aO(bj.key)+"-"+z(bj.key)+":";bf=bj.key}else{bg+=bj.key+":"}}});return bg.substring(0,bg.length-1)}function b(bf){a(aJ).find(".player-waveform-progress").width(0);a.ajax({url:"/api/1.2/track/getwaveform",type:"POST",dataType:"json",data:"track_key="+bf+"&output_type=json",success:function(bh){var bg=bh.track.data.split(",");a(aJ).find(".player-waveform-playable, .player-waveform-clip-only").hide();aM(bg);ae(n,aA);a(aJ).find(".player-waveform-playable, .player-waveform-clip-only").show()},error:function(){a1("error-generic")}})}function u(){if(X){if(!empty(aW.selectedTrack)){if(typeof(aW.selectedTrack)==="number"){g=aW.selectedTrack-1}else{var bn=ak[0].extension[j][0].key;var bq=bn.substr(0,bn.length-6);var bs=aW.selectedTrack.split("-");var bl=bq+"-"+padTwoLeft(parseInt(bs[0]))+"-"+padTwoLeft(parseInt(bs[1]));for(var bk=0;bk<ak.length;bk++){var bo=ak[bk].extension[j][0].key;if(bo===bl){g=bk;break}}}aW.selectedTrack=""}var bv=ak[g];var bu=bv.extension[j][0];var bf=bu.key;if(bf!==O){ M=false;l=false;isClipCopyright = false; a(aJ).find("span.player-icon").addClass("disabled");O=bf;L=parseInt(bu.length);aA=parseInt(bu.preview_start);n=parseInt(bu.preview_length);a4=0;aP=aA;aG=n<L;c.setSrc(be+"?track_key="+O);
                
                if(parseInt(bu.preview_cliponly)!=0){
                    ay=aA/L*a(aJ).find(".player-waveform").width();
                    aB=n/L*a(aJ).find(".player-waveform").width();
                    J=L*(ay/a(aJ).find(".player-waveform").width());
                    B=L*(aB/a(aJ).find(".player-waveform").width());
                    a(aJ).find(".player-waveform-clip-only").css({left:ay+"px",width:aB+"px"});
                    l=true
                }
                else if(aW.branding === "download") {
                    ay = COPYRIGHT_SECONDS / L*a(aJ).find(".player-waveform").width();
                    aB = (L - COPYRIGHT_SECONDS * 2) / L*a(aJ).find(".player-waveform").width();
                    J=L*(ay/a(aJ).find(".player-waveform").width());
                    B=L*(aB/a(aJ).find(".player-waveform").width());
                    a(aJ).find(".player-waveform-clip-only").css({left:ay+"px",width:aB+"px"});
                    isClipCopyright = true;
                }

                b(bf);a(aJ).find(".player-time-elapsed").html(aA.toHHMMSS());a(aJ).find(".player-time-length").html(L.toHHMMSS());if(aW.releaseHeader){var bh="";for(var bk=0;bk<bu.release_artists[0].artist.length;bk++){if(bk!=0){bh+=" / "}bh+='<a target="_blank" href="'+bu.release_artists[0].artist[bk].link+'">'+bu.release_artists[0].artist[bk].name+"</a>"}a(aJ).find(".player-rh-artist").html(bh);a(aJ).find(".player-rh-title").html(bv.album+' <span class="text_subtle">('+bu.format+")</span>");var bj=bv.title;if(!empty(bu.mix_artists)){bj+=' <span class="text_subtle">by</span> ';for(var bk=0;bk<bu.mix_artists[0].artist.length;bk++){if(bk!=0){bj+=" / "}bj+='<a target="_blank" href="'+bu.mix_artists[0].artist[bk].link+'">'+bu.mix_artists[0].artist[bk].name+"</a>"}}}else{var bj=bv.title+' <span class="text_subtle">by</span> ';for(var bk=0;bk<bu.artists[0].artist.length;bk++){if(bk!=0){bj+=" / "}bj+='<a target="_blank" href="'+bu.artists[0].artist[bk].link+'">'+bu.artists[0].artist[bk].name+"</a>"}}aY();a(aJ).find(".player-ti-text").html(bj);a(aJ).find(".player-artwork img").attr("src",bv.image).parent("a").attr("href",bv.info);var bt=(bu.isRelease==1)?aO(bf)+"-"+z(bf):bf;if(aW.buttonWishlist){a(aJ).find(".player-btn-wishlist").removeClass("btn_disabled");a(aJ).find(".player-btn-pl-wl.btn_disabled").each(function(){if(a(this).parent().attr("data-key")==bt){a(aJ).find(".player-btn-wishlist").addClass("btn_disabled");return false}});a(aJ).find(".player-btn-wishlist").off("click").on("click",function(bw){if(!a(this).hasClass("btn_disabled")){V(bt,a(this));uaAddEvent(bw)}})}if(aW.buttonBuy){if(bu.coming_soon==1){a(aJ).find(".player-btn-alert").off("click").on("click",function(bw){a0(bt);uaAddEvent(bw)});a(aJ).find(".player-btn-buy").hide();a(aJ).find(".player-btn-bis-alert").hide();a(aJ).find(".player-btn-alert").show()}else{if(bu.in_stock==0){a(aJ).find(".player-btn-bis-alert").off("click").on("click",function(bw){az(bt);uaAddEvent(bw)});a(aJ).find(".player-btn-buy").hide();a(aJ).find(".player-btn-alert").hide();a(aJ).find(".player-btn-bis-alert").show()}else{if(aW.branding=="download"){var bm=aW.buttonBuyLarge?"("+bu.price+")":bu.price;a(aJ).find(".player-price").html(bm);a(aJ).find(".player-btn-buy").removeClass("btn_disabled");a(aJ).find(".player-btn-buy .player-btn-progress").remove();a(aJ).find(".player-btn-pl-buy.btn_disabled").each(function(){if(a(this).parent().attr("data-key")==bt){a(aJ).find(".player-btn-buy").addClass("btn_disabled");return false}});a(aJ).find(".player-btn-buy").off("click").on("click",function(bw){if(!a(this).hasClass("btn_disabled")){y(bt,a(this));uaAddEvent(bw)}})}else{var bm=aW.buttonBuyLarge?"("+bu.price+")":bu.price;a(aJ).find(".player-price").html(bm);a(aJ).find(".player-btn-buy").off("click").on("click",function(bw){addToCartPopup(aO(bf),z(bf));uaAddEvent(bw)})}a(aJ).find(".player-btn-alert").hide();a(aJ).find(".player-btn-bis-alert").hide();a(aJ).find(".player-btn-buy").show()}}}if(aW.playlist){var bg=a(aJ).find('.player-playlist-item[data-index="'+g+'"]').position().top;var br=a(aJ).find('.player-playlist-item[data-index="'+g+'"]').outerHeight();var bi=a(aJ).find(".player-playlist-scroller").height();var bp=a(aJ).find(".player-playlist-scroller").scrollTop();if(bg>bi-br){a(aJ).find(".player-playlist-scroller").animate({scrollTop:(bp+bg)},500)}else{if(bg<0){a(aJ).find(".player-playlist-scroller").animate({scrollTop:(bp-bi+bg+br)},500)}}a(aJ).find(".pl-highlighter").animate({top:(bg+bp)},150,function(){a(aJ).find(".player-playlist-item").removeClass("pli-current");a(aJ).find('.player-playlist-item[data-index="'+g+'"]').addClass("pli-current")})}if(g>=ak.length-1){v=true}else{v=false}if(aW.peopleWhoBoughtThis&&!aV){window.clearTimeout(ai);ai=window.setTimeout(H,500,bf)}M=true;if(aW.playlistCustom){window.clearTimeout(aU);aU=window.setTimeout(ax,h)}a(aJ).find("span.player-icon").removeClass("disabled")}}}function H(bf){if(typeof bf!=="undefined"){a.ajax({url:"/api/1.2/widget/getalsobought?product_key="+bf+"&limit=12&convert_currency=1&output_type=json",success:function(bg){a(aJ).find(".player-pwbt").removeClass("jw").empty().junoWidget(bg.items,{orientation:"horizontal",inJunoPlayer:true,itemsPerPage:2,theme:"grey",title:bg.label,ua_location:"getalsobought"});a(aJ).find(".player-pwbt .jw-item-artist a").attr("target","_blank");if(empty(bg.items)||bg.items.length<1){a(aJ).find(".player-pwbt-lock").hide()}else{a(aJ).find(".player-pwbt-lock").show()}}})}}function ae(bh,bj){var bg=bj/L*a(aJ).find(".player-waveform").width();var bk=bh/L*a(aJ).find(".player-waveform").width();
                if(l || isClipCopyright){
                    ay=J/L*a(aJ).find(".player-waveform").width();
                    aB=B/L*a(aJ).find(".player-waveform").width();
                    var bf=bg+bk;
                    var bi=ay+aB;
                if(bf>bi){a(aJ).find(".player-waveform-playable").css({left:bg+"px",width:bk-(bf-bi)+"px"})}else{a(aJ).find(".player-waveform-playable").css({left:bg+"px",width:bk+"px"})}a(aJ).find(".player-waveform-clip-only").css({left:ay+"px",width:aB+"px"})}else{a(aJ).find(".player-waveform-playable").css({left:bg+"px",width:bk+"px"});a(aJ).find(".player-waveform-clip-only").css({left:"0px",width:"0px"})}}function e(){var bf=window.innerHeight-at;if(aW.peopleWhoBoughtThis){bf-=ba}if(aW.playlistCustom){bf-=Y}a(aJ).find(".player-playlist-scroller").height(bf)}function bc(){if(aW.buttonPlaylist){var bf=a(aJ).outerHeight();a(aJ).toggleClass("player-pl-open");if(a(aJ).hasClass("player-pl-open")){bf+=140}window.resizeTo(window.outerWidth,bf+(window.outerHeight-window.innerHeight));i()}}function R(){if(!c.paused){try{var bj=c.currentTime.toFixed(1);var bi=bj-a4;a4=bj;aP+=bi;if(aG){var bg=(bj/n)*(a(aJ).find(".player-waveform-playable").width())}else{var bg=(aP/n)*(a(aJ).find(".player-waveform-playable").width())}if(bg>0){a(aJ).find(".player-waveform-progress").width(bg)}var bf=Math.floor(aP);a(aJ).find(".player-time-elapsed").html(bf.toHHMMSS());
                if(l || isClipCopyright){
                    var bh=B+J;if(aP>=bh){c.pause();a(c).trigger("ended")}
                }}catch(bk){if(window.console&&console.error("Error:"+bk)){}}}}function U(){a(aJ).find(".player-waveform-progress").width(0)}function aY(){a(aJ).find(".player-ti-current").html((g+1)+" ");a(aJ).find(".player-ti-total").html(" "+ak.length+". ")}function an(){if(!aL){return}a(aJ).find(".player-buffering").show();window.clearTimeout(av)}function q(){if(M){if(ak[g].extension[j][0].noaudio==="1"){aX("Track preview is not ready yet.");ar();return}try{aL=true;av=window.setTimeout(an,750);c.pause();c.play();addVisited(ak[g].location[0])}catch(bf){ar();a1("error-generic");if(window.console&&console.error("Error:"+bf)){}}}}function ad(){if(M){try{c.pause()}catch(bf){if(window.console&&console.error("Error:"+bf)){}}}}function a3(){if(M){if(g>0){ad();U();g--;u();window.clearTimeout(al);al=window.setTimeout(q,bb)}else{if(g==0){bd(aA)}}}}function ar(){if(M){if(g<ak.length-1){ad();U();g++;u();window.clearTimeout(al);al=window.setTimeout(q,bb)}}}function a2(bf){ad();U();g=bf;u();window.clearTimeout(al);al=window.setTimeout(q,bb)}function bd(bh){if(M){ad();U();aP=bh;a4=0;if(aG){aA=bh;var bg=B+J;var bf=bh+au;if((l || isClipCopyright)&&(bf>bg)){ n=au-(bf-bg) } else{ n=au } ae(au,bh)}var bi=Math.floor(bh*1000);c.setSrc(be+"?track_key="+O+"&position="+(bi+(bi%10000==0?1:0)));window.clearTimeout(al);al=window.setTimeout(q,bb)}}function K(){a(aJ).find(".player-tt").hide();a(aJ).find(".player-btn-volume").toggleClass("player-btn-volume-toggled");if(!S){a(aJ).find(".player-volume-overlay").slideDown().bind("click",function(bf){bf.stopPropagation()});S=true}else{a(aJ).find(".player-volume-overlay").slideUp();S=false}a(aJ).find(".player-volume-overlay").mouseleave(function(){if(S){a(this).slideUp();a(aJ).find(".player-btn-volume").removeClass("player-btn-volume-toggled");S=false}});a(aJ).find(".player-btn-volume").mouseenter(function(){if(S){a(aJ).find(".player-tt").hide()}})}function aM(bf){var bi=a(aJ).find(".player-waveform")[0];bf=a5(bf);if(l || isClipCopyright){var bh=k}else{var bh=am}a(aJ).find(".player-visuals").css({background:bh});a(aJ).find(".player-waveform-playable").css({background:aD});a(aJ).find(".player-waveform-clip-only").css({background:aZ});if(bi.getContext){var bg=bi.getContext("2d");bg.canvas.width=P;bg.clearRect(0,0,bi.width,bi.height);bg.fillStyle=ag;a.each(bf,function(bj,bl){var bk=bl;if(bk<1){bk=C}bk=(bi.height-bk)/2;bg.fillRect(bj,0,1,bk);bg.fillRect(bj,bi.height-bk,1,bi.height)})}}function a5(bg){var bh=bg;if(bh.length<r){var bj=r-bh.length;for(var bi=0;bi<bj;bi++){bh.push("0")}}var bf=[];a.each(bh,function(bm,bo){var bn=parseInt(bo,16)*af;var bl=(parseInt(bh[bm-1],16)*af)||bn;var bk=(parseInt(bh[bm+1],16)*af)||bn;if(bn>0){bf.push(bn);if(bk>bn){bf.push(bn+(bk-bn)/2);bf.push(bn+(bk-bn)/3)}else{bf.push(bn-(bn-bk)/2);bf.push(bn-(bn-bk)/3)}}else{bf.push(bl/2);bf.push(C);bf.push(bk/2)}});return bf}function i(){a(aJ).find(".player-playlist").empty();var bf="";a.each(ak,function(bo,bj){var bv=bj.extension[j][0];var br=aO(bv.key)+"-"+z(bv.key);var bl=aO(bv.key)+"-"+z(bv.key)+"-"+a6(bv.key)+"-"+o(bv.key);var bw="";var bk="";var bt="";var bs="";var bi="";var bu="btn_subtle btn_tiny player-btn-pl-wl";var bq="btn_subtle btn_tiny player-btn-pl-buy";var bp=false;if(bj.isStem!==true){for(var bm=0;bm<bv.release_artists[0].artist.length;bm++){if(bm!=0){bw+=" / ";bk+=" / "}bw+=bv.release_artists[0].artist[bm].name;bk+='<a target="_blank" href="'+bv.release_artists[0].artist[bm].link+'">'+bv.release_artists[0].artist[bm].name+"</a>"}}if(bv.isRelease==1&&(bf!==br)){bt=bj.album+" by "+bj.creator+" on "+bv.label[0].name+" ("+bv.format+")";bs=bj.album+' <span class="text_subtle">by</span> '+bk+' <span class="text_subtle">on</span> <a target="_blank" href="'+bv.label[0].link+'">'+bv.label[0].name+'</a> <span class="text_theme">('+bv.format+")</span>";a(document.createElement("li")).addClass("player-playlist-release").attr({"data-key":br,"data-release":br}).appendTo(a(aJ).find(".player-playlist"));a(document.createElement("img")).addClass("plr-artwork").attr("src",bj.image).appendTo(a(aJ).find('.player-playlist-release[data-key="'+br+'"]'));if(aW.branding=="download"){for(var bm=0,bn=aH.length;bm<bn;bm++){if(br==aH[bm]){bu+=" btn_disabled";break}}for(var bm=0,bn=t.length;bm<bn;bm++){if(br==t[bm]){bq+=" btn_disabled";break}}a(document.createElement("div")).addClass("btn_subtle btn_tiny player-btn-pl-rm").attr({"data-tooltip":"Remove",ua_action:"click remove release"}).appendTo(a(aJ).find('.player-playlist-release[data-key="'+br+'"]'));a(document.createElement("span")).addClass("player-icon player-icon-x").appendTo(a(aJ).find('.player-playlist-release[data-key="'+br+'"] .player-btn-pl-rm'));a(document.createElement("div")).addClass(bu).attr({"data-tooltip":"Add to wishlist",ua_action:"click add release to wishlist"}).appendTo(a(aJ).find('.player-playlist-release[data-key="'+br+'"]'));a(document.createElement("span")).addClass("player-icon player-icon-wishlist").appendTo(a(aJ).find('.player-playlist-release[data-key="'+br+'"] .player-btn-pl-wl'));a(document.createElement("div")).addClass(bq).attr({"data-tooltip":"Add to cart",ua_action:"click add release to cart"}).appendTo(a(aJ).find('.player-playlist-release[data-key="'+br+'"]'));a(document.createElement("span")).addClass("player-pl-price text_cta").html(bv.price).appendTo(a(aJ).find('.player-playlist-release[data-key="'+br+'"] .player-btn-pl-buy'));a(document.createElement("span")).addClass("player-icon player-icon-buy-cta").appendTo(a(aJ).find('.player-playlist-release[data-key="'+br+'"] .player-btn-pl-buy'))}a(document.createElement("span")).addClass("pli-text").attr("title",bt).html(bs).appendTo(a(aJ).find('.player-playlist-release[data-key="'+br+'"]'));bf=br}if(bv.isRelease!=1){if(!empty(bv.mix_artists)&&bj.isStem!==true){bw="";bk="";for(var bm=0,bn=bv.mix_artists[0].artist.length;bm<bn;bm++){if(bm!=0){bw+=" / ";bk+=" / "}bw+=bv.mix_artists[0].artist[bm].name;bk+='<a target="_blank" href="'+bv.mix_artists[0].artist[bm].link+'">'+bv.mix_artists[0].artist[bm].name+"</a>"}}a(document.createElement("li")).addClass((bj.isStem!==true)?"player-playlist-item":"player-playlist-item pli-ir").addClass((!empty(bv.stems))?"pli-stems":"").attr({"data-index":bo,"data-key":bv.key,"data-release":br,"data-stid":bl}).appendTo(a(aJ).find(".player-playlist"));a(document.createElement("img")).addClass("plr-artwork").attr("src",bj.image).appendTo(a(aJ).find('.player-playlist-item[data-index="'+bo+'"]'));if(bj.isStem!==true){for(var bm=0,bn=aH.length;bm<bn;bm++){if(bv.key==aH[bm]){bu+=" btn_disabled";break}}for(var bm=0,bn=t.length;bm<bn;bm++){if(bv.key==t[bm]){bq+=" btn_disabled";bp=true;break}}if(!bp&&bv.album_only==1){bq+=" btn_disabled"}a(document.createElement("div")).addClass("btn_subtle btn_tiny player-btn-pl-rm").attr({"data-tooltip":"Remove",ua_action:"click remove track"}).appendTo(a(aJ).find('.player-playlist-item[data-index="'+bo+'"]'));a(document.createElement("span")).addClass("player-icon player-icon-x").appendTo(a(aJ).find('.player-playlist-item[data-index="'+bo+'"] .player-btn-pl-rm'));a(document.createElement("div")).addClass(bu).attr({"data-tooltip":"Add to wishlist",ua_action:"click add track to wishlist"}).appendTo(a(aJ).find('.player-playlist-item[data-index="'+bo+'"]'));a(document.createElement("span")).addClass("player-icon player-icon-wishlist").appendTo(a(aJ).find('.player-playlist-item[data-index="'+bo+'"] .player-btn-pl-wl'));a(document.createElement("div")).addClass(bq).attr({"data-tooltip":"Add to cart",ua_action:"click add track to cart"}).appendTo(a(aJ).find('.player-playlist-item[data-index="'+bo+'"]'));a(document.createElement("span")).addClass("player-pl-price text_cta").html(bv.price).appendTo(a(aJ).find('.player-playlist-item[data-index="'+bo+'"] .player-btn-pl-buy'));a(document.createElement("span")).addClass("player-icon player-icon-buy-cta").appendTo(a(aJ).find('.player-playlist-item[data-index="'+bo+'"] .player-btn-pl-buy'))}bi=(!empty(bv.stems))?bj.title+" (STEM) Master track":bj.title;a(document.createElement("span")).addClass("pli-text").attr("title",(bj.isStem!==true)?bw+" - "+bj.title:bj.title).html((bj.isStem!==true)?bk+" - "+bi:bi).appendTo(a(aJ).find('.player-playlist-item[data-index="'+bo+'"]'))}else{a(document.createElement("li")).addClass("player-playlist-item pli-ir").attr({"data-index":bo,"data-key":bv.key,"data-release":br}).html(bj.title).appendTo(a(aJ).find(".player-playlist"));a(document.createElement("img")).addClass("plr-artwork").attr("src",bj.image).appendTo(a(aJ).find('.player-playlist-item[data-index="'+bo+'"]'))}});if(ak.length>0){var bh=a(aJ).find('.player-playlist-item[data-index="'+g+'"]').position().top;var bg=a(aJ).find(".player-playlist-scroller").scrollTop();a(aJ).find(".pl-highlighter").animate({top:(bh+bg)},150,function(){a(aJ).find('.player-playlist-item[data-index="'+g+'"]').addClass("pli-current")})}}function f(){c.pause();g=0;ak=[];a(aJ).find(".player-playlist-item").remove();D();aY();if(aW.playlistCustom){window.clearTimeout(aU);aU=window.setTimeout(ax,h)}}function D(){c.pause();g=0;M=false;O=null;a(aJ).find(".player-empty").show()}function N(){a(aJ).find(".player-empty").fadeOut()}function aK(){a(aJ).find(".player-playlist-container").slideToggle(bc);var bf=a(aJ).find(".player-btn-playlist");bf.toggleClass("btn_subtle_toggled");if(!bf.hasClass("btn_subtle_toggled")){bf.attr("data-tooltip","Show playlist")}else{bf.attr("data-tooltip","Hide playlist")}}function T(bg){var bf=new RegExp("^https?://");return bf.test(bg)}function aO(bf){return bf.split("-")[0]}function z(bf){return bf.split("-")[1]}function a6(bf){return parseInt(bf.split("-")[2])}function o(bf){return parseInt(bf.split("-")[3])||""}function aX(bg,bf){bg=empty(bg)?"":bg;bf=empty(bf)?ac:bf;a(aJ).find(".player-notification-title").html(bg);a(aJ).find(".player-notification").show().animate({top:"0px"},200,function(){window.setTimeout(function(){a(aJ).find(".player-notification").animate({top:"-27px"},200,function(){a(this).find(".player-notification-title").html("")})},bf)})}function y(bg,bf){bf.addClass("btn_disabled");a(document.createElement("span")).addClass("player-btn-progress").appendTo(bf).fadeIn();a.ajax({url:"/api/1.2/product/doaddtocart/",type:"POST",data:"output_type=json&product_key="+bg+"&time="+Date.now()}).done(function(bh){if(bg==O){a(aJ).find(".player-btn-buy").addClass("btn_disabled").attr("data-tooltip","Already in cart")}a(aJ).find('.player-playlist li[data-key="'+bg+'"] .player-btn-pl-buy').addClass("btn_disabled").attr("data-tooltip","Already in cart");t.push(bg);aX(bh.product.item.message)}).always(function(){bf.children(".player-btn-progress").fadeOut().remove()})}function F(bf){bf.addClass("btn_disabled");a(document.createElement("span")).addClass("player-btn-progress").appendTo(bf).fadeIn();var bg=aN().split(":");a.ajax({url:"/api/1.2/product/doaddtocart/",type:"POST",data:{output_type:"json",product_key:aN(),time:Date.now()}}).done(function(bi){for(var bj=0,bh=bg.length;bj<bh;bj++){if(bg[bj]==O){a(aJ).find(".player-btn-buy").addClass("btn_disabled").attr("data-tooltip","Already in cart")}a(aJ).find('.player-playlist li[data-key="'+bg[bj]+'"] .player-btn-pl-buy').addClass("btn_disabled").attr("data-tooltip","Already in cart");t.push(bg[bj])}aX(bi.product.item.message)}).always(function(){bf.removeClass("btn_disabled");bf.children(".player-btn-progress").fadeOut().remove()})}function V(bg,bf){if(a.cookie(loginSoftCookie)=="1"){bf.addClass("btn_disabled");a(document.createElement("span")).addClass("player-btn-progress").appendTo(bf).fadeIn();a.ajax({url:"/api/1.2/?method=wishlist.addProduct",type:"POST",data:"output_type=json&title_id="+aO(bg)+"&product_id="+z(bg)+"&track_number="+o(bg)}).done(function(bh){if(bg==O){a(aJ).find(".player-btn-wishlist").addClass("btn_disabled").attr("data-tooltip","Already in wishlist")}a(aJ).find('.player-playlist li[data-key="'+bg+'"] .player-btn-pl-wl').addClass("btn_disabled").attr("data-tooltip","Already in wishlist");aH.push(bg);aX(bh.title)}).always(function(){bf.children(".player-btn-progress").fadeOut().remove()})}else{aX("Could not update wishlist. You need to be logged in.")}}function a0(bf){if(a.cookie(loginSoftCookie)=="1"){if(!aQ){aQ=true;a.ajax({url:"/api/1.2/?method=alerts.add",type:"POST",data:"output_type=json&alert_type=4&param1="+aO(bf)+"&param2="+z(bf),success:function(bg){aX(bg.title);aQ=false}})}}else{aX("You need to be logged in to set up release alerts.")}}function az(bf){if(a.cookie(loginSoftCookie)=="1"){if(!aI){aI=true;a.ajax({url:"/api/1.2/?method=alerts.add",type:"POST",data:"output_type=json&alert_type=1&param1="+aO(bf)+"&param2="+z(bf),success:function(bg){aX(bg.title);aI=false}})}}else{aX("You need to be logged in to set up release alerts.")}}function a8(bk,bh){if(!a(aJ).find(".player-btn-volume").hasClass("btn_subtle_toggled")){var bj;var bl;var bg;var bf;var bi;a(aJ).find(".player-tt-content").html(bk);bj=a(aJ).find(".player-tt");bl=a(aJ).find(".player-tt-pointer");bg=(bj.outerWidth()/2)-(bl.outerWidth()/2);bl.css({left:bg+"px"});if(!aW.artwork&&!aW.buttonBuy){bf=bh.position().top-bj.outerHeight()-G;bi=bh.position().left-((bj.outerWidth()/2)-(bh.outerWidth()/2))}else{bf=bh.offset().top-bj.outerHeight()-G;bi=bh.offset().left-((bj.outerWidth()/2)-(bh.outerWidth()/2))}bj.css({top:bf+"px",left:bi+"px"});bj.show()}}function ab(){a(aJ).find(".player-tt").hide()}function p(){var bf=a(aJ).attr("data-pl")=="true"?1:0;var bg=a(aJ).attr("data-pn")=="true"?1:0;a.ajax({url:"/api/1.2/player/gethtmlplayercode",type:"POST",data:{playlist_hash:aW.hash,product_key:aW.key,show_playlist:bf,start_playing:bg,output_type:"json"},success:function(bh){a(aJ).find(".player-share-code").val(bh).click(function(){a(this).select()})}})}function aR(){if(!aC){p()}a(aJ).find(".player-share").animate({top:"0px"},400);aC=true}function aj(){a(aJ).find(".player-share").animate({top:"-93px"},400)}function a1(bg,bf){switch(bg){case"playlist-atc":var bh=ak.length+" "+((ak.length==1)?"track":"tracks");a(aJ).find(".player-dialog-ttl").html("Add playlist to cart");a(aJ).find(".player-dialog-body").html("Are you sure you want to add "+bh+" to cart?");a(aJ).find(".player-dialog-close").hide();a(aJ).find(".player-dialog-no").show();a(aJ).find(".player-dialog-yes").unbind().bind("click",function(){F(bf);a(aJ).find(".player-dialog").animate({top:"-93px"},400)}).show();break;case"playlist-clear":a(aJ).find(".player-dialog-ttl").html("Clear playlist");a(aJ).find(".player-dialog-body").html("Are you sure you want to remove all the items in your playlist?");a(aJ).find(".player-dialog-close").hide();a(aJ).find(".player-dialog-no").show();a(aJ).find(".player-dialog-yes").unbind().bind("click",function(){f();a(aJ).find(".player-dialog").animate({top:"-93px"},400)}).show();break;case"error-generic":a(aJ).find(".player-dialog-ttl").html("Error");a(aJ).find(".player-dialog-body").html("An error has occured. Please refresh the player and try again.");a(aJ).find(".player-dialog-yes").hide();a(aJ).find(".player-dialog-no").hide();a(aJ).find(".player-dialog-close").show();default:break}a(aJ).find(".player-dialog").animate({top:"0px"},400);a(aJ).find(".player-dialog-no, .player-dialog-close").bind("click",function(){a(aJ).find(".player-dialog").animate({top:"-93px"},400)})}function ax(){a.ajax({url:"/api/1.2/playlist/doupdate",type:"POST",data:{id:"juno_default",time:Date.now(),tracklist:aN()}})}function ao(bj,bi,bh,bg,bl,bk,bf){a9(ap(bj,bi,bf,bh),function(bv){var bn=false;var bm;var br;var bt;var bu;var bs;var bo;if(empty(ak)||ak.length<1){bn=true;ak=bv}else{if(bg=="append"){ak=ak.concat(bv);v=false}else{if(bg=="insert"){if(!bn&&ak[g].extension[j][0].isRelease==1){br=aO(ak[g].extension[j][0].key)+"-"+z(ak[g].extension[j][0].key);for(var bp=g,bq=ak.length;bp<bq;bp++){bu=aO(ak[bp].extension[j][0].key)+"-"+z(ak[bp].extension[j][0].key);if(bu===br){bm=bp}}ak.splice.apply(ak,[bm+1,0].concat(bv));g=bm}else{if(!bn&&(!empty(ak[g].extension[j][0].stems)||ak[g].isStem===true)){bt=aO(ak[g].extension[j][0].key)+"-"+z(ak[g].extension[j][0].key)+"-"+a6(ak[g].extension[j][0].key)+"-"+o(ak[g].extension[j][0].key);for(var bp=g,bq=ak.length;bp<bq;bp++){bs=aO(ak[bp].extension[j][0].key)+"-"+z(ak[bp].extension[j][0].key)+"-"+a6(ak[bp].extension[j][0].key)+"-"+o(ak[bp].extension[j][0].key);if(bs===bt){bm=bp}}ak.splice.apply(ak,[bm+1,0].concat(bv));g=bm}else{ak.splice.apply(ak,[g+1,0].concat(bv))}}}}}bo=a7();aS();if(aW.playlist){i()}if(bn){g=0}if(!M){u()}if(bg=="insert"&&s){if(empty(bo)||bo.length<1){if(bn){q()}else{ar()}}else{a2(parseInt(a(aJ).find('.player-playlist-item[data-key="'+bo[0]+'"]').attr("data-index")))}}aY();N();if(aW.playlistCustom){window.clearTimeout(aU);aU=window.setTimeout(ax,h)}a(aJ).find(".player-loading").fadeOut();s=true})}function a7(){var bk={};var bj=[];var bi;for(var bh=0,bf=ak.length;bh<bf;bh++){if(!empty(bk[ak[bh].extension[j][0].key])&&bk[ak[bh].extension[j][0].key].extension[j][0].key==ak[bh].extension[j][0].key){bj.push(ak[bh].extension[j][0].key)}bk[ak[bh].extension[j][0].key]=ak[bh]}ak=new Array();for(var bg in bk){ak.push(bk[bg])}if(bj.length>0){bi=(bj.length>1)?"tracks":"track";aX(bj.length+" "+bi+" already in playlist.")}return bj}function E(bg){var bj=bg.parent();if(bg.parent().hasClass("player-playlist-release")){bj=a(aJ).find('.player-playlist-item[data-release="'+bg.parent().attr("data-release")+'"]')}else{if(bg.parent().hasClass("pli-stems")){bj=a(aJ).find('.player-playlist-item[data-stid="'+bg.parent().attr("data-stid")+'"]')}}var bh=parseInt(bj.first().attr("data-index"));var bf=bh+bj.length-1;ak.splice(bh,bj.length);ab();if(aW.playlist){bg.parent().remove();a.each(bj,function(){a(this).remove()});a(aJ).find(".player-playlist-item").each(function(bl){a(this).attr("data-index",bl)})}if(ak.length<1){D()}else{if(g>bf){g-=bj.length}else{if((g>=bh)&&(g<=bf)){if(g>ak.length-1){a2(ak.length-1)}else{a2(bh)}}}}if(ak.length>0){var bk=a(aJ).find('.player-playlist-item[data-index="'+g+'"]').position().top;var bi=a(aJ).find(".player-playlist-scroller").scrollTop();a(aJ).find(".pl-highlighter").animate({top:(bk+bi)},150,function(){a(aJ).find('.player-playlist-item[data-index="'+g+'"]').addClass("pli-current")})}aY();if(aW.playlistCustom){window.clearTimeout(aU);aU=window.setTimeout(ax,h)}}return{add:function(bi,bh,bg,bf,bk,bj){ao(bi,bh,bg,bf,bk,bj)},addToCart:function(bg,bf){y(bg,a(bf))}}}}(jQuery));Number.prototype.toHHMMSS=function(){d=this;var c=Math.floor(d/3600);var a=Math.floor(d%3600/60);var b=Math.floor(d%3600%60);return((c>0?c+":":"")+(a>0?(c>0&&a<10?"0":"")+a+":":"0:")+(b<10?"0":"")+b)};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b){var a=this.length>>>0;var c=Number(arguments[1])||0;c=(c<0)?Math.ceil(c):Math.floor(c);if(c<0){c+=a}for(;c<a;c++){if(c in this&&this[c]===b){return c}}return -1}}XSPF.getUniqueKeyValuePairs=function(e,c){var b={};for(var g=0;g<e.childNodes.length;g++){var f={};var a=e.childNodes[g];if(a.tagName){if(!c||(c&&(c.indexOf(a.tagName)!=-1))){if($(a).children().length>0){b[a.tagName]=b[a.tagName]||[];b[a.tagName].push(this.getUniqueKeyValuePairs(a))}else{b[a.tagName]=this.node_text(a)}}}}return b};var prefInterval=null;var prefChanges=new Object();function setPlayerPref(a,b){prefChanges[a]=b;if(prefInterval){clearInterval(prefInterval)}prefInterval=setInterval(applyPlayerPref,500)}function applyPlayerPref(){for(var a in prefChanges){$.get("/playerpref/"+a+"/"+prefChanges[a])}clearInterval(prefInterval)}function padTwoLeft(a){return(a<10?"0":"")+a};

(function(a){a.fn.junoWidget=function(m,o){var n=this;var f=[[]];var k=0;var g=a.extend({moreHref:"",moreText:"",orientation:"vertical",inJunoPlayer:false,itemSize:"sm",itemsPerPage:6,isWide:true,theme:"light",title:"",ua_location:""},o);(function i(){if(a(n).hasClass("jw")){if(window.console&&console.warn("Warning: specified container already contains a Juno Widget")){}return false}if(empty(m)||m.length==0){return false}b(m);l();if(!g.inJunoPlayer){process_playlist_or_mp3_links(".jw-pages")}a(n).find(".jw-p-page").on("click",function(){e(parseInt(a(this).attr("data-index")))});a(n).find(".jw-forward").on("click",j);a(n).find(".jw-back").on("click",h);if(isTouchSupported()){a(n).on("swiperight",h);a(n).on("swipeleft",j)}})();function b(r){var t=0;var q=0;for(var s=0,p=r.length;s<p;s++){if(t>=g.itemsPerPage){t=0;q++;f[q]=[]}f[q][t]=r[s];t++}}function e(q){k=q;var p=a(n).find(".jw-pages");switch(k){case 1:p.css("left","-100%");break;case 2:p.css("left","-200%");break;case 3:p.css("left","-300%");break;case 4:p.css("left","-400%");break;case 5:p.css("left","-500%");break;case 6:p.css("left","-600%");break;case 7:p.css("left","-700%");break;case 8:p.css("left","-800%");break;case 9:p.css("left","-900%");break;default:p.css("left","0%");break}a(n).find(".jw-p-page").removeClass("current");a(n).find('.jw-p-page[data-index="'+k+'"]').addClass("current");d()}function j(){if(k<f.length-1){k++}else{k=0}e(k)}function h(){if(k>0){k--}else{k=f.length-1}e(k)}function d(){a(a(n).find(".jw-page")[k]).find('.jw-item-image[data-lazy-loaded="false"]').each(function(){var p=a(this).attr("data-src");a(this).attr({src:p,"data-lazy-loaded":"true"})})}function l(){a(n).addClass("jw jw-vertical jwt-"+g.theme);a(n).attr("ua_location",g.ua_location);if(g.orientation==="horizontal"){a(n).removeClass("jw-vertical").addClass("jw-horizontal")}if(!empty(g.moreHref)){var p=a(document.createElement("a")).addClass("jw-more").attr("href",g.moreHref).html(g.moreText).appendTo(n);a(document.createElement("span")).addClass("global_sprite icon-more").appendTo(p)}if(!empty(g.title)){a(document.createElement("h4")).addClass("juno_h4 jw-title").html(g.title).appendTo(n)}a(document.createElement("div")).addClass("clear").appendTo(n);var y=a(document.createElement("div")).addClass("jw-container").appendTo(n);var q=a(document.createElement("div")).addClass("jw-pages jw-pages-"+f.length).appendTo(y);var s=c();for(var v=0,z=f.length;v<z;v++){var A=a(document.createElement("div")).addClass("jw-page").appendTo(q);var E=a(document.createElement("div")).addClass("row no-gutters").appendTo(A);for(var u=0,r=f[v].length;u<r;u++){var D=f[v][u];if(empty(D.track_id)){D.track_id=0}D.price=number_format(D.price,2,".",",");D.lazyLoadImage=(v===0)?false:true;D.cssClasses=s;var t=(g.inJunoPlayer)?tmpl("jw_item_template_player",D):tmpl("jw_item_template",D);E.append(t)}}if(f.length>1){var x=a(document.createElement("div")).addClass("jw-forward").appendTo(n);a(document.createElement("span")).addClass("glyphicon glyphicon-chevron-right").attr("aria-hidden","true").appendTo(x);var C=a(document.createElement("div")).addClass("jw-back").appendTo(n);a(document.createElement("span")).addClass("glyphicon glyphicon-chevron-left").attr("aria-hidden","true").appendTo(C);var w=a(document.createElement("div")).addClass("jw-pagination").appendTo(n);for(var v=0,z=f.length;v<z;v++){var B=a(document.createElement("div")).addClass("jw-p-page").attr("data-index",v).appendTo(w);a(document.createElement("div")).addClass("jw-p-dot").appendTo(B);if(v===k){B.addClass("current")}}}}function c(){var s="";var q=g.orientation==="vertical";var r=g.itemSize==="sm";var u=g.itemSize==="md";var p=g.orientation==="horizontal"&&u;var t=!q&&r;s+=r?"jw-item-sm":"jw-item-md";s+=q?" col-12":"";s+=p?" col-6 col-sm-4":"";if(t){s+=g.isWide?" col-12 col-sm-6 col-md-4 col-lg-3":" col-12 col-sm-6"}return s}return this}}(jQuery));(function(){var b={};this.tmpl=function a(e,d){var c=!/\W/.test(e)?b[e]=b[e]||a(document.getElementById(e).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"',$1,'").split("<%").join("');").split("%>").join("p.push('")+"');}return p.join('');");return d?c(d):c}})();
var query_id;var ddval="q[all][]";$(document).ready(function(){var a="#solr_autocomplete";if(!$(a).length){$("body").append('<div id="'+a.replace("#","")+'"></div>')}$("#juno-main").on("mouseout",".ui-menu-item a",function(e){$(this).removeClass("ui-state-focus")});d();$.widget("custom.catcomplete",$.ui.autocomplete,{_create:function(){var e=this,g=e.options,f=e.element;g.appendTo=a;$.ui.autocomplete.prototype._create.apply(this,arguments);this.element.on("keydown.autocomplete",function(h){var i=$.ui.keyCode;switch(h.keyCode){case i.ENTER:case i.NUMPAD_ENTER:if(e.selectedItem==null){$("#"+f.attr("id")).closest("form").submit()}}})},_renderMenu:function(g,f){if($('meta[property="og:site_name"]').attr("content")=="Juno Download"){g.zIndex(7);if(query_id=="query-start"){g.append("<lh style='height:50px;'><strong style='height:50px;display:block;float:left;clear:all;width:100%;'>Search Juno...</strong></lh>");ddval=$("#search-in-start").val()}else{g.append("<lh style='height:80px;display:block;'><strong>"+$("#"+query_id).attr("title")+"<br/><br/></strong></lh>");ddval=$("#search-in").val()}}else{g.append("<li><div class='dd-space'></div></li>")}var h=this,e="",i="";$.each(f,function(j,k){if(k.category!=e){g.append("<li class='ui-autocomplete-category'><span class='global_sprite ac-icon ac-icon-"+k.category+"'></span><strong>"+k.category+"</strong></li>")}e=k.category;h._renderItemData(g,k);if(query_id=="query-start"){$("html body#juno-main ul.ui-autocomplete").css("min-width","245px")}else{$("html body#juno-main ul.ui-autocomplete").css("width","197px");$("html body#juno-main ul.ui-autocomplete li div.dd-space").css("margin-left","58px")}})}});var b=function(f){var e="left-10 top-24";if($('meta[property="og:site_name"]').attr("content")=="Juno Records"){if(query_id=="query-start"){e="left top+36"}else{e="left top+22"}}$("#"+f).catcomplete({source:"/noauto/autocomplete.php?type="+ddval,minLength:1,delay:300,position:{my:e,at:"left top",collision:"none"},select:function(h,i){var g;switch(i.item.category){case"Popular Searches":$("#"+f).attr("name","q[all][]");$("#"+f).val(i.item.label);g="popular";break;case"Labels":$("#"+f).attr("name","q[label][]");$("#"+f).val('"'+i.item.label+'"');g="labels";break;case"Artists":$("#"+f).attr("name","q[artist][]");g="artists";$("#"+f).val('"'+i.item.label+'"');break;case"Titles":$("#"+f).attr("name","q[title][]");g="titles";$("#"+f).val('"'+i.item.label+'"');break;case"Brands":$("#"+f).attr("name","q[brand][]");g="brands";$("#"+f).val('"'+i.item.label+'"');break;case"Products":$("#"+f).attr("name","q[equipment_title][]");g="equipment_titles";$("#"+f).val('"'+i.item.label+'"');break;case"Equipment":$("#"+f).attr("name","facet[equipment_class_string][]");g="equipment_class";$("#"+f).val(""+i.item.label+"");break}ga("send","event","search_facet","suggest",g);if(f=="query-start"){$("#search-term-start").submit()}else{$("#search-term").submit()}}});d(f)};$(".default-search-text").focus(function(e){if($(this).val()==$(this)[0].title){$(this).removeClass("default-search-text-active");if($(this).val()=="Search Juno..."||$(this).val()=="Search Within Results ..."||$(this).val()=="Search All Downloads.."){$(this).val("")}}query_id=$(this).attr("id");if(query_id=="query-start"&&window["start_autocomplete_"+query_id]==undefined){window["start_autocomplete_"+query_id]=true;b(query_id)}});$(".default-search-text").blur(function(){if($(this).val()==""){$(this).addClass("default-search-text-active");$(this).val($(this)[0].title)}});$(".default-search-text").blur();function d(e){e=(!empty(e))?e:null;if(website()=="junorecords"){$("#search-in-start .dropdown-item").click(function(){ddval=$(this).attr("data-value");$("#search-in").val(ddval);$("#query").attr("name",ddval);c(e)});$("#search-in").change(function(){ddval=$(this).val();$("#query-start").attr("name",ddval);$(".search-in-btn").html($(this).find("option:selected").html());c(e)})}else{$("#search-in-start, #search-in").change(function(){ddval=$(this).val();if($(this).attr("id")=="search-in-start"){$("#search-in").val(ddval);$("#query").attr("name",ddval)}else{$("#search-in-start").val(ddval);$("#query-start").attr("name",ddval)}c(e)})}}function c(e){if(!empty(e)){$("#"+e).catcomplete({source:"/noauto/autocomplete.php?type="+ddval})}}if(navigator.userAgent.indexOf("Mac")>0){if(navigator.userAgent.indexOf("AppleWebKit")>0){$("#search-in-start").addClass("mac_os_webkit")}else{$("#search-in-start").addClass("mac_os")}}});
var ultraplayer_window="";var ultraplayer_loaded=false;var mobile=navigator.userAgent.match(/iPhone|iPod|iPad|Android/i);$(window).load(function(){process_playlist_or_mp3_links()});function process_playlist_or_mp3_links(a){if(a&&a.length>0){a=a+" "}else{a=""}$(a+"a[href]").each(function(){if(this.processed){return true}this.processed=true;if(this.href.match(/.+\.(m3u|mp3)/gi)){if(typeof use_ultraplayer!=="undefined"&&use_ultraplayer){if($(this).hasClass("ultraplayer_play")||$(this).hasClass("ultraplayer_cue")){$(this).on("click",function(c){if(use_miniplayer==0){uaAddEvent(c);return true}var b=true;if($(this).attr("rel")&&parseInt($(this).attr("rel"))==$(this).attr("rel")){var d=$(this).attr("rel");if(d>20&&!confirm("This will add "+d+" tracks to your playlist. Continue?")){b=false}}if(b){uaAddEvent(c);open_ultraplayer_window(add_item,this)}return false})}}else{$(this).on("click",function(b){uaAddEvent(b);return load_playlist(this.href)})}}else{if(this.href.match(/flashplayer\/[a-zA-Z_0-9]{32}/gi)){if(typeof use_ultraplayer!=="undefined"&&use_ultraplayer){if($(this).hasClass("ultraplayer_play")||$(this).hasClass("ultraplayer_cue")){$(this).removeAttr("onclick");$(this).on("click",function(c){var b=true;if($(this).attr("rel")&&parseInt($(this).attr("rel"))==$(this).attr("rel")){var d=$(this).attr("rel");if(d>20&&!confirm("This will add "+d+" tracks to your playlist. Continue?")){b=false}}if(b){uaAddEvent(c);open_ultraplayer_window(add_item,this)}return false})}}}else{if($(this).hasClass("ua_event")){$(this).on("click",function(b){uaAddEvent(b);return true})}}}})}open_ultraplayer_window=function(d,b){ultraplayer_window=window.open("","ultraplayer_window","height=400,width=600,scrollbars=0,resizable=0");var c;try{c=ultraplayer_window.location+""}catch(f){c=""}if(typeof(c)=="undefined"){c=""}if(c.length<15){var a="";if(b){var g=get_link_details(b);if(g[0]==""){a=g[1]+".m3u?r="+g[2]+"&c="+g[3]+"&s="+g[4]}else{a=g[0]+"?r=0&c=0"}}ultraplayer_window.location=url_nonsecure+"/ultraplayer/"+a}else{d(b)}if(navigator.userAgent.indexOf("Chrome/")>0){ultraplayer_window.blur()}ultraplayer_window.focus()};get_link_details=function(g){var h="";var b="";addVisited(g);if(g.href.match(/flashplayer\/[a-zA-Z_0-9]{32}/gi)){var e=g.href.split("/").reverse();e.shift();var d=e.shift()}else{if(g.href.match(/([a-zA-Z_0-9]{32}).m3u/gi)){var d=g.href.split("/").reverse().shift().split(".").shift()}else{var d=g.href.split("/").reverse().shift().split(".").shift().replace(/SF/g,"").split("-")}}if((d instanceof Array)){if(d[0]<1000000){b=d[0]+"-"+d[1]}else{b=d.join("-")}if(d.length==3){var i="1-"+d[2]}if(d.length==4){var i=d[2]+"-"+d[3]}}else{if(d.length==32){h=d}}var f=$(g).hasClass("is_release")+0;var c=$(g).hasClass("ultraplayer_cue")+0;i=(typeof(i)=="undefined")?"":i;return[h,b,f,c,i]};add_item=function(a){var b=get_link_details(a);ultraplayer_window.addTrack(b[0],b[1],b[2],b[3],b[4]);ultraplayer_window.focus()};load_playlist=function(a){if(a.match(/.+\.m3u/gi)){return load_m3u_playlist(a)}else{return load_mp3_playlist(a)}};load_mp3_playlist=function(e){if(use_miniplayer){addVisited(e);var a=e.replace(mp3_url,"");var c="/miniflashplayer/"+a;var d=185;var b=640;if(navigator.userAgent.indexOf("Chrome/")>0){if(window.player){window.player.blur()}}window.player=window.open(url_nonsecure+c,"MiniPlayer","height="+d+",width="+b+",scrollbars=0,resizable=0");window.player.focus();return false}else{return true}};load_m3u_playlist=function(b){var d=b.split("/").reverse().shift().split(".").shift();if(use_miniplayer){addVisited(b);if(d.length==32){var a="/miniflashplayer/"+d+".mp3"}else{var a="/miniflashplayer/"+d+".m3u"}}else{var a="/playlists/builder/"+d+".m3u"}var c=window.open(url_nonsecure+a,"MiniPlayer","height=185,width=640,scrollbars=0,resizable=0");c.focus();return false};use_juno_player=function(a){window.use_miniplayer=a;$.get(url_nonsecure+"/account/use-miniplayer/"+a);drop_down_hide_delay("player_dropdown","");if(a==0){$("#playlist_option_play").css("display","none");$("#playlist_option_cue").css("display","none")}else{$("#playlist_option_play").css("display","block");$("#playlist_option_cue").css("display","block")}return false};
